/*! For license information please see main.ff7208c7.js.LICENSE.txt */
(()=>{var e={828:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},16:e=>{!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?n.push(t.charAt(i>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},837:e=>{function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},536:function(e,t,n){var r;e=n.nmd(e),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,u=32,c=64,h=128,f=256,d=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",f]],v="[object Arguments]",w="[object Array]",b="[object Boolean]",E="[object Date]",A="[object Error]",x="[object Function]",S="[object GeneratorFunction]",k="[object Map]",C="[object Number]",_="[object Object]",T="[object Promise]",N="[object RegExp]",I="[object Set]",P="[object String]",O="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",B="[object Float32Array]",F="[object Float64Array]",M="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",G="[object Uint32Array]",Q=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,J=RegExp(W.source),Y=RegExp($.source),X=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ie.source),oe=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ae=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",_e="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ne="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Oe="["+Se+"]",Re="["+Ie+"]",De="["+ke+"]",Le="\\d+",Be="["+Ce+"]",Fe="["+_e+"]",Me="[^"+Se+Ie+Le+Ce+_e+Te+"]",je="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Se+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Te+"]",Ge="\\u200d",Qe="(?:"+Fe+"|"+Me+")",qe="(?:"+He+"|"+Me+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",We="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+De+"|"+je+")"+"?",Je="["+Ne+"]?",Ye=Je+$e+("(?:"+Ge+"(?:"+[Ue,ze,Ve].join("|")+")"+Je+$e+")*"),Xe="(?:"+[Be,ze,Ve].join("|")+")"+Ye,Ze="(?:"+[Ue+De+"?",De,ze,Ve,Oe].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(De,"g"),nt=RegExp(je+"(?="+je+")|"+Ze+Ye,"g"),rt=RegExp([He+"?"+Fe+"+"+Ke+"(?="+[Re,He,"$"].join("|")+")",qe+"+"+We+"(?="+[Re,He+Qe,"$"].join("|")+")",He+"?"+Qe+"+"+Ke,He+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Xe].join("|"),"g"),it=RegExp("["+Ge+Se+ke+Ne+"]"),st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[B]=lt[F]=lt[M]=lt[j]=lt[U]=lt[z]=lt[V]=lt[H]=lt[G]=!0,lt[v]=lt[w]=lt[D]=lt[b]=lt[L]=lt[E]=lt[A]=lt[x]=lt[k]=lt[C]=lt[_]=lt[N]=lt[I]=lt[P]=lt[R]=!1;var ut={};ut[v]=ut[w]=ut[D]=ut[L]=ut[b]=ut[E]=ut[B]=ut[F]=ut[M]=ut[j]=ut[U]=ut[k]=ut[C]=ut[_]=ut[N]=ut[I]=ut[P]=ut[O]=ut[z]=ut[V]=ut[H]=ut[G]=!0,ut[A]=ut[x]=ut[R]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,ft=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=dt||pt||Function("return this")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,wt=vt&&dt.process,bt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||wt&&wt.binding&&wt.binding("util")}catch(t){}}(),Et=bt&&bt.isArrayBuffer,At=bt&&bt.isDate,xt=bt&&bt.isMap,St=bt&&bt.isRegExp,kt=bt&&bt.isSet,Ct=bt&&bt.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Rt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Bt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Kt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Qt,n)}function Gt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Qt(e){return e!==e}function qt(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:g}function Kt(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function $t(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Jt(e,t){for(var n,r=-1,s=e.length;++r<s;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var sn=Wt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function ln(e){return it.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];o!==t&&o!==a||(e[n]=a,s[i++]=n)}return s}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function gn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var yn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,ot))).Array,r=t.Date,ae=t.Error,Se=t.Function,ke=t.Math,Ce=t.Object,_e=t.RegExp,Te=t.String,Ne=t.TypeError,Ie=n.prototype,Pe=Se.prototype,Oe=Ce.prototype,Re=t["__core-js_shared__"],De=Pe.toString,Le=Oe.hasOwnProperty,Be=0,Fe=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=Oe.toString,je=De.call(Ce),Ue=gt._,ze=_e("^"+De.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=vt?t.Buffer:i,He=t.Symbol,Ge=t.Uint8Array,Qe=Ve?Ve.allocUnsafe:i,qe=cn(Ce.getPrototypeOf,Ce),Ke=Ce.create,We=Oe.propertyIsEnumerable,$e=Ie.splice,Je=He?He.isConcatSpreadable:i,Ye=He?He.iterator:i,Xe=He?He.toStringTag:i,Ze=function(){try{var e=hs(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,it=r&&r.now!==gt.Date.now&&r.now,ct=t.setTimeout!==gt.setTimeout&&t.setTimeout,dt=ke.ceil,pt=ke.floor,mt=Ce.getOwnPropertySymbols,yt=Ve?Ve.isBuffer:i,wt=t.isFinite,bt=Ie.join,Ut=cn(Ce.keys,Ce),Wt=ke.max,wn=ke.min,bn=r.now,En=t.parseInt,An=ke.random,xn=Ie.reverse,Sn=hs(t,"DataView"),kn=hs(t,"Map"),Cn=hs(t,"Promise"),_n=hs(t,"Set"),Tn=hs(t,"WeakMap"),Nn=hs(Ce,"create"),In=Tn&&new Tn,Pn={},On=Fs(Sn),Rn=Fs(kn),Dn=Fs(Cn),Ln=Fs(_n),Bn=Fs(Tn),Fn=He?He.prototype:i,Mn=Fn?Fn.valueOf:i,jn=Fn?Fn.toString:i;function Un(e){if(ta(e)&&!Go(e)&&!(e instanceof Gn)){if(e instanceof Hn)return e;if(Le.call(e,"__wrapped__"))return Ms(e)}return new Hn(e)}var zn=function(){function e(){}return function(t){if(!ea(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new qn(e);this.size=t.size}function Jn(e,t){var n=Go(e),r=!n&&Ho(e),i=!n&&!r&&Wo(e),s=!n&&!r&&!i&&ua(e),o=n||r||i||s,a=o?Yt(e.length,Te):[],l=a.length;for(var u in e)!t&&!Le.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vs(u,l))||a.push(u);return a}function Yn(e){var t=e.length;return t?e[Wr(0,t-1)]:i}function Xn(e,t){return Ds(Ni(e),ar(t,0,e.length))}function Zn(e){return Ds(Ni(e))}function er(e,t,n){(n!==i&&!Uo(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Uo(r,n)&&(n!==i||t in e)||sr(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Uo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return fr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function ir(e,t){return e&&Ii(t,Pa(t),e)}function sr(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,s=t.length,o=n(s),a=null==e;++r<s;)o[r]=a?i:Ca(e,t[r]);return o}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,s,o){var a,l=1&t,u=2&t,c=4&t;if(n&&(a=s?n(e,r,s,o):n(e)),a!==i)return a;if(!ea(e))return e;var h=Go(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ni(e,a)}else{var f=ps(e),d=f==x||f==S;if(Wo(e))return xi(e,l);if(f==_||f==v||d&&!s){if(a=u||d?{}:ms(e),!l)return u?function(e,t){return Ii(e,ds(e),t)}(e,function(e,t){return e&&Ii(t,Oa(t),e)}(a,e)):function(e,t){return Ii(e,fs(e),t)}(e,ir(a,e))}else{if(!ut[f])return s?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case D:return Si(e);case b:case E:return new r(+e);case L:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case B:case F:case M:case j:case U:case z:case V:case H:case G:return ki(e,n);case k:return new r;case C:case P:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case O:return i=e,Mn?Ce(Mn.call(i)):{}}var i}(e,f,l)}}o||(o=new $n);var p=o.get(e);if(p)return p;o.set(e,a),oa(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,o))})):na(e)&&e.forEach((function(r,i){a.set(i,lr(r,t,n,i,e,o))}));var g=h?i:(c?u?is:rs:u?Oa:Pa)(e);return Nt(g||e,(function(r,i){g&&(r=e[i=r]),tr(a,i,lr(r,t,n,i,e,o))})),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var s=n[r],o=t[s],a=e[s];if(a===i&&!(s in e)||!o(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ne(s);return Is((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,s=Rt,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=Lt(t,Zt(n))),r?(s=Dt,o=!1):t.length>=200&&(s=tn,o=!1,t=new Wn(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h===h){for(var f=u;f--;)if(t[f]===h)continue e;l.push(c)}else s(t,h,r)||l.push(c)}return l}Un.templateSettings={escape:X,evaluate:Z,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Vn.prototype,Un.prototype.constructor=Un,Hn.prototype=zn(Vn.prototype),Hn.prototype.constructor=Hn,Gn.prototype=zn(Vn.prototype),Gn.prototype.constructor=Gn,Qn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Qn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Le.call(t,e)},Qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?o:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Qn,map:new(kn||qn),string:new Qn}},Kn.prototype.delete=function(e){var t=us(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return us(this,e).get(e)},Kn.prototype.has=function(e){return us(this,e).has(e)},Kn.prototype.set=function(e,t){var n=us(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,o),this},Wn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new qn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var fr=Ri(br),dr=Ri(Er,!0);function pr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=t(o);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,u=o}return u}function mr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ys),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):Bt(i,a):r||(i[i.length]=a)}return i}var vr=Di(),wr=Di(!0);function br(e,t){return e&&vr(e,t,Pa)}function Er(e,t){return e&&wr(e,t,Pa)}function Ar(e,t){return Ot(t,(function(t){return Yo(e[t])}))}function xr(e,t){for(var n=0,r=(t=wi(t,e)).length;null!=e&&n<r;)e=e[Bs(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Go(e)?r:Bt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Xe&&Xe in Ce(e)?function(e){var t=Le.call(e,Xe),n=e[Xe];try{e[Xe]=i;var r=!0}catch(o){}var s=Me.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return s}(e):function(e){return Me.call(e)}(e)}function Cr(e,t){return e>t}function _r(e,t){return null!=e&&Le.call(e,t)}function Tr(e,t){return null!=e&&t in Ce(e)}function Nr(e,t,r){for(var s=r?Dt:Rt,o=e[0].length,a=e.length,l=a,u=n(a),c=1/0,h=[];l--;){var f=e[l];l&&t&&(f=Lt(f,Zt(t))),c=wn(f.length,c),u[l]=!r&&(t||o>=120&&f.length>=120)?new Wn(l&&f):i}f=e[0];var d=-1,p=u[0];e:for(;++d<o&&h.length<c;){var g=f[d],m=t?t(g):g;if(g=r||0!==g?g:0,!(p?tn(p,m):s(h,m,r))){for(l=a;--l;){var y=u[l];if(!(y?tn(y,m):s(e[l],m,r)))continue e}p&&p.push(m),h.push(g)}}return h}function Ir(e,t,n){var r=null==(e=_s(e,t=wi(t,e)))?e:e[Bs($s(t))];return null==r?i:_t(r,e,n)}function Pr(e){return ta(e)&&kr(e)==v}function Or(e,t,n,r,s){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,s,o){var a=Go(e),l=Go(t),u=a?w:ps(e),c=l?w:ps(t),h=(u=u==v?_:u)==_,f=(c=c==v?_:c)==_,d=u==c;if(d&&Wo(e)){if(!Wo(t))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new $n),a||ua(e)?ts(e,t,n,r,s,o):function(e,t,n,r,i,s,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!s(new Ge(e),new Ge(t)));case b:case E:case C:return Uo(+e,+t);case A:return e.name==t.name&&e.message==t.message;case N:case P:return e==t+"";case k:var a=un;case I:var l=1&r;if(a||(a=fn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=ts(a(e),a(t),r,i,s,o);return o.delete(e),c;case O:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,u,n,r,s,o);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),g=f&&Le.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return o||(o=new $n),s(m,y,n,r,o)}}if(!d)return!1;return o||(o=new $n),function(e,t,n,r,s,o){var a=1&n,l=rs(e),u=l.length,c=rs(t),h=c.length;if(u!=h&&!a)return!1;var f=u;for(;f--;){var d=l[f];if(!(a?d in t:Le.call(t,d)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);var y=a;for(;++f<u;){var v=e[d=l[f]],w=t[d];if(r)var b=a?r(w,v,d,t,e,o):r(v,w,d,e,t,o);if(!(b===i?v===w||s(v,w,n,r,o):b)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var E=e.constructor,A=t.constructor;E==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof A&&A instanceof A||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,s,o)}(e,t,n,r,Or,s))}function Rr(e,t,n,r){var s=n.length,o=s,a=!r;if(null==e)return!o;for(e=Ce(e);s--;){var l=n[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var u=(l=n[s])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===i&&!(u in e))return!1}else{var f=new $n;if(r)var d=r(c,h,u,e,t,f);if(!(d===i?Or(h,c,3,r,f):d))return!1}}return!0}function Dr(e){return!(!ea(e)||(t=e,Fe&&Fe in t))&&(Yo(e)?ze:ve).test(Fs(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Go(e)?zr(e[0],e[1]):Ur(e):fl(e)}function Br(e){if(!xs(e))return Ut(e);var t=[];for(var n in Ce(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=xs(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function jr(e,t){var r=-1,i=qo(e)?n(e.length):[];return fr(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function Ur(e){var t=cs(e);return 1==t.length&&t[0][2]?ks(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function zr(e,t){return bs(e)&&Ss(t)?ks(Bs(e),t):function(n){var r=Ca(n,e);return r===i&&r===t?_a(n,e):Or(t,r,3)}}function Vr(e,t,n,r,s){e!==t&&vr(t,(function(o,a){if(s||(s=new $n),ea(o))!function(e,t,n,r,s,o,a){var l=Ts(e,n),u=Ts(t,n),c=a.get(u);if(c)return void er(e,n,c);var h=o?o(l,u,n+"",e,t,a):i,f=h===i;if(f){var d=Go(u),p=!d&&Wo(u),g=!d&&!p&&ua(u);h=u,d||p||g?Go(l)?h=l:Ko(l)?h=Ni(l):p?(f=!1,h=xi(u,!0)):g?(f=!1,h=ki(u,!0)):h=[]:ia(u)||Ho(u)?(h=l,Ho(l)?h=ya(l):ea(l)&&!Yo(l)||(h=ms(u))):f=!1}f&&(a.set(u,h),s(h,u,r,o,a),a.delete(u));er(e,n,h)}(e,t,a,n,Vr,r,s);else{var l=r?r(Ts(e,a),o,a+"",e,t,s):i;l===i&&(l=o),er(e,a,l)}}),Oa)}function Hr(e,t){var n=e.length;if(n)return vs(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Lt(t,(function(e){return Go(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Lt(t,Zt(ls()));var i=jr(e,(function(e,n,i){var s=Lt(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;for(;++r<o;){var l=Ci(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Qr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=xr(e,o);n(a,o)&&Zr(s,wi(o,e),a)}return s}function qr(e,t,n,r){var i=r?Gt:Ht,s=-1,o=t.length,a=e;for(e===t&&(t=Ni(t)),n&&(a=Lt(e,Zt(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&$e.call(a,l,1),$e.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;vs(i)?$e.call(e,i,1):hi(e,i)}}return e}function Wr(e,t){return e+pt(An()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Ps(Cs(e,t,rl),e+"")}function Yr(e){return Yn(Ua(e))}function Xr(e,t){var n=Ua(e);return Ds(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var s=-1,o=(t=wi(t,e)).length,a=o-1,l=e;null!=l&&++s<o;){var u=Bs(t[s]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=ea(h)?h:vs(t[s+1])?[]:{})}tr(l,u,c),l=l[u]}return e}var ei=In?function(e,t){return In.set(e,t),e}:rl,ti=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Ds(Ua(e))}function ri(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=n(s);++i<s;)o[i]=e[i+t];return o}function ii(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!la(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return oi(e,t,rl,n)}function oi(e,t,n,r){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!==t,l=null===t,u=la(t),c=t===i;s<o;){var h=pt((s+o)/2),f=n(e[h]),d=f!==i,p=null===f,g=f===f,m=la(f);if(a)var y=r||g;else y=c?g&&(r||d):l?g&&d&&(r||!p):u?g&&d&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?s=h+1:o=h}return wn(o,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Uo(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function li(e){return"number"==typeof e?e:la(e)?g:+e}function ui(e){if("string"==typeof e)return e;if(Go(e))return Lt(e,ui)+"";if(la(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=Rt,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Dt;else if(s>=200){var u=t?null:$i(e);if(u)return fn(u);o=!1,i=tn,l=new Wn}else l=t?[]:a;e:for(;++r<s;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function hi(e,t){return null==(e=_s(e,t=wi(t,e)))||delete e[Bs($s(t))]}function fi(e,t,n,r){return Zr(e,t,n(xr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ri(e,r?0:s,r?s+1:i):ri(e,r?s+1:0,r?i:s)}function pi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Bt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=e[s],l=-1;++l<i;)l!=s&&(o[s]=hr(o[s]||a,e[l],t,r));return ci(yr(o,1),t,r)}function mi(e,t,n){for(var r=-1,s=e.length,o=t.length,a={};++r<s;){var l=r<o?t[r]:i;n(a,e[r],l)}return a}function yi(e){return Ko(e)?e:[]}function vi(e){return"function"==typeof e?e:rl}function wi(e,t){return Go(e)?e:bs(e,t)?[e]:Ls(va(e))}var bi=Jr;function Ei(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Ai=nt||function(e){return gt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=Qe?Qe(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function ki(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,s=e===e,o=la(e),a=t!==i,l=null===t,u=t===t,c=la(t);if(!l&&!c&&!o&&e>t||o&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!s)return 1;if(!r&&!o&&!c&&e<t||c&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!u)return-1}return 0}function _i(e,t,r,i){for(var s=-1,o=e.length,a=r.length,l=-1,u=t.length,c=Wt(o-a,0),h=n(u+c),f=!i;++l<u;)h[l]=t[l];for(;++s<a;)(f||s<o)&&(h[r[s]]=e[s]);for(;c--;)h[l++]=e[s++];return h}function Ti(e,t,r,i){for(var s=-1,o=e.length,a=-1,l=r.length,u=-1,c=t.length,h=Wt(o-l,0),f=n(h+c),d=!i;++s<h;)f[s]=e[s];for(var p=s;++u<c;)f[p+u]=t[u];for(;++a<l;)(d||s<o)&&(f[p+r[a]]=e[s++]);return f}function Ni(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ii(e,t,n,r){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var l=t[o],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),s?sr(n,l,u):tr(n,l,u)}return n}function Pi(e,t){return function(n,r){var i=Go(n)?Tt:rr,s=t?t():{};return i(n,e,ls(r,2),s)}}function Oi(e){return Jr((function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(s--,o):i,a&&ws(n[0],n[1],a)&&(o=s<3?i:o,s=1),t=Ce(t);++r<s;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!qo(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Ce(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Di(e){return function(t,n,r){for(var i=-1,s=Ce(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function Li(e){return function(t){var n=ln(t=va(t))?gn(t):i,r=n?n[0]:t.charAt(0),s=n?Ei(n,1).join(""):t.slice(1);return r[e]()+s}}function Bi(e){return function(t){return Ft(Ya(Ha(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Mi(e){return function(t,n,r){var s=Ce(t);if(!qo(t)){var o=ls(n,3);t=Pa(t),n=function(e){return o(s[e],e,s)}}var a=e(t,n,r);return a>-1?s[o?t[a]:a]:i}}function ji(e){return ns((function(t){var n=t.length,r=n,o=Hn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ne(s);if(o&&!l&&"wrapper"==os(a))var l=new Hn([],!0)}for(r=l?r:n;++r<n;){var u=os(a=t[r]),c="wrapper"==u?ss(a):i;l=c&&Es(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[os(c[0])].apply(l,c[3]):1==a.length&&Es(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Go(r))return l.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Ui(e,t,r,s,o,a,l,u,c,f){var d=t&h,p=1&t,g=2&t,m=24&t,y=512&t,v=g?i:Fi(e);return function h(){for(var w=arguments.length,b=n(w),E=w;E--;)b[E]=arguments[E];if(m)var A=as(h),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,A);if(s&&(b=_i(b,s,o,m)),a&&(b=Ti(b,a,l,m)),w-=x,m&&w<f){var S=hn(b,A);return Ki(e,t,Ui,h.placeholder,r,b,S,u,c,f-w)}var k=p?r:this,C=g?k[e]:e;return w=b.length,u?b=function(e,t){var n=e.length,r=wn(t.length,n),s=Ni(e);for(;r--;){var o=t[r];e[r]=vs(o,n)?s[o]:i}return e}(b,u):y&&w>1&&b.reverse(),d&&c<w&&(b.length=c),this&&this!==gt&&this instanceof h&&(C=v||Fi(C)),C.apply(k,b)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var s;if(n===i&&r===i)return t;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=li(n),r=li(r)),s=e(n,r)}return s}}function Hi(e){return ns((function(t){return t=Lt(t,Zt(ls())),Jr((function(n){var r=this;return e(t,(function(e){return _t(e,r,n)}))}))}))}function Gi(e,t){var n=(t=t===i?" ":ui(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,dt(e/pn(t)));return ln(t)?Ei(gn(r),0,e).join(""):r.slice(0,e)}function Qi(e){return function(t,r,s){return s&&"number"!=typeof s&&ws(t,r,s)&&(r=s=i),t=da(t),r===i?(r=t,t=0):r=da(r),function(e,t,r,i){for(var s=-1,o=Wt(dt((t-e)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=e,e+=r;return a}(t,r,s=s===i?t<r?1:-1:da(s),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Ki(e,t,n,r,s,o,a,l,h,f){var d=8&t;t|=d?u:c,4&(t&=~(d?c:u))||(t&=-4);var p=[e,t,s,d?o:i,d?a:i,d?i:o,d?i:a,l,h,f],g=n.apply(i,p);return Es(e)&&Ns(g,p),g.placeholder=r,Os(g,e,t)}function Wi(e){var t=ke[e];return function(e,n){if(e=ma(e),(n=null==n?0:wn(pa(n),292))&&wt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=_n&&1/fn(new _n([,-0]))[1]==d?function(e){return new _n(e)}:ll;function Ji(e){return function(t){var n=ps(t);return n==k?un(t):n==I?dn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,r,o,d,p,g,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ne(s);var v=o?o.length:0;if(v||(t&=-97,o=d=i),g=g===i?g:Wt(pa(g),0),m=m===i?m:pa(m),v-=d?d.length:0,t&c){var w=o,b=d;o=d=i}var E=y?i:ss(e),A=[e,t,r,o,d,w,b,p,g,m];if(E&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,o=r==h&&8==n||r==h&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?_i(u,l,t[4]):l,e[4]=u?hn(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ti(u,l,t[6]):l,e[6]=u?hn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&h&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(A,E),e=A[0],t=A[1],r=A[2],o=A[3],d=A[4],!(m=A[9]=A[9]===i?y?0:e.length:Wt(A[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,r){var s=Fi(e);return function o(){for(var a=arguments.length,l=n(a),u=a,c=as(o);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:hn(l,c);return(a-=h.length)<r?Ki(e,t,Ui,o.placeholder,i,l,h,i,i,r-a):_t(this&&this!==gt&&this instanceof o?s:e,this,l)}}(e,t,m):t!=u&&33!=t||d.length?Ui.apply(i,A):function(e,t,r,i){var s=1&t,o=Fi(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=n(c+l),f=this&&this!==gt&&this instanceof t?o:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return _t(f,s?r:this,h)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Os((E?ei:Ns)(x,A),e,t)}function Xi(e,t,n,r){return e===i||Uo(e,Oe[n])&&!Le.call(r,n)?t:e}function Zi(e,t,n,r,s,o){return ea(e)&&ea(t)&&(o.set(t,e),Vr(e,t,i,Zi,o),o.delete(t)),e}function es(e){return ia(e)?i:e}function ts(e,t,n,r,s,o){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&n?new Wn:i;for(o.set(e,t),o.set(t,e);++f<l;){var g=e[f],m=t[f];if(r)var y=a?r(m,g,f,t,e,o):r(g,m,f,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!jt(t,(function(e,t){if(!tn(p,t)&&(g===e||s(g,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ns(e){return Ps(Cs(e,i,Gs),e+"")}function rs(e){return Sr(e,Pa,fs)}function is(e){return Sr(e,Oa,ds)}var ss=In?function(e){return In.get(e)}:ll;function os(e){for(var t=e.name+"",n=Pn[t],r=Le.call(Pn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function as(e){return(Le.call(Un,"placeholder")?Un:e).placeholder}function ls(){var e=Un.iteratee||il;return e=e===il?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function us(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function cs(e){for(var t=Pa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ss(i)]}return t}function hs(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Dr(n)?n:i}var fs=mt?function(e){return null==e?[]:(e=Ce(e),Ot(mt(e),(function(t){return We.call(e,t)})))}:gl,ds=mt?function(e){for(var t=[];e;)Bt(t,fs(e)),e=qe(e);return t}:gl,ps=kr;function gs(e,t,n){for(var r=-1,i=(t=wi(t,e)).length,s=!1;++r<i;){var o=Bs(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Zo(i)&&vs(o,i)&&(Go(e)||Ho(e))}function ms(e){return"function"!=typeof e.constructor||xs(e)?{}:zn(qe(e))}function ys(e){return Go(e)||Ho(e)||!!(Je&&e&&e[Je])}function vs(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ws(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?qo(n)&&vs(t,n.length):"string"==r&&t in n)&&Uo(n[t],e)}function bs(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function Es(e){var t=os(e),n=Un[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ss(n);return!!r&&e===r[0]}(Sn&&ps(new Sn(new ArrayBuffer(1)))!=L||kn&&ps(new kn)!=k||Cn&&ps(Cn.resolve())!=T||_n&&ps(new _n)!=I||Tn&&ps(new Tn)!=R)&&(ps=function(e){var t=kr(e),n=t==_?e.constructor:i,r=n?Fs(n):"";if(r)switch(r){case On:return L;case Rn:return k;case Dn:return T;case Ln:return I;case Bn:return R}return t});var As=Re?Yo:ml;function xs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ss(e){return e===e&&!ea(e)}function ks(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Cs(e,t,r){return t=Wt(t===i?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=Wt(i.length-t,0),a=n(o);++s<o;)a[s]=i[t+s];s=-1;for(var l=n(t+1);++s<t;)l[s]=i[s];return l[t]=r(a),_t(e,this,l)}}function _s(e,t){return t.length<2?e:xr(e,ri(t,0,-1))}function Ts(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ns=Rs(ei),Is=ct||function(e,t){return gt.setTimeout(e,t)},Ps=Rs(ti);function Os(e,t,n){var r=t+"";return Ps(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Nt(y,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Rs(e){var t=0,n=0;return function(){var r=bn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ds(e,t){var n=-1,r=e.length,s=r-1;for(t=t===i?r:t;++n<t;){var o=Wr(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Ls=function(e){var t=Do(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Bs(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fs(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ms(e){if(e instanceof Gn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var js=Jr((function(e,t){return Ko(e)?hr(e,yr(t,1,Ko,!0)):[]})),Us=Jr((function(e,t){var n=$s(t);return Ko(n)&&(n=i),Ko(e)?hr(e,yr(t,1,Ko,!0),ls(n,2)):[]})),zs=Jr((function(e,t){var n=$s(t);return Ko(n)&&(n=i),Ko(e)?hr(e,yr(t,1,Ko,!0),i,n):[]}));function Vs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Wt(r+i,0)),Vt(e,ls(t,3),i)}function Hs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==i&&(s=pa(n),s=n<0?Wt(r+s,0):wn(s,r-1)),Vt(e,ls(t,3),s,!0)}function Gs(e){return(null==e?0:e.length)?yr(e,1):[]}function Qs(e){return e&&e.length?e[0]:i}var qs=Jr((function(e){var t=Lt(e,yi);return t.length&&t[0]===e[0]?Nr(t):[]})),Ks=Jr((function(e){var t=$s(e),n=Lt(e,yi);return t===$s(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,ls(t,2)):[]})),Ws=Jr((function(e){var t=$s(e),n=Lt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function $s(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Js=Jr(Ys);function Ys(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var Xs=ns((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Kr(e,Lt(t,(function(e){return vs(e,n)?+e:e})).sort(Ci)),r}));function Zs(e){return null==e?e:xn.call(e)}var eo=Jr((function(e){return ci(yr(e,1,Ko,!0))})),to=Jr((function(e){var t=$s(e);return Ko(t)&&(t=i),ci(yr(e,1,Ko,!0),ls(t,2))})),no=Jr((function(e){var t=$s(e);return t="function"==typeof t?t:i,ci(yr(e,1,Ko,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ko(e))return t=Wt(e.length,t),!0})),Yt(t,(function(t){return Lt(e,Kt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Lt(n,(function(e){return _t(t,i,e)}))}var so=Jr((function(e,t){return Ko(e)?hr(e,t):[]})),oo=Jr((function(e){return gi(Ot(e,Ko))})),ao=Jr((function(e){var t=$s(e);return Ko(t)&&(t=i),gi(Ot(e,Ko),ls(t,2))})),lo=Jr((function(e){var t=$s(e);return t="function"==typeof t?t:i,gi(Ot(e,Ko),i,t)})),uo=Jr(ro);var co=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function ho(e){var t=Un(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=ns((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&vs(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(s)}));var go=Pi((function(e,t,n){Le.call(e,n)?++e[n]:sr(e,n,1)}));var mo=Mi(Vs),yo=Mi(Hs);function vo(e,t){return(Go(e)?Nt:fr)(e,ls(t,3))}function wo(e,t){return(Go(e)?It:dr)(e,ls(t,3))}var bo=Pi((function(e,t,n){Le.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Eo=Jr((function(e,t,r){var i=-1,s="function"==typeof t,o=qo(e)?n(e.length):[];return fr(e,(function(e){o[++i]=s?_t(t,e,r):Ir(e,t,r)})),o})),Ao=Pi((function(e,t,n){sr(e,n,t)}));function xo(e,t){return(Go(e)?Lt:jr)(e,ls(t,3))}var So=Pi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ko=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ws(e,t[0],t[1])?t=[]:n>2&&ws(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,yr(t,1),[])})),Co=it||function(){return gt.Date.now()};function _o(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Yi(e,h,i,i,i,i,t)}function To(e,t){var n;if("function"!=typeof t)throw new Ne(s);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var No=Jr((function(e,t,n){var r=1;if(n.length){var i=hn(n,as(No));r|=u}return Yi(e,r,t,n,i)})),Io=Jr((function(e,t,n){var r=3;if(n.length){var i=hn(n,as(Io));r|=u}return Yi(t,r,e,n,i)}));function Po(e,t,n){var r,o,a,l,u,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ne(s);function g(t){var n=r,s=o;return r=o=i,h=t,l=e.apply(s,n)}function m(e){var n=e-c;return c===i||n>=t||n<0||d&&e-h>=a}function y(){var e=Co();if(m(e))return v(e);u=Is(y,function(e){var n=t-(e-c);return d?wn(n,a-(e-h)):n}(e))}function v(e){return u=i,p&&r?g(e):(r=o=i,l)}function w(){var e=Co(),n=m(e);if(r=arguments,o=this,c=e,n){if(u===i)return function(e){return h=e,u=Is(y,t),f?g(e):l}(c);if(d)return Ai(u),u=Is(y,t),g(c)}return u===i&&(u=Is(y,t)),l}return t=ma(t)||0,ea(n)&&(f=!!n.leading,a=(d="maxWait"in n)?Wt(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==i&&Ai(u),h=0,r=c=o=u=i},w.flush=function(){return u===i?l:v(Co())},w}var Oo=Jr((function(e,t){return cr(e,1,t)})),Ro=Jr((function(e,t,n){return cr(e,ma(t)||0,n)}));function Do(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Do.Cache||Kn),n}function Lo(e){if("function"!=typeof e)throw new Ne(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Do.Cache=Kn;var Bo=bi((function(e,t){var n=(t=1==t.length&&Go(t[0])?Lt(t[0],Zt(ls())):Lt(yr(t,1),Zt(ls()))).length;return Jr((function(r){for(var i=-1,s=wn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return _t(e,this,r)}))})),Fo=Jr((function(e,t){var n=hn(t,as(Fo));return Yi(e,u,i,t,n)})),Mo=Jr((function(e,t){var n=hn(t,as(Mo));return Yi(e,c,i,t,n)})),jo=ns((function(e,t){return Yi(e,f,i,i,i,t)}));function Uo(e,t){return e===t||e!==e&&t!==t}var zo=qi(Cr),Vo=qi((function(e,t){return e>=t})),Ho=Pr(function(){return arguments}())?Pr:function(e){return ta(e)&&Le.call(e,"callee")&&!We.call(e,"callee")},Go=n.isArray,Qo=Et?Zt(Et):function(e){return ta(e)&&kr(e)==D};function qo(e){return null!=e&&Zo(e.length)&&!Yo(e)}function Ko(e){return ta(e)&&qo(e)}var Wo=yt||ml,$o=At?Zt(At):function(e){return ta(e)&&kr(e)==E};function Jo(e){if(!ta(e))return!1;var t=kr(e);return t==A||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Yo(e){if(!ea(e))return!1;var t=kr(e);return t==x||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xo(e){return"number"==typeof e&&e==pa(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=xt?Zt(xt):function(e){return ta(e)&&ps(e)==k};function ra(e){return"number"==typeof e||ta(e)&&kr(e)==C}function ia(e){if(!ta(e)||kr(e)!=_)return!1;var t=qe(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==je}var sa=St?Zt(St):function(e){return ta(e)&&kr(e)==N};var oa=kt?Zt(kt):function(e){return ta(e)&&ps(e)==I};function aa(e){return"string"==typeof e||!Go(e)&&ta(e)&&kr(e)==P}function la(e){return"symbol"==typeof e||ta(e)&&kr(e)==O}var ua=Ct?Zt(Ct):function(e){return ta(e)&&Zo(e.length)&&!!lt[kr(e)]};var ca=qi(Mr),ha=qi((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(qo(e))return aa(e)?gn(e):Ni(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=ps(e);return(t==k?un:t==I?fn:Ua)(e)}function da(e){return e?(e=ma(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=da(e),n=t%1;return t===t?n?t-n:t:0}function ga(e){return e?ar(pa(e),0,m):0}function ma(e){if("number"==typeof e)return e;if(la(e))return g;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||we.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function ya(e){return Ii(e,Oa(e))}function va(e){return null==e?"":ui(e)}var wa=Oi((function(e,t){if(xs(t)||qo(t))Ii(t,Pa(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),ba=Oi((function(e,t){Ii(t,Oa(t),e)})),Ea=Oi((function(e,t,n,r){Ii(t,Oa(t),e,r)})),Aa=Oi((function(e,t,n,r){Ii(t,Pa(t),e,r)})),xa=ns(or);var Sa=Jr((function(e,t){e=Ce(e);var n=-1,r=t.length,s=r>2?t[2]:i;for(s&&ws(t[0],t[1],s)&&(r=1);++n<r;)for(var o=t[n],a=Oa(o),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===i||Uo(h,Oe[c])&&!Le.call(e,c))&&(e[c]=o[c])}return e})),ka=Jr((function(e){return e.push(i,Zi),_t(Da,i,e)}));function Ca(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function _a(e,t){return null!=e&&gs(e,t,Tr)}var Ta=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),el(rl)),Na=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ls),Ia=Jr(Ir);function Pa(e){return qo(e)?Jn(e):Br(e)}function Oa(e){return qo(e)?Jn(e,!0):Fr(e)}var Ra=Oi((function(e,t,n){Vr(e,t,n)})),Da=Oi((function(e,t,n,r){Vr(e,t,n,r)})),La=ns((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=wi(t,e),r||(r=t.length>1),t})),Ii(e,is(e),n),r&&(n=lr(n,7,es));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ba=ns((function(e,t){return null==e?{}:function(e,t){return Qr(e,t,(function(t,n){return _a(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=Lt(is(e),(function(e){return[e]}));return t=ls(t),Qr(e,n,(function(e,n){return t(e,n[0])}))}var Ma=Ji(Pa),ja=Ji(Oa);function Ua(e){return null==e?[]:en(e,Pa(e))}var za=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Va(t):t)}));function Va(e){return Ja(va(e).toLowerCase())}function Ha(e){return(e=va(e))&&e.replace(Ee,sn).replace(tt,"")}var Ga=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Qa=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=Li("toLowerCase");var Ka=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Wa=Bi((function(e,t,n){return e+(n?" ":"")+Ja(t)}));var $a=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ja=Li("toUpperCase");function Ya(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return st.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Xa=Jr((function(e,t){try{return _t(e,i,t)}catch(n){return Jo(n)?n:new ae(n)}})),Za=ns((function(e,t){return Nt(t,(function(t){t=Bs(t),sr(e,t,No(e[t],e))})),e}));function el(e){return function(){return e}}var tl=ji(),nl=ji(!0);function rl(e){return e}function il(e){return Lr("function"==typeof e?e:lr(e,1))}var sl=Jr((function(e,t){return function(n){return Ir(n,e,t)}})),ol=Jr((function(e,t){return function(n){return Ir(e,n,t)}}));function al(e,t,n){var r=Pa(t),i=Ar(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ar(t,Pa(t)));var s=!(ea(n)&&"chain"in n)||!!n.chain,o=Yo(e);return Nt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Bt([this.value()],arguments))})})),e}function ll(){}var ul=Hi(Lt),cl=Hi(Pt),hl=Hi(jt);function fl(e){return bs(e)?Kt(Bs(e)):function(e){return function(t){return xr(t,e)}}(e)}var dl=Qi(),pl=Qi(!0);function gl(){return[]}function ml(){return!1}var yl=Vi((function(e,t){return e+t}),0),vl=Wi("ceil"),wl=Vi((function(e,t){return e/t}),1),bl=Wi("floor");var El=Vi((function(e,t){return e*t}),1),Al=Wi("round"),xl=Vi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ne(s);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=_o,Un.assign=wa,Un.assignIn=ba,Un.assignInWith=Ea,Un.assignWith=Aa,Un.at=xa,Un.before=To,Un.bind=No,Un.bindAll=Za,Un.bindKey=Io,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Un.chain=ho,Un.chunk=function(e,t,r){t=(r?ws(e,t,r):t===i)?1:Wt(pa(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,a=0,l=n(dt(s/t));o<s;)l[a++]=ri(e,o,o+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Bt(Go(r)?Ni(r):[r],yr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ls();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Ne(s);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(_t(i[0],this,n))return _t(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Pa(e);return function(n){return ur(n,e,t)}}(lr(e,1))},Un.constant=el,Un.countBy=go,Un.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var s=Yi(t,8,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Un.curryRight=function e(t,n,r){var s=Yi(t,l,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Un.debounce=Po,Un.defaults=Sa,Un.defaultsDeep=ka,Un.defer=Oo,Un.delay=Ro,Un.difference=js,Un.differenceBy=Us,Un.differenceWith=zs,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?di(e,ls(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?di(e,ls(t,3),!0):[]},Un.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&ws(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:pa(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Go(e)?Ot:mr)(e,ls(t,3))},Un.flatMap=function(e,t){return yr(xo(e,t),1)},Un.flatMapDeep=function(e,t){return yr(xo(e,t),d)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),yr(xo(e,t),n)},Un.flatten=Gs,Un.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,d):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:pa(t)):[]},Un.flip=function(e){return Yi(e,512)},Un.flow=tl,Un.flowRight=nl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Ar(e,Pa(e))},Un.functionsIn=function(e){return null==e?[]:Ar(e,Oa(e))},Un.groupBy=bo,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=qs,Un.intersectionBy=Ks,Un.intersectionWith=Ws,Un.invert=Ta,Un.invertBy=Na,Un.invokeMap=Eo,Un.iteratee=il,Un.keyBy=Ao,Un.keys=Pa,Un.keysIn=Oa,Un.map=xo,Un.mapKeys=function(e,t){var n={};return t=ls(t,3),br(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=ls(t,3),br(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(lr(e,1))},Un.matchesProperty=function(e,t){return zr(e,lr(t,1))},Un.memoize=Do,Un.merge=Ra,Un.mergeWith=Da,Un.method=sl,Un.methodOf=ol,Un.mixin=al,Un.negate=Lo,Un.nthArg=function(e){return e=pa(e),Jr((function(t){return Hr(t,e)}))},Un.omit=La,Un.omitBy=function(e,t){return Fa(e,Lo(ls(t)))},Un.once=function(e){return To(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Un.over=ul,Un.overArgs=Bo,Un.overEvery=cl,Un.overSome=hl,Un.partial=Fo,Un.partialRight=Mo,Un.partition=So,Un.pick=Ba,Un.pickBy=Fa,Un.property=fl,Un.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Un.pull=Js,Un.pullAll=Ys,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ls(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Un.pullAt=Xs,Un.range=dl,Un.rangeRight=pl,Un.rearg=jo,Un.reject=function(e,t){return(Go(e)?Ot:mr)(e,Lo(ls(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=ls(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Kr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ne(s);return Jr(e,t=t===i?t:pa(t))},Un.reverse=Zs,Un.sampleSize=function(e,t,n){return t=(n?ws(e,t,n):t===i)?1:pa(t),(Go(e)?Xn:Xr)(e,t)},Un.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},Un.shuffle=function(e){return(Go(e)?Zn:ni)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ws(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},Un.sortBy=ko,Un.sortedUniq=function(e){return e&&e.length?ai(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ai(e,ls(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ws(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ui(t))&&ln(e)?Ei(gn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ne(s);return t=null==t?0:Wt(pa(t),0),Jr((function(n){var r=n[t],i=Ei(n,0,t);return r&&Bt(i,r),_t(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?di(e,ls(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?di(e,ls(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(s);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=fo,Un.toArray=fa,Un.toPairs=Ma,Un.toPairsIn=ja,Un.toPath=function(e){return Go(e)?Lt(e,Bs):la(e)?[e]:Ni(Ls(va(e)))},Un.toPlainObject=ya,Un.transform=function(e,t,n){var r=Go(e),i=r||Wo(e)||ua(e);if(t=ls(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:ea(e)&&Yo(s)?zn(qe(e)):{}}return(i?Nt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return _o(e,1)},Un.union=eo,Un.unionBy=to,Un.unionWith=no,Un.uniq=function(e){return e&&e.length?ci(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ci(e,ls(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Un.unset=function(e,t){return null==e||hi(e,t)},Un.unzip=ro,Un.unzipWith=io,Un.update=function(e,t,n){return null==e?e:fi(e,t,vi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:fi(e,t,vi(n),r)},Un.values=Ua,Un.valuesIn=function(e){return null==e?[]:en(e,Oa(e))},Un.without=so,Un.words=Ya,Un.wrap=function(e,t){return Fo(vi(t),e)},Un.xor=oo,Un.xorBy=ao,Un.xorWith=lo,Un.zip=uo,Un.zipObject=function(e,t){return mi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return mi(e||[],t||[],Zr)},Un.zipWith=co,Un.entries=Ma,Un.entriesIn=ja,Un.extend=ba,Un.extendWith=Ea,al(Un,Un),Un.add=yl,Un.attempt=Xa,Un.camelCase=za,Un.capitalize=Va,Un.ceil=vl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))===n?n:0),t!==i&&(t=(t=ma(t))===t?t:0),ar(ma(e),t,n)},Un.clone=function(e){return lr(e,4)},Un.cloneDeep=function(e){return lr(e,5)},Un.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||ur(e,t,Pa(t))},Un.deburr=Ha,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=wl,Un.endsWith=function(e,t,n){e=va(e),t=ui(t);var r=e.length,s=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},Un.eq=Uo,Un.escape=function(e){return(e=va(e))&&Y.test(e)?e.replace($,on):e},Un.escapeRegExp=function(e){return(e=va(e))&&se.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Go(e)?Pt:pr;return n&&ws(e,t,n)&&(t=i),r(e,ls(t,3))},Un.find=mo,Un.findIndex=Vs,Un.findKey=function(e,t){return zt(e,ls(t,3),br)},Un.findLast=yo,Un.findLastIndex=Hs,Un.findLastKey=function(e,t){return zt(e,ls(t,3),Er)},Un.floor=bl,Un.forEach=vo,Un.forEachRight=wo,Un.forIn=function(e,t){return null==e?e:vr(e,ls(t,3),Oa)},Un.forInRight=function(e,t){return null==e?e:wr(e,ls(t,3),Oa)},Un.forOwn=function(e,t){return e&&br(e,ls(t,3))},Un.forOwnRight=function(e,t){return e&&Er(e,ls(t,3))},Un.get=Ca,Un.gt=zo,Un.gte=Vo,Un.has=function(e,t){return null!=e&&gs(e,t,_r)},Un.hasIn=_a,Un.head=Qs,Un.identity=rl,Un.includes=function(e,t,n,r){e=qo(e)?e:Ua(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=Wt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Wt(r+i,0)),Ht(e,t,i)},Un.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=wn(t,n)&&e<Wt(t,n)}(e=ma(e),t,n)},Un.invoke=Ia,Un.isArguments=Ho,Un.isArray=Go,Un.isArrayBuffer=Qo,Un.isArrayLike=qo,Un.isArrayLikeObject=Ko,Un.isBoolean=function(e){return!0===e||!1===e||ta(e)&&kr(e)==b},Un.isBuffer=Wo,Un.isDate=$o,Un.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Wo(e)||ua(e)||Ho(e)))return!e.length;var t=ps(e);if(t==k||t==I)return!e.size;if(xs(e))return!Br(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Or(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Or(e,t,i,n):!!r},Un.isError=Jo,Un.isFinite=function(e){return"number"==typeof e&&wt(e)},Un.isFunction=Yo,Un.isInteger=Xo,Un.isLength=Zo,Un.isMap=na,Un.isMatch=function(e,t){return e===t||Rr(e,t,cs(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,cs(t),n)},Un.isNaN=function(e){return ra(e)&&e!=+e},Un.isNative=function(e){if(As(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=ra,Un.isObject=ea,Un.isObjectLike=ta,Un.isPlainObject=ia,Un.isRegExp=sa,Un.isSafeInteger=function(e){return Xo(e)&&e>=-9007199254740991&&e<=p},Un.isSet=oa,Un.isString=aa,Un.isSymbol=la,Un.isTypedArray=ua,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ta(e)&&ps(e)==R},Un.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==kr(e)},Un.join=function(e,t){return null==e?"":bt.call(e,t)},Un.kebabCase=Ga,Un.last=$s,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=pa(n))<0?Wt(r+s,0):wn(s,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Vt(e,Qt,s,!0)},Un.lowerCase=Qa,Un.lowerFirst=qa,Un.lt=ca,Un.lte=ha,Un.max=function(e){return e&&e.length?gr(e,rl,Cr):i},Un.maxBy=function(e,t){return e&&e.length?gr(e,ls(t,2),Cr):i},Un.mean=function(e){return qt(e,rl)},Un.meanBy=function(e,t){return qt(e,ls(t,2))},Un.min=function(e){return e&&e.length?gr(e,rl,Mr):i},Un.minBy=function(e,t){return e&&e.length?gr(e,ls(t,2),Mr):i},Un.stubArray=gl,Un.stubFalse=ml,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=El,Un.nth=function(e,t){return e&&e.length?Hr(e,pa(t)):i},Un.noConflict=function(){return gt._===this&&(gt._=Ue),this},Un.noop=ll,Un.now=Co,Un.pad=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(pt(i),n)+e+Gi(dt(i),n)},Un.padEnd=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Gi(t-r,n):e},Un.padStart=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(va(e).replace(oe,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ws(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=An();return wn(e+s*(t-e+ht("1e-"+((s+"").length-1))),t)}return Wr(e,t)},Un.reduce=function(e,t,n){var r=Go(e)?Ft:$t,i=arguments.length<3;return r(e,ls(t,4),n,i,fr)},Un.reduceRight=function(e,t,n){var r=Go(e)?Mt:$t,i=arguments.length<3;return r(e,ls(t,4),n,i,dr)},Un.repeat=function(e,t,n){return t=(n?ws(e,t,n):t===i)?1:pa(t),$r(va(e),t)},Un.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,s=(t=wi(t,e)).length;for(s||(s=1,e=i);++r<s;){var o=null==e?i:e[Bs(t[r])];o===i&&(r=s,o=n),e=Yo(o)?o.call(e):o}return e},Un.round=Al,Un.runInContext=e,Un.sample=function(e){return(Go(e)?Yn:Yr)(e)},Un.size=function(e){if(null==e)return 0;if(qo(e))return aa(e)?pn(e):e.length;var t=ps(e);return t==k||t==I?e.size:Br(e).length},Un.snakeCase=Ka,Un.some=function(e,t,n){var r=Go(e)?jt:ii;return n&&ws(e,t,n)&&(t=i),r(e,ls(t,3))},Un.sortedIndex=function(e,t){return si(e,t)},Un.sortedIndexBy=function(e,t,n){return oi(e,t,ls(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Uo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return si(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return oi(e,t,ls(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Uo(e[n],t))return n}return-1},Un.startCase=Wa,Un.startsWith=function(e,t,n){return e=va(e),n=null==n?0:ar(pa(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},Un.subtract=xl,Un.sum=function(e){return e&&e.length?Jt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Jt(e,ls(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&ws(e,t,n)&&(t=i),e=va(e),t=Ea({},t,r,Xi);var s,o,a=Ea({},t.imports,r.imports,Xi),l=Pa(a),u=en(a,l),c=0,h=t.interpolate||Ae,f="__p += '",d=_e((t.escape||Ae).source+"|"+h.source+"|"+(h===ee?pe:Ae).source+"|"+(t.evaluate||Ae).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,a,l){return r||(r=i),f+=e.slice(c,l).replace(xe,an),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var g=Le.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new ae("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(Q,""):f).replace(q,"$1").replace(K,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Xa((function(){return Se(l,p+"return "+f).apply(i,u)}));if(m.source=f,Jo(m))throw m;return m},Un.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=m,r=wn(e,m);t=ls(t),e-=m;for(var i=Yt(r,t);++n<e;)t(n);return i},Un.toFinite=da,Un.toInteger=pa,Un.toLength=ga,Un.toLower=function(e){return va(e).toLowerCase()},Un.toNumber=ma,Un.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},Un.toString=va,Un.toUpper=function(e){return va(e).toUpperCase()},Un.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Xt(e);if(!e||!(t=ui(t)))return e;var r=gn(e),s=gn(t);return Ei(r,nn(r,s),rn(r,s)+1).join("")},Un.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ui(t)))return e;var r=gn(e);return Ei(r,0,rn(r,gn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ui(t)))return e;var r=gn(e);return Ei(r,nn(r,gn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(ea(t)){var s="separator"in t?t.separator:s;n="length"in t?pa(t.length):n,r="omission"in t?ui(t.omission):r}var o=(e=va(e)).length;if(ln(e)){var a=gn(e);o=a.length}if(n>=o)return e;var l=n-pn(r);if(l<1)return r;var u=a?Ei(a,0,l).join(""):e.slice(0,l);if(s===i)return u+r;if(a&&(l+=u.length-l),sa(s)){if(e.slice(l).search(s)){var c,h=u;for(s.global||(s=_e(s.source,va(ge.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var f=c.index;u=u.slice(0,f===i?l:f)}}else if(e.indexOf(ui(s),l)!=l){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+r},Un.unescape=function(e){return(e=va(e))&&J.test(e)?e.replace(W,yn):e},Un.uniqueId=function(e){var t=++Be;return va(e)+t},Un.upperCase=$a,Un.upperFirst=Ja,Un.each=vo,Un.eachRight=wo,Un.first=Qs,al(Un,function(){var e={};return br(Un,(function(t,n){Le.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Nt(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:Wt(pa(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Nt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Nt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),Nt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(rl)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Ir(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Lo(ls(e)))},Gn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(m)},br(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);s&&(Un.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Gn,u=a[0],c=l||Go(t),h=function(e){var t=s.apply(Un,Bt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,g=l&&!d;if(!o&&c){t=g?t:new Gn(this);var m=e.apply(t,a);return m.__actions__.push({func:fo,args:[h],thisArg:i}),new Hn(m,f)}return p&&g?e.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Nt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Go(i)?i:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),br(Gn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Le.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[Ui(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=wn(t,e+o);break;case"takeRight":e=Wt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,h=c.length,f=0,d=wn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&f<d;){for(var g=-1,m=e[u+=t];++g<h;){var y=c[g],v=y.iteratee,w=y.type,b=v(m);if(2==w)m=b;else if(!b){if(1==w)continue e;break e}}p[f++]=m}return p},Un.prototype.at=po,Un.prototype.chain=function(){return ho(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Ms(n);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Zs],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(Zs)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Ye&&(Un.prototype[Ye]=function(){return this}),Un}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},268:(e,t,n)=>{!function(){var t=n(16),r=n(828).utf8,i=n(837),s=n(828).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?s.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var a=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,h=-1732584194,f=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[l>>>5]|=128<<l%32,a[14+(l+64>>>9<<4)]=l;var p=o._ff,g=o._gg,m=o._hh,y=o._ii;for(d=0;d<a.length;d+=16){var v=u,w=c,b=h,E=f;u=p(u,c,h,f,a[d+0],7,-680876936),f=p(f,u,c,h,a[d+1],12,-389564586),h=p(h,f,u,c,a[d+2],17,606105819),c=p(c,h,f,u,a[d+3],22,-1044525330),u=p(u,c,h,f,a[d+4],7,-176418897),f=p(f,u,c,h,a[d+5],12,1200080426),h=p(h,f,u,c,a[d+6],17,-1473231341),c=p(c,h,f,u,a[d+7],22,-45705983),u=p(u,c,h,f,a[d+8],7,1770035416),f=p(f,u,c,h,a[d+9],12,-1958414417),h=p(h,f,u,c,a[d+10],17,-42063),c=p(c,h,f,u,a[d+11],22,-1990404162),u=p(u,c,h,f,a[d+12],7,1804603682),f=p(f,u,c,h,a[d+13],12,-40341101),h=p(h,f,u,c,a[d+14],17,-1502002290),u=g(u,c=p(c,h,f,u,a[d+15],22,1236535329),h,f,a[d+1],5,-165796510),f=g(f,u,c,h,a[d+6],9,-1069501632),h=g(h,f,u,c,a[d+11],14,643717713),c=g(c,h,f,u,a[d+0],20,-373897302),u=g(u,c,h,f,a[d+5],5,-701558691),f=g(f,u,c,h,a[d+10],9,38016083),h=g(h,f,u,c,a[d+15],14,-660478335),c=g(c,h,f,u,a[d+4],20,-405537848),u=g(u,c,h,f,a[d+9],5,568446438),f=g(f,u,c,h,a[d+14],9,-1019803690),h=g(h,f,u,c,a[d+3],14,-187363961),c=g(c,h,f,u,a[d+8],20,1163531501),u=g(u,c,h,f,a[d+13],5,-1444681467),f=g(f,u,c,h,a[d+2],9,-51403784),h=g(h,f,u,c,a[d+7],14,1735328473),u=m(u,c=g(c,h,f,u,a[d+12],20,-1926607734),h,f,a[d+5],4,-378558),f=m(f,u,c,h,a[d+8],11,-2022574463),h=m(h,f,u,c,a[d+11],16,1839030562),c=m(c,h,f,u,a[d+14],23,-35309556),u=m(u,c,h,f,a[d+1],4,-1530992060),f=m(f,u,c,h,a[d+4],11,1272893353),h=m(h,f,u,c,a[d+7],16,-155497632),c=m(c,h,f,u,a[d+10],23,-1094730640),u=m(u,c,h,f,a[d+13],4,681279174),f=m(f,u,c,h,a[d+0],11,-358537222),h=m(h,f,u,c,a[d+3],16,-722521979),c=m(c,h,f,u,a[d+6],23,76029189),u=m(u,c,h,f,a[d+9],4,-640364487),f=m(f,u,c,h,a[d+12],11,-421815835),h=m(h,f,u,c,a[d+15],16,530742520),u=y(u,c=m(c,h,f,u,a[d+2],23,-995338651),h,f,a[d+0],6,-198630844),f=y(f,u,c,h,a[d+7],10,1126891415),h=y(h,f,u,c,a[d+14],15,-1416354905),c=y(c,h,f,u,a[d+5],21,-57434055),u=y(u,c,h,f,a[d+12],6,1700485571),f=y(f,u,c,h,a[d+3],10,-1894986606),h=y(h,f,u,c,a[d+10],15,-1051523),c=y(c,h,f,u,a[d+1],21,-2054922799),u=y(u,c,h,f,a[d+8],6,1873313359),f=y(f,u,c,h,a[d+15],10,-30611744),h=y(h,f,u,c,a[d+6],15,-1560198380),c=y(c,h,f,u,a[d+13],21,1309151649),u=y(u,c,h,f,a[d+4],6,-145523070),f=y(f,u,c,h,a[d+11],10,-1120210379),h=y(h,f,u,c,a[d+2],15,718787259),c=y(c,h,f,u,a[d+9],21,-343485551),u=u+v>>>0,c=c+w>>>0,h=h+b>>>0,f=f+E>>>0}return t.endian([u,c,h,f])};o._ff=function(e,t,n,r,i,s,o){var a=e+(t&n|~t&r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},o._gg=function(e,t,n,r,i,s,o){var a=e+(t&r|n&~r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},o._hh=function(e,t,n,r,i,s,o){var a=e+(t^n^r)+(i>>>0)+o;return(a<<s|a>>>32-s)+t},o._ii=function(e,t,n,r,i,s,o){var a=e+(n^(t|~r))+(i>>>0)+o;return(a<<s|a>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?s.bytesToString(r):t.bytesToHex(r)}}()},151:function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(43),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var r={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return 0===e?t:e===r?t+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i,s,o,a=n-t;return o=1.70158,0===e?t:1==(e/=r)?t+a:((s=0)||(s=.3*r),(i=a)<Math.abs(a)?(i=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)+t)},easeOutElastic:function(e,t,n,r){var i,s,o,a=n-t;return o=1.70158,0===e?t:1==(e/=r)?t+a:((s=0)||(s=.3*r),(i=a)<Math.abs(a)?(i=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+a+t)},easeInOutElastic:function(e,t,n,r){var i,s,o,a=n-t;return o=1.70158,0===e?t:2==(e/=r/2)?t+a:((s=0)||(s=r*(.3*1.5)),(i=a)<Math.abs(a)?(i=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+a+t)},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var s=n-t;return void 0===i&&(i=1.70158),(e/=r/2)<1?s/2*(e*e*((1+(i*=1.525))*e-i))+t:s/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,t,n,i){var s=n-t;return s-r.easeOutBounce(i-e,0,s,i)+t},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){var s=n-t;return e<i/2?.5*r.easeInBounce(2*e,0,s,i)+t:.5*r.easeOutBounce(2*e-i,0,s,i)+.5*s+t}};e.exports=r},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"ReactConfetti",(function(){return U}));var r,i,s=n(0),o=n.n(s),a=n(1),l=n.n(a);function u(e,t){return e+Math.random()*(t-e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(r||(r={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(i||(i={}));var f=function(){function e(t,n,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"context",void 0),h(this,"radius",void 0),h(this,"x",void 0),h(this,"y",void 0),h(this,"w",void 0),h(this,"h",void 0),h(this,"vx",void 0),h(this,"vy",void 0),h(this,"shape",void 0),h(this,"angle",void 0),h(this,"angularSpin",void 0),h(this,"color",void 0),h(this,"rotateY",void 0),h(this,"rotationDirection",void 0),h(this,"getOptions",void 0),this.getOptions=n;var o,a,l=this.getOptions(),c=l.colors,f=l.initialVelocityX,d=l.initialVelocityY;this.context=t,this.x=r,this.y=s,this.w=u(5,20),this.h=u(5,20),this.radius=u(5,10),this.vx="number"==typeof f?u(-f,f):u(f.min,f.max),this.vy="number"==typeof d?u(-d,0):u(d.min,d.max),this.shape=(o=0,a=2,Math.floor(o+Math.random()*(a-o+1))),this.angle=u(0,360)*Math.PI/180,this.angularSpin=u(-.2,.2),this.color=c[Math.floor(Math.random()*c.length)],this.rotateY=u(0,1),this.rotationDirection=u(0,1)?i.Positive:i.Negative}var t,n,s;return t=e,(n=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,n=e.wind,s=e.friction,o=e.opacity,a=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=n,this.vx*=s,this.vy*=s,this.rotateY>=1&&this.rotationDirection===i.Positive?this.rotationDirection=i.Negative:this.rotateY<=-1&&this.rotationDirection===i.Negative&&(this.rotationDirection=i.Positive);var l=.1*this.rotationDirection;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,a&&"function"==typeof a)a.call(this,this.context);else switch(this.shape){case r.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case r.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case r.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&c(t.prototype,n),s&&c(t,s),e}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"canvas",void 0),d(this,"context",void 0),d(this,"getOptions",void 0),d(this,"x",0),d(this,"y",0),d(this,"w",0),d(this,"h",0),d(this,"lastNumberOfPieces",0),d(this,"tweenInitTime",Date.now()),d(this,"particles",[]),d(this,"particlesGenerated",0),d(this,"removeParticleAt",(function(e){r.particles.splice(e,1)})),d(this,"getParticle",(function(){var e=u(r.x,r.w+r.x),t=u(r.y,r.h+r.y);return new f(r.context,r.getOptions,e,t)})),d(this,"animate",(function(){var e=r.canvas,t=r.context,n=r.particlesGenerated,i=r.lastNumberOfPieces,s=r.getOptions(),o=s.run,a=s.recycle,l=s.numberOfPieces,u=s.debug,c=s.tweenFunction,h=s.tweenDuration;if(!o)return!1;var f=r.particles.length,d=a?f:n,p=Date.now();if(d<l){i!==l&&(r.tweenInitTime=p,r.lastNumberOfPieces=l);for(var g=r.tweenInitTime,m=c(p-g>h?h:Math.max(0,p-g),d,l,h),y=Math.round(m-d),v=0;v<y;v++)r.particles.push(r.getParticle());r.particlesGenerated+=y}return u&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(f),e.width-10,e.height-20)),r.particles.forEach((function(t,n){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(a&&d<=l?r.particles[n]=r.getParticle():r.removeParticleAt(n))})),f>0||d<l})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=n};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:l.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},b=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"canvas",void 0),v(this,"context",void 0),v(this,"_options",void 0),v(this,"generator",void 0),v(this,"rafId",void 0),v(this,"setOptionsWithDefaults",(function(e){var t={confettiSource:{x:0,y:0,w:r.canvas.width,h:0}};r._options=m(m(m({},t),w),e),Object.assign(r,e.confettiSource)})),v(this,"update",(function(){var e=r.options,t=e.run,n=e.onConfettiComplete,i=r.canvas,s=r.context;t&&(s.fillStyle="white",s.clearRect(0,0,i.width,i.height)),r.generator.animate()?r.rafId=requestAnimationFrame(r.update):(n&&"function"==typeof n&&r.generator.particlesGenerated>0&&n.call(r,r),r._options.run=!1)})),v(this,"reset",(function(){r.generator&&r.generator.particlesGenerated>0&&(r.generator.particlesGenerated=0,r.generator.particles=[],r.generator.lastNumberOfPieces=0)})),v(this,"stop",(function(){r.options={run:!1},r.rafId&&(cancelAnimationFrame(r.rafId),r.rafId=void 0)})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new p(this.canvas,(function(){return r.options})),this.options=n,this.update()}var t,n,r;return t=e,(n=[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,n=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===n&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}])&&y(t.prototype,n),r&&y(t,r),e}();function E(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=o.a.createRef(),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,e);var t,n,r,i=O(s);function s(e){var t;N(this,s);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return B(D(t=i.call.apply(i,[this,e].concat(r))),"canvas",o.a.createRef()),B(D(t),"confetti",void 0),t.canvas=e.canvasRef||F,t}return t=s,(n=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=j(this.props)[0];this.confetti=new b(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=j(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e=C(j(this.props),2),t=e[0],n=e[1],r=k({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return o.a.createElement("canvas",x({width:t.width,height:t.height,ref:this.canvas},n,{style:r}))}}])&&I(t.prototype,n),r&&I(t,r),s}(s.Component);function j(e){var t={},n={},r=[].concat(E(Object.keys(w)),["confettiSource","drawShape","onConfettiComplete"]),i=["canvasRef"];for(var s in e){var o=e[s];r.includes(s)?t[s]=o:i.includes(s)?i[s]=o:n[s]=o}return[t,n,{}]}B(M,"defaultProps",k({},w)),B(M,"displayName","ReactConfetti");var U=o.a.forwardRef((function(e,t){return o.a.createElement(M,x({canvasRef:t},e))}));t.default=U}]).default)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var B,F=Object.assign;function M(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case A:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,xe=null,Se=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ae)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Ae(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function _e(){if(xe){var e=xe,t=Se;if(Se=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==xe||null!==Se)&&(Ne(),_e())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Re=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Be=!1,Fe=null,Me=!1,je=null,Ue={onError:function(e){Be=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,l){Be=!1,Fe=null,Le.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(s(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,At,xt,St,kt,Ct=!1,_t=[],Tt=null,Nt=null,It=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Bt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Mt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==It&&Mt(It)&&(It=null),Pt.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Ht=b.ReactCurrentBatchConfig,Gt=!0;function Qt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function qt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Kt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Bt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Bt(Nt,e,t,n,r,i),!0;case"mouseover":return It=Bt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Bt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Bt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=$t(e,t,n,r))&&Gr(e,t,r,Wt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function $t(e,t,n,r){if(Wt=null,null!==(e=vi(e=Ee(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),fn=sn(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(dn),gn=sn(F({},dn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(F({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Sn}var Cn=F({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Cn),Tn=sn(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),In=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Pn),Rn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Bn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Wn(e){Mr(e,0)}function $n(e){if(K(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Qn(t,Kn,e,Ee(e)),Pe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},Sr={};function kr(e){if(xr[e])return xr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Cr=kr("animationend"),_r=kr("animationiteration"),Tr=kr("animationstart"),Nr=kr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(_r,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(ze.apply(this,arguments),Be){if(!Be)throw Error(s(198));var c=Fe;Be=!1,Fe=null,Me||(Me=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(Me)throw e=je,Me=!1,je=null,e}function jr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=Qt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=Ee(n),o=[];e:{var a=Ir.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case _r:case Tr:l=yn;break;case Nr:l=In;break;case"scroll":l=fn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Oe(p,f))&&c.push(Qr(p,g,d)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:bi(l),d=null==u?a:bi(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=d,g=null,vi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Kr(d))p++;for(d=0,g=f;g;g=Kr(g))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==l&&Wr(o,a,l,c,!1),null!==u&&null!==h&&Wr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Jn;else if(Gn(a))if(Yn)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(v=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(y=qr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Mn);case"textInput":return(e=t.data)===Mn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Mr(o,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Qr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Oe(n,s))&&o.unshift(Qr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(Qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[di]||null}var Ai=[],xi=-1;function Si(e){return{current:e}}function ki(e){0>xi||(e.current=Ai[xi],Ai[xi]=null,xi--)}function Ci(e,t){xi++,Ai[xi]=e.current,e.current=t}var _i={},Ti=Si(_i),Ni=Si(!1),Ii=_i;function Pi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ni),ki(Ti)}function Di(e,t,n){if(Ti.current!==_i)throw Error(s(168));Ci(Ti,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return F({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=Ti.current,Ci(Ti,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ti),Ci(Ti,e)):ki(Ni),Ci(Ni,n)}var Mi=null,ji=!1,Ui=!1;function zi(e){null===Mi?Mi=[e]:Mi.push(e)}function Vi(){if(!Ui&&null!==Mi){Ui=!0;var e=0,t=wt;try{var n=Mi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,ji=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Ze,Vi),i}finally{wt=t,Ui=!1}}return null}var Hi=[],Gi=0,Qi=null,qi=0,Ki=[],Wi=0,$i=null,Ji=1,Yi="";function Xi(e,t){Hi[Gi++]=qi,Hi[Gi++]=Qi,Qi=e,qi=t}function Zi(e,t,n){Ki[Wi++]=Ji,Ki[Wi++]=Yi,Ki[Wi++]=$i,$i=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Qi;)Qi=Hi[--Gi],Hi[Gi]=null,qi=Hi[--Gi],Hi[Gi]=null;for(;e===$i;)$i=Ki[--Wi],Ki[Wi]=null,Yi=Ki[--Wi],Ki[Wi]=null,Ji=Ki[--Wi],Ki[Wi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw fs(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=rs;e;)e=ui(e.nextSibling)}function ds(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&vs(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case A:return(t=Mu(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case A:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===a.length)return n(i,h),is&&Xi(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=f(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return is&&Xi(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}function m(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=d(i,g,v.value,u);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(i,g),a=o(w,a,m),null===h?c=w:h.sibling=w,h=w,g=y}if(v.done)return n(i,g),is&&Xi(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=f(i,v.value,u))&&(a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return is&&Xi(i,m),c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),is&&Xi(i,m),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===x){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&vs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=ms(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((s=Lu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Du(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case A:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mu(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(L(o))return m(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),As=Si(null),xs=null,Ss=null,ks=null;function Cs(){ks=Ss=xs=null}function _s(e){var t=As.current;ki(As),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){xs=e,ks=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===xs)throw Error(s(308));Ss=e,xs.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ps=null;function Os(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var f=a.lane,d=a.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bl|=o,e.lanes=o,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Gs={},Qs=Si(Gs),qs=Si(Gs),Ks=Si(Gs);function Ws(e){if(e===Gs)throw Error(s(174));return e}function $s(e,t){switch(Ci(Ks,t),Ci(qs,e),Ci(Qs,Gs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Qs),Ci(Qs,t)}function Js(){ki(Qs),ki(qs),ki(Ks)}function Ys(e){Ws(Ks.current);var t=Ws(Qs.current),n=le(t,e.type);t!==n&&(Ci(qs,e),Ci(Qs,n))}function Xs(e){qs.current===e&&(ki(Qs),ki(qs))}var Zs=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,a=r):u=u.next=f,oo.lanes|=h,Bl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Bl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function So(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Bo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,Co.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&No(e)}function _o(e,t,n){return n((function(){To(t)&&No(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function Io(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return wo().memoizedState}function Ro(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Po(t,n,s,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,s,r)}function Lo(e,t){return Ro(8390656,8,e,t)}function Bo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Mo(e,t){return Do(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,jo.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Bl|=n,e.baseState=!0),t)}function Qo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function qo(){return wo().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e))Jo(t,n);else if(null!==(n=Rs(e,t,n,r))){nu(n,e,r,eu()),Yo(n,t,r)}}function Wo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Jo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Rs(e,t,i,r))&&(nu(n,e,r,i=eu()),Yo(n,t,r))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xo={readContext:Is,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Is,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Io,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Is,useCallback:Vo,useContext:Is,useEffect:Bo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:Mo,useMemo:Ho,useReducer:Eo,useRef:Oo,useState:function(){return Eo(bo)},useDebugValue:zo,useDeferredValue:function(e){return Go(wo(),ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:qo,unstable_isNewReconciler:!1},ta={readContext:Is,useCallback:Vo,useContext:Is,useEffect:Bo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:Mo,useMemo:Ho,useReducer:Ao,useRef:Oo,useState:function(){return Ao(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:Go(t,ao.memoizedState,e)},useTransition:function(){return[Ao(bo)[0],wo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:qo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=js(e,i,r))&&(nu(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=_i,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Oi(t)?Ii:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):_i),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Oi(t)?Ii:Ti.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Ql=r),ha(0,t)},n}function pa(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,js(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=mo(e,t,n,r,s,i),n=yo(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Aa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ou(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Rl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Ol),Ol|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Oi(n)?Ii:Ti.current;return s=Pi(t,s),Ns(t,i),n=mo(e,t,n,r,s,i),r=yo(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function _a(e,t,n,r,i){if(Oi(n)){var s=!0;Bi(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ha(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Is(u):u=Pi(t,u=Oi(n)?Ii:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ls=!1;var f=t.memoizedState;o.state=f,Vs(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Ni.current||Ls?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ls||sa(t,n,a,r,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Pi(t,l=Oi(n)?Ii:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||f!==l)&&aa(t,o,r,l),Ls=!1,f=t.memoizedState,o.state=f,Vs(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||Ni.current||Ls?("function"===typeof d&&(ra(t,n,d,r),p=t.memoizedState),(u=Ls||sa(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,s,i)}function Ta(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ga(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$s(e,t.containerInfo)}function Ia(e,t,n,r,i){return ds(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Oa,Ra,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Bu(l,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ba(n),t.memoizedState=La,e):Ma(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bu({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=Ba(a),t.memoizedState=La,o);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,ja(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return gu(),ja(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Wi++]=Ji,Ki[Wi++]=Yi,Ki[Wi++]=$i,Ji=e.id,Yi=e.overflow,$i=t),t=Ma(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ru(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ba(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ru(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ma(e,t){return(t=Bu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Ma(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Oi(t.type)&&Ri(),qa(t),null;case 3:return r=t.stateNode,Js(),ki(Ni),ki(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Oa(e,t),qa(t),null;case 5:Xs(t);var i=Ws(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qa(t),null}if(e=Ws(Qs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[di]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ws(Ks.current),Ws(Qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return qa(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ds(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[fi]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):gu())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Js(),Oa(e,t),null===e&&Vr(t.stateNode.containerInfo),qa(t),null;case 10:return _s(t.type._context),qa(t),null;case 19:if(ki(Zs),null===(o=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Qa(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vl&&(t.flags|=128,r=!0,Qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return qa(t),null}else 2*Ye()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wa(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),ki(Ni),ki(Ti),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Js(),null;case 10:return _s(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ws(Qs.current);var s,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=cl,i=hl;cl=null,fl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Su(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));dl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Su(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),we(l,a);var c=we(l,o);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):w(i,h,f,c)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Su(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Su(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ye())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(c=Ja)||h,gl(t,e),Ja=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(f=Xa=h;null!==Xa;){switch(p=(d=Xa).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Za(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Su(r,n,m)}}break;case 5:Za(d,d.return);break;case 22:if(null!==d.memoizedState){El(f);continue}}null!==p?(p.return=d,Xa=p):El(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Su(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Su(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var u=Ja;if($a=o,(Ja=l)&&!u)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?Al(i):null!==l?(l.return=o,Xa=l):Al(i);for(;null!==s;)Xa=s,wl(s,t,n),s=s.sibling;Xa=i,$a=a,Ja=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&il(t)}catch(d){Su(t,t.return,d)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function El(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Al(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var s=t.return;try{il(t)}catch(l){Su(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Su(t,o,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var xl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,Tl=0,Nl=null,Il=null,Pl=0,Ol=0,Rl=Si(0),Dl=0,Ll=null,Bl=0,Fl=0,Ml=0,jl=null,Ul=null,zl=0,Vl=1/0,Hl=null,Gl=!1,Ql=null,ql=null,Kl=!1,Wl=null,$l=0,Jl=0,Yl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Tl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));yt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Fl|=n),4===Dl&&au(e,Pl)),ru(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Ye()+500,ji&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=dt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ft(e,e===Nl?Pl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(lu.bind(null,e)):zi(lu.bind(null,e)),oi((function(){0===(6&Tl)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Au()&&e.callbackNode!==n)return null;var r=ft(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Tl;Tl|=2;var o=pu();for(Nl===e&&Pl===t||(Hl=null,Vl=Ye()+500,fu(e,t));;)try{vu();break}catch(l){du(e,l)}Cs(),kl.current=o,Tl=i,null!==Il?t=0:(Nl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,fu(e,0),au(e,r),ru(e,Ye()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Ll,fu(e,0),au(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Eu(e,Ul,Hl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Ul,Hl),t);break}Eu(e,Ul,Hl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Ul,Hl),r);break}Eu(e,Ul,Hl);break;default:throw Error(s(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function au(e,t){for(t&=~Ml,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Tl))throw Error(s(327));Au();var t=ft(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,fu(e,0),au(e,t),ru(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Ul,Hl),ru(e,Ye()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Ye()+500,ji&&Vi())}}function cu(e){null!==Wl&&0===Wl.tag&&0===(6&Tl)&&Au();var t=Tl;Tl|=1;var n=_l.transition,r=wt;try{if(_l.transition=null,wt=1,e)return e()}finally{wt=r,_l.transition=n,0===(6&(Tl=t))&&Vi()}}function hu(){Ol=Rl.current,ki(Rl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Js(),ki(Ni),ki(Ti),no();break;case 5:Xs(r);break;case 4:Js();break;case 13:case 19:ki(Zs);break;case 10:_s(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Nl=e,Il=e=Ru(e.current,null),Pl=Ol=t,Dl=0,Ll=null,Ml=Fl=Bl=0,Ul=jl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function du(e,t){for(;;){var n=Il;try{if(Cs(),ro.current=Xo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Cl.current=null,null===n||null===n.return){Dl=1,Ll=t,Il=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ga(o,c,t),gu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Dl&&(Dl=2),null===jl?jl=[o]:jl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,da(0,u,t));break e;case 1:l=u;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===ql||!ql.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=Xo,null===e?Xo:e}function gu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||0===(268435455&Bl)&&0===(268435455&Fl)||au(Nl,Pl)}function mu(e,t){var n=Tl;Tl|=2;var r=pu();for(Nl===e&&Pl===t||(Hl=null,fu(e,t));;)try{yu();break}catch(i){du(e,i)}if(Cs(),Tl=n,kl.current=r,null!==Il)throw Error(s(261));return Nl=null,Pl=0,Dl}function yu(){for(;null!==Il;)wu(Il)}function vu(){for(;null!==Il&&!$e();)wu(Il)}function wu(e){var t=xl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bu(e):Il=t,Cl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ol)))return void(Il=n)}else{if(null!==(n=Wa(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function Eu(e,t,n){var r=wt,i=_l.transition;try{_l.transition=null,wt=1,function(e,t,n,r){do{Au()}while(null!==Wl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Il=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nu(tt,(function(){return Au(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var a=wt;wt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ei=Gt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=a+i),f!==o||0!==r&&3!==f.nodeType||(u=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=a),d===o&&++h===r&&(u=a),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(E){Su(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Je(),Tl=l,wt=a,_l.transition=o}else e.current=n;if(Kl&&(Kl=!1,Wl=e,$l=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Ql,Ql=null,e;0!==(1&$l)&&0!==e.tag&&Au(),o=e.pendingLanes,0!==(1&o)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Vi()}(e,t,n,r)}finally{_l.transition=i,wt=r}return null}function Au(){if(null!==Wl){var e=bt($l),t=_l.transition,n=wt;try{if(_l.transition=null,wt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,$l=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xa=c;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var f=h.child;if(null!==f)f.return=h,Xa=f;else for(;null!==Xa;){var d=(h=Xa).sibling,p=h.return;if(sl(h),h===c){Xa=null;break}if(null!==d){d.return=p,Xa=d;break}Xa=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Xa=v;break e}Xa=o.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){Su(l,l.return,A)}if(l===a){Xa=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Xa=E;break e}Xa=l.return}}if(Tl=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{wt=n,_l.transition=t}}return!1}function xu(e,t,n){e=js(e,t=da(0,t=ua(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=js(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Ye()-zl?fu(e,0):Ml|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ds(e,t))&&(yt(e,t,n),ru(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}function Nu(e,t){return Ke(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Iu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ou(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Lu(n.children,i,o,t);case S:a=8,i|=8;break;case k:return(e=Pu(12,n,t,2|i)).elementType=k,e.lanes=o,e;case N:return(e=Pu(13,n,t,i)).elementType=N,e.lanes=o,e;case I:return(e=Pu(19,n,t,i)).elementType=I,e.lanes=o,e;case R:return Bu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case _:a=9;break e;case T:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Mu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,o,a,l){return e=new ju(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bs(s),e}function zu(e){if(!e)return _i;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Vu(e,t,n,r,i,s,o,a,l){return(e=Uu(n,r,!0,e,0,s,0,a,l)).context=zu(null),n=e.current,(s=Ms(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,js(n,s,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=js(i,t,o))&&(nu(e,i,o,s),Us(e,i,o)),o}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),ds();break;case 5:Ys(t);break;case 1:Oi(t.type)&&Bi(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(As,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Ga(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Ga(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Ns(t,n),i=mo(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bs(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),Vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ia(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ia(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),r===i){t=Ga(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fa(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(As,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ga(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ms(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ts(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ts(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Is(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Aa(e,t,r,i=na(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,Oi(r)?(e=!0,Bi(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Gu(o);a.call(e)}}Hu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gu(o);s.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Gu(l);a.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return Gu(o)}$u.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hu(e,t,null,null)},$u.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pi]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Ye()),0===(6&Tl)&&(Vl=Ye()+500,Vi()))}break;case 13:cu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},At=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},St=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ae=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ce,_e,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(s(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,g(b,y.prototype),b.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+T(a=e[u],u);l+=N(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=s+T(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)A.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,R(A);else{var t=r(c);null!==t&&D(E,t.startTime-e)}}function A(e,n){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var s=d;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var a=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var h=r(c);null!==h&&D(E,h.startTime-n),l=!1}return l}finally{f=null,d=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,k=null,C=-1,_=5,T=-1;function N(){return!(t.unstable_now()-T<_)}function I(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?x():(S=!1,k=null)}}else S=!1}if("function"===typeof w)x=function(){w(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=I,x=function(){O.postMessage(null)}}else x=function(){y(I,0)};function R(e){k=e,S||(S=!0,x())}function D(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(m?(v(C),C=-1):m=!0,D(E,s-o))):(e.sortIndex=a,n(u,e),g||p||(g=!0,R(A))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},895:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var h=o(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,c]);var d=s(e,h[0],h[1]);return a((function(){f.hasValue=!0,f.value=d}),[d]),u(d),d}},237:(e,t,n)=>{"use strict";e.exports=n(895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".8ab44547.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>dh,My:()=>ih,Ph:()=>ah,lX:()=>lh,Id:()=>fh,fg:()=>mh,qj:()=>hh,aT:()=>oh,lq:()=>uh,z:()=>ch,Q5:()=>vh});var t=n(43),r=n(391),i=n(237),s=t,o=Symbol.for("react-redux-context"),a="undefined"!==typeof globalThis?globalThis:{};function l(){if(!s.createContext)return{};const e=a[o]??(a[o]=new Map);let t=e.get(s.createContext);return t||(t=s.createContext(null),e.set(s.createContext,t)),t}var u=l(),c=()=>{throw new Error("uSES not initialized!")};function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(){return s.useContext(e)}}var f=h(),d=c,p=(e,t)=>e===t;function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=e===u?f:h(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=p,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:a,getServerState:l,stabilityCheck:u,identityFunctionCheck:c}=t(),h=(s.useRef(!0),s.useCallback({[e.name]:t=>e(t)}[e.name],[e,u,i.stabilityCheck])),f=d(a.addNestedSub,o.getState,l||o.getState,h,r);return s.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var m=g();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function y(e){e()}var v={notify(){},get:()=>[]};function w(e,t){let n,r=v,i=0,s=!1;function o(){u.onStateChange&&u.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){y((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=v)}const u={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return u}var b=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),E="undefined"!==typeof navigator&&"ReactNative"===navigator.product,A=b||E?s.useLayoutEffect:s.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var x=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:a="once"}=e;const l=s.useMemo((()=>{const e=w(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:a}}),[t,i,o,a]),c=s.useMemo((()=>t.getState()),[t]);A((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const h=n||u;return s.createElement(h.Provider,{value:l},r)};function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=e===u?f:h(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var k=S();function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=e===u?k:S(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var _,T=C();function N(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}_=i.useSyncExternalStoreWithSelector,d=_,(e=>{0})(t.useSyncExternalStore);var I=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),P=()=>Math.random().toString(36).substring(7).split("").join("."),O={INIT:`@@redux/INIT${P()}`,REPLACE:`@@redux/REPLACE${P()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${P()}`};function R(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function D(e,t,n){if("function"!==typeof e)throw new Error(N(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(N(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(N(1));return n(D)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function c(){if(l)throw new Error(N(3));return i}function h(e){if("function"!==typeof e)throw new Error(N(4));if(l)throw new Error(N(5));let t=!0;u();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(N(6));t=!1,u(),o.delete(n),s=null}}}function f(e){if(!R(e))throw new Error(N(7));if("undefined"===typeof e.type)throw new Error(N(8));if("string"!==typeof e.type)throw new Error(N(17));if(l)throw new Error(N(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}f({type:O.INIT});return{dispatch:f,subscribe:h,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(N(10));r=e,f({type:O.REPLACE})},[I]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(N(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[I](){return this}}}}}function L(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:O.INIT}))throw new Error(N(12));if("undefined"===typeof n(void 0,{type:O.PROBE_UNKNOWN_ACTION()}))throw new Error(N(13))}))}(n)}catch(s){i=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],u=e[a],c=l(u,t);if("undefined"===typeof c){t&&t.type;throw new Error(N(14))}o[a]=c,s=s||c!==u}return s=s||r.length!==Object.keys(e).length,s?o:e}}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function F(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var M=F(),j=F,U=Symbol.for("immer-nothing"),z=Symbol.for("immer-draftable"),V=Symbol.for("immer-state");function H(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var G=Object.getPrototypeOf;function Q(e){return!!e&&!!e[V]}function q(e){return!!e&&(W(e)||Array.isArray(e)||!!e[z]||!!e.constructor?.[z]||Z(e)||ee(e))}var K=Object.prototype.constructor.toString();function W(e){if(!e||"object"!==typeof e)return!1;const t=G(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}function $(e,t){0===J(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function J(e){const t=e[V];return t?t.type_:Array.isArray(e)?1:Z(e)?2:ee(e)?3:0}function Y(e,t){return 2===J(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function X(e,t,n){const r=J(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Z(e){return e instanceof Map}function ee(e){return e instanceof Set}function te(e){return e.copy_||e.base_}function ne(e,t){if(Z(e))return new Map(e);if(ee(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=W(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[V];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(G(e),t)}{const t=G(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function re(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return se(e)||Q(e)||!q(e)||(J(e)>1&&(e.set=e.add=e.clear=e.delete=ie),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return re(n,!0)}))),e}function ie(){H(2)}function se(e){return Object.isFrozen(e)}var oe,ae={};function le(e){const t=ae[e];return t||H(0),t}function ue(){return oe}function ce(e,t){t&&(le("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function he(e){fe(e),e.drafts_.forEach(pe),e.drafts_=null}function fe(e){e===oe&&(oe=e.parent_)}function de(e){return oe={drafts_:[],parent_:oe,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pe(e){const t=e[V];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ge(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[V].modified_&&(he(t),H(4)),q(e)&&(e=me(t,e),t.parent_||ve(t,e)),t.patches_&&le("Patches").generateReplacementPatches_(n[V].base_,e,t.patches_,t.inversePatches_)):e=me(t,n,[]),he(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==U?e:void 0}function me(e,t,n){if(se(t))return t;const r=t[V];if(!r)return $(t,((i,s)=>ye(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return ve(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),$(i,((i,o)=>ye(e,r,t,i,o,n,s))),ve(e,t,!1),n&&e.patches_&&le("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ye(e,t,n,r,i,s,o){if(Q(i)){const o=me(e,i,s&&t&&3!==t.type_&&!Y(t.assigned_,r)?s.concat(r):void 0);if(X(n,r,o),!Q(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(q(i)&&!se(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;me(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||ve(e,i)}}function ve(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&re(t,n)}var we={get(e,t){if(t===V)return e;const n=te(e);if(!Y(n,t))return function(e,t,n){const r=Ae(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!q(r)?r:r===Ee(e.base_,t)?(Se(e),e.copy_[t]=ke(r,e)):r},has:(e,t)=>t in te(e),ownKeys:e=>Reflect.ownKeys(te(e)),set(e,t,n){const r=Ae(te(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ee(te(e),t),i=r?.[V];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Y(e.base_,t)))return!0;Se(e),xe(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Ee(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Se(e),xe(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=te(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){H(11)},getPrototypeOf:e=>G(e.base_),setPrototypeOf(){H(12)}},be={};function Ee(e,t){const n=e[V];return(n?te(n):e)[t]}function Ae(e,t){if(!(t in e))return;let n=G(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=G(n)}}function xe(e){e.modified_||(e.modified_=!0,e.parent_&&xe(e.parent_))}function Se(e){e.copy_||(e.copy_=ne(e.base_,e.scope_.immer_.useStrictShallowCopy_))}$(we,((e,t)=>{be[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),be.deleteProperty=function(e,t){return be.set.call(this,e,t,void 0)},be.set=function(e,t,n){return we.set.call(this,e[0],t,n,e[0])};function ke(e,t){const n=Z(e)?le("MapSet").proxyMap_(e,t):ee(e)?le("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ue(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=we;n&&(i=[r],s=be);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:ue()).drafts_.push(n),n}function Ce(e){if(!q(e)||se(e))return e;const t=e[V];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ne(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ne(e,!0);return $(n,((e,t)=>{X(n,e,Ce(t))})),t&&(t.finalized_=!1),n}var _e=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&H(6),void 0!==n&&"function"!==typeof n&&H(7),q(e)){const i=de(this),s=ke(e,void 0);let o=!0;try{r=t(s),o=!1}finally{o?he(i):fe(i)}return ce(i,n),ge(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===U&&(r=void 0),this.autoFreeze_&&re(r,!0),n){const t=[],i=[];le("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}H(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){q(e)||H(8),Q(e)&&(e=function(e){Q(e)||H(10);return Ce(e)}(e));const t=de(this),n=ke(e,void 0);return n[V].isManual_=!0,fe(t),n}finishDraft(e,t){const n=e&&e[V];n&&n.isManual_||H(9);const{scope_:r}=n;return ce(r,t),ge(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=le("Patches").applyPatches_;return Q(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Te=_e.produce;_e.produceWithPatches.bind(_e),_e.setAutoFreeze.bind(_e),_e.setUseStrictShallowCopy.bind(_e),_e.applyPatches.bind(_e),_e.createDraft.bind(_e),_e.finishDraft.bind(_e);var Ne="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?B:B.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ie(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Qe(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return R(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Pe=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Oe(e){return q(e)?Te(e,(()=>{})):e}function Re(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var De="RTK_autoBatch",Le=e=>t=>{setTimeout(t,e)},Be=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new Pe(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const o=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Le(10):"callback"===e.type?e.queueNotification:Le(e.timeout),l=()=>{s=!1,i&&(i=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return r=!e?.meta?.[De],i=!r,i&&(s||(s=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Fe(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Qe(28));if(r in t)throw new Error(Qe(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Me=Symbol.for("rtk-slice-createasyncthunk");function je(e,t){return`${e}/${t}`}function Ue(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Me];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Qe(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Qe(12));if(n in o.sliceCaseReducersByType)throw new Error(Qe(13));return o.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(o.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Fe(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Fe(t);if(function(e){return"function"===typeof e}(e))n=()=>Oe(e());else{const t=Oe(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[s]),o.reduce(((e,n)=>{if(n){if(Q(e)){const r=n(e,t);return void 0===r?e:r}if(q(e))return Te(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],o={reducerName:r,type:je(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:o,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Qe(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(o,r).exposeAction(o,i?Ie(s,i):Ie(s))}(o,s,a):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(Qe(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:u,settled:c,options:h}=t,f=r(i,o,h);n.exposeAction(s,f),a&&n.addCase(f.fulfilled,a);l&&n.addCase(f.pending,l);u&&n.addCase(f.rejected,u);c&&n.addMatcher(f.settled,c);n.exposeCaseReducer(s,{fulfilled:a||He,pending:l||He,rejected:u||He,settled:c||He})}(o,s,a,t)}));const u=e=>e,c=new Map;let h;function f(e,t){return h||(h=l()),h(e,t)}function d(){return h||(h=l()),h.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=d()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=Re(c,n,(()=>new WeakMap));return Re(r,t,(()=>{const r={};for(const[i,s]of Object.entries(e.selectors??{}))r[i]=ze(s,t,d,n);return r}))}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g={name:n,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:d,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:f},n),{...g,...p(i,!0)}}};return g}}function ze(e,t,n,r){function i(i){let s=t(i);"undefined"===typeof s&&r&&(s=n());for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e(s,...a)}return i.unwrapped=e,i}var Ve=Ue();function He(){}var{assign:Ge}=Object;Symbol.for("rtk-state-proxy-original");function Qe(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const qe=Ve({name:"auth",initialState:{isAuthenticated:!1},reducers:{login:e=>{e.isAuthenticated=!0},logout:e=>{e.isAuthenticated=!1}}}),{login:Ke,logout:We}=qe.actions,$e=qe.reducer,Je=Ve({name:"metaMask",initialState:{connectedAccount:null,currentChainId:null,SUPPORTED_NETWORKS:{"0x89":"Polygon Mainnet","0x13882":"Polygon Amoy Testnet"}},reducers:{setConnectedAccount:(e,t)=>{e.connectedAccount=t.payload},setCurrentChainId:(e,t)=>{e.currentChainId=t.payload}}}),{setConnectedAccount:Ye,setCurrentChainId:Xe}=Je.actions,Ze=Je.reducer,et=Ve({name:"chatbox",initialState:{chatHistory:[],message:""},reducers:{setChatHistory(e,t){e.chatHistory=t.payload},addMessage(e,t){e.chatHistory.push(t.payload)},updateMessage(e,t){e.message=t.payload},updateMessageStatus(e,t){const{index:n,status:r,errorMessage:i}=t.payload;e.chatHistory[n]&&(e.chatHistory[n].status=r,i&&(e.chatHistory[n].errorMessage=i))}}}),{setChatHistory:tt,addMessage:nt,updateMessage:rt,updateMessageStatus:it}=et.actions,st=et.reducer,ot={queryStatus:"idle",queryFee:null,transactionHash:null,queryID:null,error:null,timeStamp:null},at=Ve({name:"query",initialState:ot,reducers:{startQuery(e){e.queryStatus="calculating_query_fee",e.queryFee=null,e.transactionHash=null,e.queryID=null,e.error=null,e.timeStamp=null},setQueryFee(e,t){e.queryStatus="waiting_for_tx_approval",e.queryFee=t.payload},setQueryID(e,t){e.queryID=t.payload},submitTransaction(e,t){e.queryStatus="tx_submitted",e.transactionHash=t.payload},transactionSuccess(e,t){e.queryStatus="tx_success",e.transactionHash=t.payload},transactionFailure(e,t){e.queryStatus="tx_failed",e.error=t.payload},querySubmitted(e,t){e.queryStatus="query_submitted",e.timeStamp=t.payload,console.log("Query Submitted at:",e.timeStamp)},querySuccess(e,t){e.queryStatus="query_successful",e.error=null},queryFailed(e,t){e.queryStatus="query_failed",e.error=t.payload},resetQueryState:()=>ot}}),{startQuery:lt,setQueryFee:ut,setQueryID:ct,submitTransaction:ht,transactionSuccess:ft,transactionFailure:dt,querySubmitted:pt,querySuccess:gt,queryFailed:mt,resetQueryState:yt}=at.actions,vt=at.reducer,wt=Ve({name:"gameState",initialState:{gameStatus:null,lockOverlay:!0,winningMessage:"",gameExhaustedMessage:"",showConfetti:!1,isGameStatusLoading:!0,contractAddress:null,contractABI:null,idleSince:null},reducers:{setGameStatus:(e,t)=>{e.gameStatus=t.payload},setLockOverlay:(e,t)=>{e.lockOverlay=t.payload},setWinningMessage:(e,t)=>{e.winningMessage=t.payload},setGameExhaustedMessage:(e,t)=>{e.gameExhaustedMessage=t.payload},setShowConfetti:(e,t)=>{e.showConfetti=t.payload},setIsGameStatusLoading:(e,t)=>{e.isGameStatusLoading=t.payload},setContractAddress:(e,t)=>{e.contractAddress=t.payload},setContractABI:(e,t)=>{e.contractABI=t.payload},setIdleSince:(e,t)=>{e.idleSince=t.payload}}}),{setGameStatus:bt,setLockOverlay:Et,setWinningMessage:At,setGameExhaustedMessage:xt,setShowConfetti:St,setIsGameStatusLoading:kt,setContractAddress:Ct,setContractABI:_t,setIdleSince:Tt}=wt.actions,Nt=wt.reducer,It=Ve({name:"gameStats",initialState:{prizePool:0,prizePoolInUsd:0,participants:0,breakInAttempts:0,interactionCost:"0.00",usdRate:0},reducers:{setStats:(e,t)=>{e.prizePool=t.payload.prizePool,e.prizePoolInUsd=t.payload.prizePoolInUsd,e.participants=t.payload.participants,e.breakInAttempts=t.payload.breakInAttempts,e.interactionCost=t.payload.interactionCost}}}),{setStats:Pt}=It.actions,Ot=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let s=new Pe;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(M):s.push(j(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:o}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!R(n))throw new Error(Qe(1));a=L(n)}l="function"===typeof r?r(t):t();let u=B;i&&(u=Ne({trace:!1,..."object"===typeof i&&i}));const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(N(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},a=t.map((e=>e(o)));return s=B(...a)(i.dispatch),{...i,dispatch:s}}}(...l),h=Be(c);return D(a,s,u(..."function"===typeof o?o(h):h()))}({reducer:{auth:$e,metaMask:Ze,chatbox:st,query:vt,gameState:Nt,gameStats:It.reducer}}),Rt=Ot;n(358);var Dt="popstate";function Lt(){return Vt((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return jt("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Ut(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Bt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ft(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Mt(e,t){return{usr:e.state,key:e.key,idx:t}}function jt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?zt(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function Ut(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function zt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Vt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();function c(){return(o.state||{idx:null}).idx}function h(){a="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:d.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Ut(e);return n=n.replace(/ $/,"%20"),Bt(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==u&&(u=0,o.replaceState({...o.state,idx:u},""));let d={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dt,h),l=e,()=>{i.removeEventListener(Dt,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=jt(d.location,e,t);n&&n(r,e),u=c()+1;let h=Mt(r,u),f=d.createHref(r);try{o.pushState(h,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(f)}s&&l&&l({action:a,location:d.location,delta:1})},replace:function(e,t){a="REPLACE";let r=jt(d.location,e,t);n&&n(r,e),u=c();let i=Mt(r,u),h=d.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:d.location,delta:0})},go:e=>o.go(e)};return d}function Ht(e,t){return Gt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function Gt(e,t,n,r){let i=sn(("string"===typeof t?zt(t):t).pathname||"/",n);if(null==i)return null;let s=Qt(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=rn(i);o=tn(s[a],e,r)}return o}function Qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Bt(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let a=cn([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Bt(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${a}".`),Qt(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:en(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of qt(e.path))i(e,t,n);else i(e,t)})),t}function qt(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=qt(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var Kt=/^:[\w-]+$/,Wt=3,$t=2,Jt=1,Yt=10,Xt=-2,Zt=e=>"*"===e;function en(e,t){let n=e.split("/"),r=n.length;return n.some(Zt)&&(r+=Xt),t&&(r+=$t),n.filter((e=>!Zt(e))).reduce(((e,t)=>e+(Kt.test(t)?Wt:""===t?Jt:Yt)),r)}function tn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=nn({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=nn({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:cn([s,c.pathname]),pathnameBase:hn(cn([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=cn([s,c.pathnameBase]))}return o}function nn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ft("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function rn(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ft(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function on(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function an(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ln(e){let t=an(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function un(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=zt(e):(r={...e},Bt(!r.pathname||!r.pathname.includes("?"),on("?","pathname","search",r)),Bt(!r.pathname||!r.pathname.includes("#"),on("#","pathname","hash",r)),Bt(!r.search||!r.search.includes("#"),on("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?zt(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:fn(r),hash:dn(i)}}(r,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}var cn=e=>e.join("/").replace(/\/\/+/g,"/"),hn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fn=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",dn=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function pn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var gn=["POST","PUT","PATCH","DELETE"],mn=(new Set(gn),["GET",...gn]);new Set(mn),Symbol("ResetLoaderData");var yn=t.createContext(null);yn.displayName="DataRouter";var vn=t.createContext(null);vn.displayName="DataRouterState";var wn=t.createContext({isTransitioning:!1});wn.displayName="ViewTransition";var bn=t.createContext(new Map);bn.displayName="Fetchers";var En=t.createContext(null);En.displayName="Await";var An=t.createContext(null);An.displayName="Navigation";var xn=t.createContext(null);xn.displayName="Location";var Sn=t.createContext({outlet:null,matches:[],isDataRoute:!1});Sn.displayName="Route";var kn=t.createContext(null);kn.displayName="RouteError";function Cn(){return null!=t.useContext(xn)}function _n(){return Bt(Cn(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(xn).location}var Tn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nn(e){t.useContext(An).static||t.useLayoutEffect(e)}function In(){let{isDataRoute:e}=t.useContext(Sn);return e?function(){let{router:e}=jn("useNavigate"),n=zn("useNavigate"),r=t.useRef(!1);Nn((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ft(r.current,Tn),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))}),[e,n]);return i}():function(){Bt(Cn(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(yn),{basename:n,navigator:r}=t.useContext(An),{matches:i}=t.useContext(Sn),{pathname:s}=_n(),o=JSON.stringify(ln(i)),a=t.useRef(!1);Nn((()=>{a.current=!0}));let l=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ft(a.current,Tn),!a.current)return;if("number"===typeof t)return void r.go(t);let l=un(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:cn([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,o,s,e]);return l}()}t.createContext(null);function Pn(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(Sn),{pathname:i}=_n(),s=JSON.stringify(ln(r));return t.useMemo((()=>un(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function On(e,n,r,i){Bt(Cn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(An),{matches:o}=t.useContext(Sn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let e=h&&h.path||"";Gn(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,d=_n();if(n){let e="string"===typeof n?zt(n):n;Bt("/"===c||e.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=d;let p=f.pathname||"/",g=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Ht(e,{pathname:g});Ft(h||null!=m,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ft(null==m||void 0!==m[m.length-1].route.element||void 0!==m[m.length-1].route.Component||void 0!==m[m.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Fn(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:cn([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:cn([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&y?t.createElement(xn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function Rn(){let e=Vn(),n=pn(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var Dn=t.createElement(Rn,null),Ln=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Sn.Provider,{value:this.props.routeContext},t.createElement(kn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bn(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(yn);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Sn.Provider,{value:n},i)}function Fn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));Bt(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,a=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,l,u)=>{let c,h=!1,f=null,d=null;r&&(c=s&&l.route.id?s[l.route.id]:void 0,f=l.route.errorElement||Dn,o&&(a<0&&0===u?(Gn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,d=null):a===u&&(h=!0,d=l.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,u+1)),g=()=>{let n;return n=c?f:h?d:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(Bn,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===u)?t.createElement(Ln,{location:r.location,revalidation:r.revalidation,component:f,error:c,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function Mn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jn(e){let n=t.useContext(yn);return Bt(n,Mn(e)),n}function Un(e){let n=t.useContext(vn);return Bt(n,Mn(e)),n}function zn(e){let n=function(e){let n=t.useContext(Sn);return Bt(n,Mn(e)),n}(e),r=n.matches[n.matches.length-1];return Bt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Vn(){let e=t.useContext(kn),n=Un("useRouteError"),r=zn("useRouteError");return void 0!==e?e:n.errors?.[r]}var Hn={};function Gn(e,t,n){t||Hn[e]||(Hn[e]=!0,Ft(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return On(t,void 0,r,n)}));function Qn(e){let{to:n,replace:r,state:i,relative:s}=e;Bt(Cn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=t.useContext(An);Ft(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=t.useContext(Sn),{pathname:l}=_n(),u=In(),c=un(n,ln(a),l,"path"===s),h=JSON.stringify(c);return t.useEffect((()=>{u(JSON.parse(h),{replace:r,state:i,relative:s})}),[u,h,s,r,i]),null}function qn(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kn(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;Bt(!Cn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:l,navigator:o,static:a,future:{}})),[l,o,a]);"string"===typeof i&&(i=zt(i));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:p="default"}=i,g=t.useMemo((()=>{let e=sn(c,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:d,key:p},navigationType:s}}),[l,c,h,f,d,p,s]);return Ft(null!=g,`<Router basename="${l}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==g?null:t.createElement(An.Provider,{value:u},t.createElement(xn.Provider,{children:r,value:g}))}function Wn(e){let{children:t,location:n}=e;return On($n(t),n)}t.Component;function $n(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,$n(e.props.children,s));Bt(e.type===qn,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=$n(e.props.children,s)),r.push(o)})),r}var Jn="get",Yn="application/x-www-form-urlencoded";function Xn(e){return null!=e&&"string"===typeof e.tagName}var Zn=null;var er=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tr(e){return null==e||er.has(e)?e:(Ft(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yn}"`),null)}function nr(e,t){let n,r,i,s,o;if(function(e){return Xn(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");r=o?sn(o,t):null,n=e.getAttribute("method")||Jn,i=tr(e.getAttribute("enctype"))||Yn,s=new FormData(e)}else if(function(e){return Xn(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Xn(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?sn(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Jn,i=tr(e.getAttribute("formenctype"))||tr(o.getAttribute("enctype"))||Yn,s=new FormData(o,e),!function(){if(null===Zn)try{new FormData(document.createElement("form"),0),Zn=!1}catch(e){Zn=!0}return Zn}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Xn(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jn,r=null,i=Yn,o=e}return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function rr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ir(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function sr(e){return null!=e&&"string"===typeof e.page}function or(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ar(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function lr(e){return[...new Set(e)]}function ur(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!sr(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function cr(e){return{__html:e}}Symbol("SingleFetchRedirect");function hr(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}t.Component;function fr(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(pn(n))return t.createElement(dr,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(dr,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function dr(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=vr();return o.root?.Layout&&!i?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?t.createElement(kr,null):null)))}function pr(e){return!e}function gr(){let e=t.useContext(yn);return rr(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mr(){let e=t.useContext(vn);return rr(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yr=t.createContext(void 0);function vr(){let e=t.useContext(yr);return rr(e,"You must render this element inside a <HydratedRouter> element"),e}function wr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function br(e,t,n){if(n&&!Sr)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Er(e){let{page:n,...r}=e,{router:i}=gr(),s=t.useMemo((()=>Ht(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?t.createElement(xr,{page:n,matches:s,...r}):null}function Ar(e){let{manifest:n,routeModules:r}=vr(),[i,s]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return ur((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await ir(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(or).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||s(e)})),()=>{t=!0}}),[e,n,r]),i}function xr(e){let{page:n,matches:r,...i}=e,s=_n(),{manifest:o,routeModules:a}=vr(),{loaderData:l,matches:u}=mr(),c=t.useMemo((()=>ar(n,r,u,o,s,"data")),[n,r,u,o,s]),h=t.useMemo((()=>ar(n,r,u,o,s,"assets")),[n,r,u,o,s]),f=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=o.routes[n.route.id];r&&r.hasLoader&&(!c.some((e=>e.route.id===n.route.id))&&n.route.id in l&&a[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=hr(n);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,s,o,c,r,n,a]),d=t.useMemo((()=>function(e,t){return lr(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(h,o)),[h,o]),p=Ar(h);return t.createElement(t.Fragment,null,f.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),d.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),p.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}yr.displayName="FrameworkContext";var Sr=!1;function kr(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:s}=vr(),{router:o,static:a,staticContext:l}=gr(),{matches:u}=mr(),c=pr(i);s&&(s.didRenderScripts=!0);let h=br(u,null,i);t.useEffect((()=>{0}),[]);let f=t.useMemo((()=>{let i=l?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=a?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${c?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>`import * as route${t} from ${JSON.stringify(n.routes[e.route.id].module)};`)).join("\n")}\n  ${c?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=Ht(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:cr(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:cr(s),type:"module",async:!0}))}),[]),d=h.map((e=>{let t=n.routes[e.route.id];return t?(t.imports||[]).concat([t.module]):[]})).flat(1),p=Sr?[]:n.entry.imports.concat(d);return Sr?null:t.createElement(t.Fragment,null,c?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin}),[...new Set(g)].map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin}))),f);var g}function Cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var _r="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{_r&&(window.__reactRouterVersion="7.1.1")}catch(Gx){}function Tr(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=Lt({window:i,v5Compat:!0}));let o=s.current,[a,l]=t.useState({action:o.action,location:o.location}),u=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>o.listen(u)),[o,u]),t.createElement(Kn,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var Nr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=t.forwardRef((function(e,n){let r,{onClick:i,discover:s="render",prefetch:o="none",relative:a,reloadDocument:l,replace:u,state:c,target:h,to:f,preventScrollReset:d,viewTransition:p,...g}=e,{basename:m}=t.useContext(An),y="string"===typeof f&&Nr.test(f),v=!1;if("string"===typeof f&&y&&(r=f,_r))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=sn(t.pathname,m);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:v=!0}catch(Gx){Ft(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Bt(Cn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(An),{hash:s,pathname:o,search:a}=Pn(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:cn([r,o])),i.createHref({pathname:l,search:a,hash:s})}(f,{relative:a}),[b,E,A]=function(e,n){let r=t.useContext(yr),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=n,d=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return d.current&&e.observe(d.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},g=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,d,{}]:[o,d,{onFocus:wr(l,p),onBlur:wr(u,g),onMouseEnter:wr(c,p),onMouseLeave:wr(h,g),onTouchStart:wr(f,p)}]:[!1,d,{}]}(o,g),x=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=In(),u=_n(),c=Pn(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:Ut(u)===Ut(c);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[u,l,c,r,i,n,e,s,o,a])}(f,{replace:u,state:c,target:h,preventScrollReset:d,relative:a,viewTransition:p});let S=t.createElement("a",{...g,...A,href:r||w,onClick:v||l?i:function(e){i&&i(e),e.defaultPrevented||x(e)},ref:Cr(n,E),target:h,"data-discover":y||"render"!==s?void 0:"true"});return b&&!y?t.createElement(t.Fragment,null,S,t.createElement(Er,{page:w})):S}));Ir.displayName="Link";var Pr=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c,...h}=e,f=Pn(l,{relative:h.relative}),d=_n(),p=t.useContext(vn),{navigator:g,basename:m}=t.useContext(An),y=null!=p&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(wn);Bt(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dr("useViewTransitionState"),s=Pn(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=sn(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=sn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=nn(s.pathname,a)||null!=nn(s.pathname,o)}(f)&&!0===u,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=d.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&m&&(b=sn(b,m)||b);const E="/"!==v&&v.endsWith("/")?v.length-1:v.length;let A,x=w===v||!o&&w.startsWith(v)&&"/"===w.charAt(E),S=null!=b&&(b===v||!o&&b.startsWith(v)&&"/"===b.charAt(v.length)),k={isActive:x,isPending:S,isTransitioning:y},C=x?r:void 0;A="function"===typeof s?s(k):[s,x?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof a?a(k):a;return t.createElement(Ir,{...h,"aria-current":C,className:A,ref:n,style:_,to:l,viewTransition:u},"function"===typeof c?c(k):c)}));Pr.displayName="NavLink";var Or=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:a,state:l,method:u=Jn,action:c,onSubmit:h,relative:f,preventScrollReset:d,viewTransition:p,...g}=e,m=Fr(),y=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(An),i=t.useContext(Sn);Bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Pn(e||".",{relative:n})},a=_n();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:cn([r,o.pathname]));return Ut(o)}(c,{relative:f}),v="get"===u.toLowerCase()?"get":"post",w="string"===typeof c&&Nr.test(c);return t.createElement("form",{ref:n,method:v,action:y,onSubmit:o?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;m(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:a,state:l,relative:f,preventScrollReset:d,viewTransition:p})},...g,"data-discover":w||"render"!==r?void 0:"true"})}));function Rr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dr(e){let n=t.useContext(yn);return Bt(n,Rr(e)),n}Or.displayName="Form";var Lr=0,Br=()=>`__${String(++Lr)}__`;function Fr(){let{router:e}=Dr("useSubmit"),{basename:n}=t.useContext(An),r=zn("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:u}=nr(t,n);if(!1===i.navigate){let t=i.fetcherKey||Br();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}new TextEncoder;var Mr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jr=t.createContext&&t.createContext(Mr),Ur=["attr","size","title"];function zr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Gr({key:n},e.attr),qr(e.child))))}function Kr(e){return n=>t.createElement(Wr,Vr({attr:Gr({},e.attr)},n),qr(e.child))}function Wr(e){var n=n=>{var r,{attr:i,size:s,title:o}=e,a=zr(e,Ur),l=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Vr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:Gr(Gr({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==jr?t.createElement(jr.Consumer,null,(e=>n(e))):n(Mr)}function $r(e){return Kr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function Jr(e){return Kr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(e)}function Yr(e){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function Xr(e){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Zr(e){return Kr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"},child:[]}]})(e)}var ei=n(579);function ti(){const e=T(),n=m((e=>e.metaMask.connectedAccount)),r=m((e=>(console.log("currentChainId in Redux: ",e.metaMask.currentChainId),e.metaMask.currentChainId))),i=m((e=>e.metaMask.SUPPORTED_NETWORKS));(0,t.useEffect)((()=>{if(!window.ethereum)return void console.error("MetaMask is not installed or Ethereum provider is missing.");const t=t=>{console.log("\ud83d\udd25 Chain changed to:",t),e(Xe(t))};return window.ethereum.on("chainChanged",t),()=>window.ethereum.removeListener("chainChanged",t)}),[]);return(0,ei.jsxs)("header",{className:"relative bg-dark-bg py-4 mt-6",children:[(0,ei.jsx)("div",{className:"absolute left-40 top-1/5 transform -translate-y-1/2 mt-8",children:(0,ei.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",textShadow:"0 0 1px #00ff00, 0 0 10px #00ff00"},children:"Littlefinger.ai"})}),(0,ei.jsx)("div",{className:"flex justify-center mt-6",children:(0,ei.jsx)("nav",{children:(0,ei.jsxs)("ul",{className:"flex space-x-8 text-neon-green text-md",children:[(0,ei.jsx)("li",{className:"hover:text-neon-yellow cursor-pointer",children:(0,ei.jsx)(Ir,{to:"/",children:"Home"})}),(0,ei.jsx)("li",{className:"hover:text-neon-yellow cursor-pointer",children:(0,ei.jsx)(Ir,{to:"/about",children:"Legend"})}),(0,ei.jsx)("li",{className:"hover:text-neon-yellow cursor-pointer",children:(0,ei.jsx)(Ir,{to:"/faq",children:"FAQ"})}),(0,ei.jsx)("li",{className:"hover:text-neon-yellow cursor-pointer",children:(0,ei.jsx)(Ir,{to:"/terms",children:"Terms"})})]})})}),(0,ei.jsx)("div",{className:"absolute right-36 top-1/2 transform -translate-y-1/2 flex items-center space-x-2 mt-4",children:n?(0,ei.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ei.jsxs)("select",{value:r||"",onChange:async t=>{const n=t.target.value;if(console.log("\ud83c\udf00 Current chainId:",r),console.log("\ud83c\udf00 Selected chainId:",n),r!==n){console.log(`\ud83d\udd04 Updating Redux with new chainId: ${n}`),e(Xe(n));try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),console.log("\u2705 Switched to",n)}catch(i){console.error("\u274c Error switching network:",i.message),4902===i.code&&console.log("\ud83d\udee0\ufe0f This network is not available in MetaMask.")}}else console.log("\u23f8\ufe0f Chain is already set to",n)},className:"p-1 bg-dark-secondary text-neon-green rounded-md text-sm",children:[console.log("\ud83d\udce2 Selected value in Dropdown (value of select):",r),(0,ei.jsx)("option",{value:"",disabled:!0,children:"Select Network"}),Object.entries(i).map((e=>{let[t,n]=e;return(0,ei.jsx)("option",{value:t,children:n},t)}))]}),(0,ei.jsx)(Xr,{onClick:async()=>{try{await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const t=await window.ethereum.request({method:"eth_requestAccounts"}),n=await window.ethereum.request({method:"eth_chainId"});e(Ye(t[0])),e(Xe(n)),console.log("Reconnected wallet to:",t[0])}catch(t){console.error("Error reconnecting wallet:",t)}},className:"text-green text-xl cursor-pointer hover:text-neon-yellow transition-all",title:"Reconnect"}),(0,ei.jsx)(Zr,{onClick:()=>{e(Ye(null)),e(Xe(null))},className:"text-purple-600 text-xl cursor-pointer hover:text-red-700 transition-all",title:"Disconnect"}),(0,ei.jsx)("span",{className:"text-neon-green text-sm",children:(s=n,s?`${s.slice(0,4)}...`:"")})]}):(0,ei.jsx)("button",{onClick:async()=>{try{const t=await window.ethereum.request({method:"eth_requestAccounts"});console.log("Received accounts:",t);const n=await window.ethereum.request({method:"eth_chainId"});console.log(n),e(Ye(t[0])),e(Xe(n))}catch(t){console.error("Error connecting wallet:",t)}},className:"px-3 py-1 bg-[#8247e5] text-black rounded-md text-sm hover:bg-neon-yellow transition-all",children:"Connect Wallet"})})]});var s}function ni(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=e,i}async function ri(e){const t=Object.keys(e),n=await Promise.all(t.map((t=>Promise.resolve(e[t]))));return n.reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function ii(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&ni(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function si(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(si).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return si(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${si(t)}: ${si(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function oi(e,t){return e&&e.code===t}function ai(e){return oi(e,"CALL_EXCEPTION")}function li(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${si(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+si(t))}}r.push(`code=${t}`),r.push("version=6.13.4"),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return ii(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&ii(r,{shortMessage:i}),r}function ui(e,t,n,r){if(!e)throw li(t,n,r)}function ci(e,t,n,r){ui(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function hi(e,t,n){null==n&&(n=""),n&&(n=": "+n),ui(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),ui(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const fi=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e}),[]);function di(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),ui(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function pi(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}ci(!1,"invalid BytesLike value",t||"value",e)}function gi(e,t){return pi(e,t,!1)}function mi(e,t){return pi(e,t,!0)}function yi(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function vi(e){return yi(e,!0)||e instanceof Uint8Array}const wi="0123456789abcdef";function bi(e){const t=gi(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=wi[(240&e)>>4]+wi[15&e]}return n}function Ei(e){return"0x"+e.map((e=>bi(e).substring(2))).join("")}function Ai(e){return yi(e,!0)?(e.length-2)/2:gi(e).length}function xi(e,t,n){const r=gi(e);return null!=n&&n>r.length&&ui(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),bi(r.slice(null==t?0:t,null==n?r.length:n))}function Si(e,t,n){const r=gi(e);ui(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),bi(i)}function ki(e,t){return Si(e,t,!0)}const Ci=BigInt(0),_i=BigInt(1),Ti=9007199254740991;function Ni(e,t){const n=Ri(e,"value"),r=BigInt(Bi(t,"width"));if(ui(n>>r===Ci,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-_i){return-((~n&(_i<<r)-_i)+_i)}return n}function Ii(e,t){let n=Oi(e,"value");const r=BigInt(Bi(t,"width")),i=_i<<r-_i;if(n<Ci){n=-n,ui(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(_i<<r)-_i)+_i}return ui(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function Pi(e,t){const n=Ri(e,"value"),r=BigInt(Bi(t,"bits"));return n&(_i<<r)-_i}function Oi(e,t){switch(typeof e){case"bigint":return e;case"number":return ci(Number.isInteger(e),"underflow",t||"value",e),ci(e>=-Ti&&e<=Ti,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(Gx){ci(!1,`invalid BigNumberish string: ${Gx.message}`,t||"value",e)}}ci(!1,"invalid BigNumberish value",t||"value",e)}function Ri(e,t){const n=Oi(e,t);return ui(n>=Ci,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Di="0123456789abcdef";function Li(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Di[n>>4],t+=Di[15&n];return BigInt(t)}return Oi(e)}function Bi(e,t){switch(typeof e){case"bigint":return ci(e>=-Ti&&e<=Ti,"overflow",t||"value",e),Number(e);case"number":return ci(Number.isInteger(e),"underflow",t||"value",e),ci(e>=-Ti&&e<=Ti,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Bi(BigInt(e),t)}catch(Gx){ci(!1,`invalid numeric string: ${Gx.message}`,t||"value",e)}}ci(!1,"invalid numeric value",t||"value",e)}function Fi(e,t){let n=Ri(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=Bi(t,"width");for(ui(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function Mi(e){const t=Ri(e,"value");if(t===Ci)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function ji(e){let t=bi(vi(e)?e:Mi(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const Ui=BigInt(-1),zi=BigInt(0),Vi=BigInt(1),Hi=BigInt(5),Gi={};let Qi="0000";for(;Qi.length<80;)Qi+=Qi;function qi(e){let t=Qi;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function Ki(e,t,n){const r=BigInt(t.width);if(t.signed){const t=Vi<<r-Vi;ui(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>zi?Ni(Pi(e,r),r):-Ni(Pi(-e,r),r)}else{const t=Vi<<r;ui(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-Vi}return e}function Wi(e){"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ci(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(ci(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}ci(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ci(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}class $i{format;#e;#t;#n;_value;constructor(e,t,n){di(e,Gi,"FixedNumber"),this.#t=t,this.#e=n;const r=function(e,t){let n="";e<zi&&(n="-",e*=Ui);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=Qi+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);ii(this,{format:n.name,_value:r}),this.#n=qi(n.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#r(e){ci(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,t){return e=Ki(e,this.#e,t),new $i(Gi,e,this.#e)}#s(e,t){return this.#r(e),this.#i(this.#t+e.#t,t)}addUnsafe(e){return this.#s(e)}add(e){return this.#s(e,"add")}#o(e,t){return this.#r(e),this.#i(this.#t-e.#t,t)}subUnsafe(e){return this.#o(e)}sub(e){return this.#o(e,"sub")}#a(e,t){return this.#r(e),this.#i(this.#t*e.#t/this.#n,t)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#r(e);const t=this.#t*e.#t;return ui(t%this.#n===zi,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(t/this.#n,"mulSignal")}#l(e,t){return ui(e.#t!==zi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e),this.#i(this.#t*this.#n/e.#t,t)}divUnsafe(e){return this.#l(e)}div(e){return this.#l(e,"div")}divSignal(e){ui(e.#t!==zi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(e);const t=this.#t*this.#n;return ui(t%e.#t===zi,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(t/e.#t,"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=qi(r):r<0&&(t*=qi(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<zi&&(e-=this.#n-Vi),e=this.#t/this.#n*this.#n,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>zi&&(e+=this.#n-Vi),e=this.#t/this.#n*this.#n,this.#i(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=Hi*qi(t-1);let r=this.value+n;const i=qi(t);return r=r/i*i,Ki(r,this.#e,"round"),new $i(Gi,r,this.#e)}isZero(){return this.#t===zi}isNegative(){return this.#t<zi}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return $i.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:Bi(t),i=Wi(n);let s=Oi(e,"value");const o=r-i.decimals;if(o>0){const t=qi(o);ui(s%t===zi,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=qi(-o));return Ki(s,i,"fromValue"),new $i(Gi,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ci(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=Wi(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=Qi;ui(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return Ki(o,r,"fromString"),new $i(Gi,o,r)}static fromBytes(e,t){let n=Li(gi(e,"value"));const r=Wi(t);return r.signed&&(n=Ni(n,r.width)),Ki(n,r,"fromBytes"),new $i(Gi,n,r)}}const Ji=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Yi(e,t){ci("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=Ji.indexOf(t);ci(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=Bi(t,"unit"));return $i.fromString(e,{decimals:n,width:512}).value}const Xi=32,Zi=new Uint8Array(Xi),es=["then"],ts={},ns=new WeakMap;function rs(e){return ns.get(e)}function is(e,t){ns.set(e,t)}function ss(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function os(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof as?os(rs(e),e,n):e)):e.reduce(((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof as&&(s=os(rs(s),s,n)),e[r]=s),e}),{})}class as extends Array{#u;constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==ts&&(i=t,s=[],o=!1),super(i.length),i.forEach(((e,t)=>{this[t]=e}));const a=s.reduce(((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(is(this,Object.freeze(i.map(((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null})))),this.#u=[],null==this.#u&&this.#u,!o)return;Object.freeze(this);const l=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=Bi(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&ss(`index ${n}`,r),r}if(es.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return is(l,rs(this)),l}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&ss(`index ${r}`,n),e&&n instanceof as&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=rs(this);return t.reduce(((n,r,i)=>(ui(null!=r,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),os(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=rs(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new as(ts,r,i)}filter(e,t){const n=rs(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&ss(`index ${s}`,o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new as(ts,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&ss(`index ${r}`,i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=rs(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&ss(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new as(ts,e,t)}}function ls(e){let t=Mi(e);return ui(t.length<=Xi,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Xi,offset:t.length}),t.length!==Xi&&(t=mi(Ei([Zi.slice(t.length%Xi),t]))),t}class us{name;type;localName;dynamic;constructor(e,t,n,r){ii(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){ci(!1,e,this.localName,t)}}class cs{#c;#h;constructor(){this.#c=[],this.#h=0}get data(){return Ei(this.#c)}get length(){return this.#h}#f(e){return this.#c.push(e),this.#h+=e.length,e.length}appendWriter(e){return this.#f(mi(e.data))}writeBytes(e){let t=mi(e);const n=t.length%Xi;return n&&(t=mi(Ei([t,Zi.slice(n)]))),this.#f(t)}writeValue(e){return this.#f(ls(e))}writeUpdatableValue(){const e=this.#c.length;return this.#c.push(Zi),this.#h+=Xi,t=>{this.#c[e]=ls(t)}}}class hs{allowLoose;#c;#d;#p;#g;#m;constructor(e,t,n){ii(this,{allowLoose:!!t}),this.#c=mi(e),this.#p=0,this.#g=null,this.#m=null!=n?n:1024,this.#d=0}get data(){return bi(this.#c)}get dataLength(){return this.#c.length}get consumed(){return this.#d}get bytes(){return new Uint8Array(this.#c)}#y(e){if(this.#g)return this.#g.#y(e);this.#p+=e,ui(this.#m<1||this.#p<=this.#m*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#m} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:mi(this.#c),offset:this.#d,length:e,info:{bytesRead:this.#p,dataLength:this.dataLength}})}#v(e,t,n){let r=Math.ceil(t/Xi)*Xi;return this.#d+r>this.#c.length&&(this.allowLoose&&n&&this.#d+t<=this.#c.length?r=t:ui(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:mi(this.#c),length:this.#c.length,offset:this.#d+r})),this.#c.slice(this.#d,this.#d+r)}subReader(e){const t=new hs(this.#c.slice(this.#d+e),this.allowLoose,this.#m);return t.#g=this,t}readBytes(e,t){let n=this.#v(0,e,!!t);return this.#y(e),this.#d+=n.length,n.slice(0,e)}readValue(){return Li(this.readBytes(Xi))}readIndex(){return Bi(Li(this.readBytes(Xi)))}}function fs(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ds(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function ps(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");fs(e.outputLen),fs(e.blockLen)}function gs(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ms(e,t){ds(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ys=BigInt(2**32-1),vs=BigInt(32);function ws(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&ys),l:Number(e>>vs&ys)}:{h:0|Number(e>>vs&ys),l:0|Number(e&ys)}}function bs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=ws(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Es=(e,t,n)=>e<<n|t>>>32-n,As=(e,t,n)=>t<<n|e>>>32-n,xs=(e,t,n)=>t<<n-32|e>>>64-n,Ss=(e,t,n)=>e<<n-32|t>>>64-n;const ks={fromBig:ws,split:bs,toBig:(e,t)=>BigInt(e>>>0)<<vs|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Es,rotlSL:As,rotlBH:xs,rotlBL:Ss,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Cs="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,_s=e=>e instanceof Uint8Array,Ts=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ns=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Is(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!_s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Ps{clone(){return this._cloneInto()}}function Os(e){const t=t=>e().update(Is(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Cs&&"function"===typeof Cs.getRandomValues)return Cs.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Ds,Ls,Bs]=[[],[],[]],Fs=BigInt(0),Ms=BigInt(1),js=BigInt(2),Us=BigInt(7),zs=BigInt(256),Vs=BigInt(113);for(let n=0,Qx=Ms,qx=1,Kx=0;n<24;n++){[qx,Kx]=[Kx,(2*qx+3*Kx)%5],Ds.push(2*(5*Kx+qx)),Ls.push((n+1)*(n+2)/2%64);let e=Fs;for(let t=0;t<7;t++)Qx=(Qx<<Ms^(Qx>>Us)*Vs)%zs,Qx&js&&(e^=Ms<<(Ms<<BigInt(t))-Ms);Bs.push(e)}const[Hs,Gs]=bs(Bs,!0),Qs=(e,t,n)=>n>32?xs(e,t,n):Es(e,t,n),qs=(e,t,n)=>n>32?Ss(e,t,n):As(e,t,n);class Ks extends Ps{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fs(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Qs(s,o,1)^n[t],l=qs(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Ls[n],s=Qs(t,i,r),o=qs(t,i,r),a=Ds[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Hs[r],e[1]^=Gs[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){gs(this);const{blockLen:t,state:n}=this,r=(e=Is(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){gs(this,!1),ds(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fs(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ms(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Ks(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Ws=(e,t,n)=>Os((()=>new Ks(t,e,n))),$s=Ws(1,136,32);let Js=!1;const Ys=function(e){return $s(e)};let Xs=Ys;function Zs(e){const t=gi(e,"data");return bi(Xs(t))}Zs._=Ys,Zs.lock=function(){Js=!0},Zs.register=function(e){if(Js)throw new TypeError("keccak256 is locked");Xs=e},Object.freeze(Zs);const eo=BigInt(0),to=BigInt(36);function no(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=gi(Zs(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const ro={};for(let n=0;n<10;n++)ro[String(n)]=String(n);for(let n=0;n<26;n++)ro[String.fromCharCode(65+n)]=String(10+n);function io(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>ro[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const so=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function oo(e){if(ci("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=no(e);return ci(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ci(e.substring(2,4)===io(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=eo;for(let n=0;n<e.length;n++)t=t*to+so[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return no("0x"+t)}ci(!1,"invalid address","address",e)}const ao={};function lo(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new ho(ao,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function uo(e,t){return new ho(ao,`bytes${t||""}`,e,{size:t})}const co=Symbol.for("_ethers_typed");class ho{type;value;#w;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),di(ao,e,"Typed"),ii(this,{_typedSymbol:co,type:t,value:n}),this.#w=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#w}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#w?-1:!1===this.#w?this.value.length:null}static from(e,t){return new ho(ao,e,t)}static uint8(e){return lo(e,8)}static uint16(e){return lo(e,16)}static uint24(e){return lo(e,24)}static uint32(e){return lo(e,32)}static uint40(e){return lo(e,40)}static uint48(e){return lo(e,48)}static uint56(e){return lo(e,56)}static uint64(e){return lo(e,64)}static uint72(e){return lo(e,72)}static uint80(e){return lo(e,80)}static uint88(e){return lo(e,88)}static uint96(e){return lo(e,96)}static uint104(e){return lo(e,104)}static uint112(e){return lo(e,112)}static uint120(e){return lo(e,120)}static uint128(e){return lo(e,128)}static uint136(e){return lo(e,136)}static uint144(e){return lo(e,144)}static uint152(e){return lo(e,152)}static uint160(e){return lo(e,160)}static uint168(e){return lo(e,168)}static uint176(e){return lo(e,176)}static uint184(e){return lo(e,184)}static uint192(e){return lo(e,192)}static uint200(e){return lo(e,200)}static uint208(e){return lo(e,208)}static uint216(e){return lo(e,216)}static uint224(e){return lo(e,224)}static uint232(e){return lo(e,232)}static uint240(e){return lo(e,240)}static uint248(e){return lo(e,248)}static uint256(e){return lo(e,256)}static uint(e){return lo(e,256)}static int8(e){return lo(e,-8)}static int16(e){return lo(e,-16)}static int24(e){return lo(e,-24)}static int32(e){return lo(e,-32)}static int40(e){return lo(e,-40)}static int48(e){return lo(e,-48)}static int56(e){return lo(e,-56)}static int64(e){return lo(e,-64)}static int72(e){return lo(e,-72)}static int80(e){return lo(e,-80)}static int88(e){return lo(e,-88)}static int96(e){return lo(e,-96)}static int104(e){return lo(e,-104)}static int112(e){return lo(e,-112)}static int120(e){return lo(e,-120)}static int128(e){return lo(e,-128)}static int136(e){return lo(e,-136)}static int144(e){return lo(e,-144)}static int152(e){return lo(e,-152)}static int160(e){return lo(e,-160)}static int168(e){return lo(e,-168)}static int176(e){return lo(e,-176)}static int184(e){return lo(e,-184)}static int192(e){return lo(e,-192)}static int200(e){return lo(e,-200)}static int208(e){return lo(e,-208)}static int216(e){return lo(e,-216)}static int224(e){return lo(e,-224)}static int232(e){return lo(e,-232)}static int240(e){return lo(e,-240)}static int248(e){return lo(e,-248)}static int256(e){return lo(e,-256)}static int(e){return lo(e,-256)}static bytes1(e){return uo(e,1)}static bytes2(e){return uo(e,2)}static bytes3(e){return uo(e,3)}static bytes4(e){return uo(e,4)}static bytes5(e){return uo(e,5)}static bytes6(e){return uo(e,6)}static bytes7(e){return uo(e,7)}static bytes8(e){return uo(e,8)}static bytes9(e){return uo(e,9)}static bytes10(e){return uo(e,10)}static bytes11(e){return uo(e,11)}static bytes12(e){return uo(e,12)}static bytes13(e){return uo(e,13)}static bytes14(e){return uo(e,14)}static bytes15(e){return uo(e,15)}static bytes16(e){return uo(e,16)}static bytes17(e){return uo(e,17)}static bytes18(e){return uo(e,18)}static bytes19(e){return uo(e,19)}static bytes20(e){return uo(e,20)}static bytes21(e){return uo(e,21)}static bytes22(e){return uo(e,22)}static bytes23(e){return uo(e,23)}static bytes24(e){return uo(e,24)}static bytes25(e){return uo(e,25)}static bytes26(e){return uo(e,26)}static bytes27(e){return uo(e,27)}static bytes28(e){return uo(e,28)}static bytes29(e){return uo(e,29)}static bytes30(e){return uo(e,30)}static bytes31(e){return uo(e,31)}static bytes32(e){return uo(e,32)}static address(e){return new ho(ao,"address",e)}static bool(e){return new ho(ao,"bool",!!e)}static bytes(e){return new ho(ao,"bytes",e)}static string(e){return new ho(ao,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new ho(ao,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===co}static dereference(e,t){if(ho.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class fo extends us{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=ho.dereference(t,"string");try{n=oo(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return oo(Fi(e.readValue(),20))}}class po extends us{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function go(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map((t=>{const r=t.localName;return ui(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),ui(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else ci(!1,"invalid tuple value","tuple",n);ci(t.length===r.length,"types/value length mismatch","tuple",n);let i=new cs,s=new cs,o=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push((e=>{r(e+t)}))}else e.encode(i,n)})),o.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function mo(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(oi(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(oi(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)})),as.fromItems(n,r)}class yo extends us{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),ii(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=ho.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),hi(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return go(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),ui(t*Xi<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Xi,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new po(this.coder));return mo(e,n)}}class vo extends us{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=ho.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class wo extends us{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=mi(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class bo extends wo{constructor(e){super("bytes",e)}decode(e){return bi(super.decode(e))}}class Eo extends us{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),ii(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=mi(ho.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return bi(e.readBytes(this.size))}}const Ao=new Uint8Array([]);class xo extends us{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Ao)}decode(e){return e.readBytes(0),null}}const So=BigInt(0),ko=BigInt(1),Co=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class _o extends us{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),ii(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Oi(ho.dereference(t,this.type)),r=Pi(Co,256);if(this.signed){let e=Pi(r,8*this.size-1);(n>e||n<-(e+ko))&&this._throwError("value out-of-bounds",t),n=Ii(n,256)}else(n<So||n>Pi(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=Pi(e.readValue(),8*this.size);return this.signed&&(t=Ni(t,8*this.size)),t}}function To(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const No=Object.freeze({error:function(e,t,n,r,i){ci(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:To,replace:function(e,t,n,r,i){return"OVERLONG"===e?(ci("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),To(e,t,n))}});function Io(e,t){null==t&&(t=No.error);const n=gi(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let l=0;l<s;l++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function Po(e,t){ci("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){ui(fi.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);ci(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Oo(e,t){return Io(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Ro extends wo{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Po(ho.dereference(t,"string")))}decode(e){return Oo(super.decode(e))}}class Do extends us{coders;constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),ii(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){const n=ho.dereference(t,"tuple");return go(e,this.coders,n)}decode(e){return mo(e,this.coders)}}function Lo(e){return Zs(Po(e))}function Bo(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Fo=Bo("external public payable override".split(" ")),Mo="constant external internal payable private public pure view override",jo=Bo(Mo.split(" ")),Uo="constructor error event fallback function receive struct",zo=Bo(Uo.split(" ")),Vo="calldata memory storage payable indexed",Ho=Bo(Vo.split(" ")),Go=Bo([Uo,Vo,"tuple returns",Mo].join(" ").split(" ")),Qo={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},qo=new RegExp("^(\\s*)"),Ko=new RegExp("^([0-9]+)"),Wo=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),$o=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Jo=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Yo{#d;#b;get offset(){return this.#d}get length(){return this.#b.length-this.#d}constructor(e){this.#d=0,this.#b=e.slice()}clone(){return new Yo(this.#b)}reset(){this.#d=0}#E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Yo(this.#b.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#E(this.#d+1,e.match+1);return this.#d=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#d<e.match-1;){const e=this.peek().linkNext;t.push(this.#E(this.#d+1,e)),this.#d=e}return this.#d=e.match+1,t}peek(){if(this.#d>=this.#b.length)throw new Error("out-of-bounds");return this.#b[this.#d]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#d++,e}toString(){const e=[];for(let t=this.#d;t<this.#b.length;t++){const n=this.#b[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function Xo(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${n} at ${s}: ${t}`)};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(qo);a&&(s+=a[1].length,o=e.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(l);let u=Qo[o[0]]||"";if(u){if(l.type=u,l.text=o[0],s++,"OPEN_PAREN"===u)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==u)0===r.length&&n("no matching open bracket"),l.match=r.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===u)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===u)l.type="BRACKET";else if("CLOSE_BRACKET"===u){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=Bi(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Wo),a){if(l.text=a[1],s+=l.text.length,Go.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Jo)){l.type="TYPE";continue}l.type="ID"}else{if(a=o.match(Ko),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);l.text=a[1],l.type="NUMBER",s+=l.text.length}}return new Yo(t.map((e=>Object.freeze(e))))}function Zo(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function ea(e,t){if(t.peekKeyword(zo)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function ta(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function na(e){let t=ta(e,jo);return Zo(t,Bo("constant payable nonpayable".split(" "))),Zo(t,Bo("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function ra(e,t){return e.popParams().map((e=>ya.from(e,t)))}function ia(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Oi(e.pop().text);throw new Error("invalid gas")}return null}function sa(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const oa=new RegExp(/^(.*)\[([0-9]*)\]$/);function aa(e){const t=e.match(Jo);if(ci(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);ci(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);ci(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const la={},ua=Symbol.for("_ethers_internal"),ca="_ParamTypeInternal",ha="_ErrorInternal",fa="_EventInternal",da="_ConstructorInternal",pa="_FallbackInternal",ga="_FunctionInternal",ma="_StructInternal";class ya{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,i,s,o,a){if(di(e,la,"ParamType"),Object.defineProperty(this,ua,{value:ca}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");ii(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}#A(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,r)=>{i.#A(e,t,n,(e=>{s[r]=e}))})),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,r)=>{i[r].#A(e,t,n,(e=>{s[r]=e}))})),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}async walkAsync(e,t){const n=[],r=[e];return this.#A(n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(ya.isParamType(e))return e;if("string"===typeof e)try{return ya.from(Xo(e),t)}catch(o){ci(!1,"invalid param type","obj",e)}else if(e instanceof Yo){let n="",r="",i=null;ta(e,Bo(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map((e=>ya.from(e))),n=`tuple(${i.map((e=>e.format())).join(",")})`):(n=aa(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new ya(la,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(ta(e,Ho).has("indexed")){if(!t)throw new Error("");a=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ya(la,l,n,r,a,i,o,s)}const n=e.name;ci(!n||"string"===typeof n&&n.match($o),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(ci(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(oa);if(s){const t=parseInt(s[2]||"-1"),o=ya.from({type:s[1],components:e.components});return new ya(la,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>ya.from(e))):null;return new ya(la,n||"",i,"tuple",r,t,null,null)}return i=aa(e.type),new ya(la,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[ua]===ca}}class va{type;inputs;constructor(e,t,n){di(e,la,"Fragment"),ii(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{va.from(JSON.parse(e))}catch(Gx){}return va.from(Xo(e))}if(e instanceof Yo){switch(e.peekKeyword(zo)){case"constructor":return xa.from(e);case"error":return Ea.from(e);case"event":return Aa.from(e);case"fallback":case"receive":return Sa.from(e);case"function":return ka.from(e);case"struct":return Ca.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return xa.from(e);case"error":return Ea.from(e);case"event":return Aa.from(e);case"fallback":case"receive":return Sa.from(e);case"function":return ka.from(e);case"struct":return Ca.from(e)}ui(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ci(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return xa.isFragment(e)}static isError(e){return Ea.isFragment(e)}static isEvent(e){return Aa.isFragment(e)}static isFunction(e){return ka.isFragment(e)}static isStruct(e){return Ca.isFragment(e)}}class wa extends va{name;constructor(e,t,n,r){super(e,t,r),ci("string"===typeof n&&n.match($o),"invalid identifier","name",n),r=Object.freeze(r.slice()),ii(this,{name:n})}}function ba(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Ea extends wa{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,ua,{value:ha})}get selector(){return Lo(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+ba(e,this.inputs)),t.join(" ")}static from(e){if(Ea.isFragment(e))return e;if("string"===typeof e)return Ea.from(Xo(e));if(e instanceof Yo){const t=ea("error",e),n=ra(e);return sa(e),new Ea(la,t,n)}return new Ea(la,e.name,e.inputs?e.inputs.map(ya.from):[])}static isFragment(e){return e&&e[ua]===ha}}class Aa extends wa{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,ua,{value:fa}),ii(this,{anonymous:r})}get topicHash(){return Lo(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+ba(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>ya.from(e)));return new Aa(la,e,t,!1).topicHash}static from(e){if(Aa.isFragment(e))return e;if("string"===typeof e)try{return Aa.from(Xo(e))}catch(t){ci(!1,"invalid event fragment","obj",e)}else if(e instanceof Yo){const t=ea("event",e),n=ra(e,!0),r=!!ta(e,Bo(["anonymous"])).has("anonymous");return sa(e),new Aa(la,t,n,r)}return new Aa(la,e.name,e.inputs?e.inputs.map((e=>ya.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[ua]===fa}}class xa extends va{payable;gas;constructor(e,t,n,r,i){super(e,t,n),Object.defineProperty(this,ua,{value:da}),ii(this,{payable:r,gas:i})}format(e){if(ui(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${ba(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(xa.isFragment(e))return e;if("string"===typeof e)try{return xa.from(Xo(e))}catch(t){ci(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Yo){ta(e,Bo(["constructor"]));const t=ra(e),n=!!ta(e,Fo).has("payable"),r=ia(e);return sa(e),new xa(la,"constructor",t,n,r)}return new xa(la,"constructor",e.inputs?e.inputs.map(ya.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[ua]===da}}class Sa extends va{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,ua,{value:pa}),ii(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Sa.isFragment(e))return e;if("string"===typeof e)try{return Sa.from(Xo(e))}catch(t){ci(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Yo){const t=e.toString();ci(e.peekKeyword(Bo(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(Bo(["fallback","receive"]))){const t=ra(e);return ci(0===t.length,"receive cannot have arguments","obj.inputs",t),ta(e,Bo(["payable"])),sa(e),new Sa(la,[],!0)}let n=ra(e);n.length?ci(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[ya.from("bytes")];const r=na(e);if(ci("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),ta(e,Bo(["returns"])).has("returns")){const t=ra(e);ci(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return sa(e),new Sa(la,n,"payable"===r)}if("receive"===e.type)return new Sa(la,[],!0);if("fallback"===e.type){const t=[ya.from("bytes")],n="payable"===e.stateMutability;return new Sa(la,t,n)}ci(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[ua]===pa}}class ka extends wa{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,i,s){super(e,"function",t,r),Object.defineProperty(this,ua,{value:ga});ii(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return Lo(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+ba(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(ba(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>ya.from(e)));return new ka(la,e,"view",t,[],null).selector}static from(e){if(ka.isFragment(e))return e;if("string"===typeof e)try{return ka.from(Xo(e))}catch(n){ci(!1,"invalid function fragment","obj",e)}else if(e instanceof Yo){const t=ea("function",e),n=ra(e),r=na(e);let i=[];ta(e,Bo(["returns"])).has("returns")&&(i=ra(e));const s=ia(e);return sa(e),new ka(la,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new ka(la,e.name,t,e.inputs?e.inputs.map(ya.from):[],e.outputs?e.outputs.map(ya.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[ua]===ga}}class Ca extends wa{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,ua,{value:ma})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return Ca.from(Xo(e))}catch(t){ci(!1,"invalid struct fragment","obj",e)}else if(e instanceof Yo){const t=ea("struct",e),n=ra(e);return sa(e),new Ca(la,t,n)}return new Ca(la,e.name,e.inputs?e.inputs.map(ya.from):[])}static isFragment(e){return e&&e[ua]===ma}}const _a=new Map;_a.set(0,"GENERIC_PANIC"),_a.set(1,"ASSERT_FALSE"),_a.set(17,"OVERFLOW"),_a.set(18,"DIVIDE_BY_ZERO"),_a.set(33,"ENUM_RANGE_ERROR"),_a.set(34,"BAD_STORAGE_DATA"),_a.set(49,"STACK_UNDERFLOW"),_a.set(50,"ARRAY_RANGE_ERROR"),_a.set(65,"OUT_OF_MEMORY"),_a.set(81,"UNINITIALIZED_FUNCTION_CALL");const Ta=new RegExp(/^bytes([0-9]*)$/),Na=new RegExp(/^(u?int)([0-9]*)$/);let Ia=null,Pa=1024;class Oa{#x(e){if(e.isArray())return new yo(this.#x(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Do(e.components.map((e=>this.#x(e))),e.name);switch(e.baseType){case"address":return new fo(e.name);case"bool":return new vo(e.name);case"string":return new Ro(e.name);case"bytes":return new bo(e.name);case"":return new xo(e.name)}let t=e.type.match(Na);if(t){let n=parseInt(t[2]||"256");return ci(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new _o(n/8,"int"===t[1],e.name)}if(t=e.type.match(Ta),t){let n=parseInt(t[1]);return ci(0!==n&&n<=32,"invalid bytes length","param",e),new Eo(n,e.name)}ci(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#x(ya.from(e))));return new Do(t,"_").defaultValue()}encode(e,t){hi(t.length,e.length,"types/values length mismatch");const n=e.map((e=>this.#x(ya.from(e)))),r=new Do(n,"_"),i=new cs;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this.#x(ya.from(e))));return new Do(r,"_").decode(new hs(t,n,Pa))}static _setDefaultMaxInflation(e){ci("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Pa=e}static defaultAbiCoder(){return null==Ia&&(Ia=new Oa),Ia}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=gi(n);if(n=bi(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===bi(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(l){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===bi(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${_a.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(l){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?oo(t.to):null,data:t.data||"0x"};return t.from&&(a.from=oo(t.from)),li(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,Oa.defaultAbiCoder())}}function Ra(e){return e&&"function"===typeof e.getAddress}async function Da(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(ui("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),ci(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),oo(n)}function La(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?oo(e):(ui(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Da(e,t.resolveName(e))):Ra(e)?Da(e,e.getAddress()):e&&"function"===typeof e.then?Da(e,e):void ci(!1,"unsupported addressable value","target",e)}const Ba=new Uint8Array(32);Ba.fill(0);const Fa=BigInt(-1),Ma=BigInt(0),ja=BigInt(1),Ua=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const za=Fi(ja,32),Va=Fi(Ma,32),Ha={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ga=["name","version","chainId","verifyingContract","salt"];function Qa(e){return function(t){return ci("string"===typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const qa={name:Qa("name"),version:Qa("version"),chainId:function(e){const t=Oi(e,"domain.chainId");return ci(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):ji(t)},verifyingContract:function(e){try{return oo(e).toLowerCase()}catch(t){}ci(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=gi(e,"domain.salt");return ci(32===t.length,'invalid domain value "salt"',"domain.salt",e),bi(t)}};function Ka(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);ci(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=Pi(Ua,n?r-1:r),s=n?(i+ja)*Fa:Ma;return function(t){const r=Oi(t,"value");return ci(r>=s&&r<=i,`value out-of-bounds for ${e}`,"value",r),Fi(n?Ii(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return ci(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return ci(gi(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=gi(e),n=t.length%32;return n?Ei([t,Ba.slice(n)]):bi(t)}(t)}}}switch(e){case"address":return function(e){return ki(oo(e),32)};case"bool":return function(e){return e?za:Va};case"bytes":return function(e){return Zs(e)};case"string":return function(e){return Lo(e)}}return null}function Wa(e,t){return`${e}(${t.map((e=>{let{name:t,type:n}=e;return n+" "+t})).join(",")})`}function $a(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class Ja{primaryType;#S;get types(){return JSON.parse(this.#S)}#k;#C;constructor(e){this.#k=new Map,this.#C=new Map;const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach((s=>{i[s]=e[s].map((t=>{let{name:n,type:r}=t,{base:i,index:s}=$a(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}})),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)})),this.#S=JSON.stringify(i);for(const o in i){const r=new Set;for(const s of i[o]){ci(!r.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(o)}`,"types",e),r.add(s.name);const i=$a(s.type).base;ci(i!==o,`circular type reference to ${JSON.stringify(i)}`,"types",e);Ka(i)||(ci(n.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter((e=>0===n.get(e).length));ci(0!==s.length,"missing primary type","types",e),ci(1===s.length,`ambiguous primary types or unused types: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ii(this,{primaryType:s[0]}),function i(s,o){ci(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),this.#k.set(o,Wa(o,i[o])+e.map((e=>Wa(e,i[e]))).join(""))}}getEncoder(e){let t=this.#C.get(e);return t||(t=this.#_(e),this.#C.set(e,t)),t}#_(e){{const t=Ka(e);if(t)return t}const t=$a(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{ci(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let i=r.map(n);return this.#k.has(e)&&(i=i.map(Zs)),Zs(Ei(i))}}const n=this.types[e];if(n){const t=Lo(this.#k.get(e));return e=>{const r=n.map((t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return this.#k.has(r)?Zs(i):i}));return r.unshift(t),Ei(r)}}ci(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#k.get(e);return ci(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Zs(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Ka(e))return n(e,t);const r=$a(e).array;if(r)return ci(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map((e=>this._visit(r.prefix,e,n)));const i=this.types[e];if(i)return i.reduce(((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e}),{});ci(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ja(e)}static getPrimaryType(e){return Ja.from(e).primaryType}static hashStruct(e,t,n){return Ja.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Ha[n];ci(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>Ga.indexOf(e.name)-Ga.indexOf(t.name))),Ja.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ei(["0x1901",Ja.hashDomain(e),Ja.from(t).hash(n)])}static hash(e,t,n){return Zs(Ja.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!yi(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=Ja.from(t);s.visit(n,((e,t)=>("address"!==e||yi(t,20)||(i[t]="0x"),t)));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,n){Ja.hashDomain(e);const r={},i=[];Ga.forEach((t=>{const n=e[t];null!=n&&(r[t]=qa[t](n),i.push({name:t,type:Ha[t]}))}));const s=Ja.from(t);t=s.types;const o=Object.assign({},t);return ci(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return bi(gi(t));if(e.match(/^u?int/))return Oi(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return ci("string"===typeof t,"invalid string","value",t),t}ci(!1,"unsupported type","type",e)}))}}}function Ya(e,t){return{address:oo(e),storageKeys:t.map(((e,t)=>(ci(yi(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function Xa(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(ci(2===t.length,"invalid slot set",`value[${n}]`,t),Ya(t[0],t[1])):(ci(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),Ya(t.address,t.storageKeys))));ci(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Ya(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function Za(e){return async function(e,t){ui(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();ui("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),ui("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const i=new AbortController,s=setTimeout((()=>{r=li("request timeout","TIMEOUT"),i.abort()}),e.timeout);t&&t.addListener((()=>{r=li("request cancelled","CANCELLED"),i.abort()}));const o={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i.signal};let a;try{a=await fetch(e.url,o)}catch(h){if(clearTimeout(s),r)throw r;throw h}clearTimeout(s);const l={};a.headers.forEach(((e,t)=>{l[t.toLowerCase()]=e}));const u=await a.arrayBuffer(),c=null==u?null:new Uint8Array(u);return{statusCode:a.status,statusMessage:a.statusText,headers:l,body:c}}}Za();let el=Za();const tl=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),nl=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let rl=!1;async function il(e,t){try{const t=e.match(tl);if(!t)throw new Error("invalid data");return new hl(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return gi(t)}(t[3]):Po(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(n){return new hl(599,"BAD REQUEST (invalid data: URI)",{},null,new cl(e))}}function sl(e){return async function(t,n){try{const n=t.match(nl);if(!n)throw new Error("invalid link");return new cl(`${e}${n[2]}`)}catch(r){return new hl(599,"BAD REQUEST (invalid IPFS URI)",{},null,new cl(t))}}}const ol={data:il,ipfs:sl("https://gateway.ipfs.io/ipfs/")},al=new WeakMap;class ll{#T;#N;constructor(e){this.#T=[],this.#N=!1,al.set(e,(()=>{if(!this.#N){this.#N=!0;for(const e of this.#T)setTimeout((()=>{e()}),0);this.#T=[]}}))}addListener(e){ui(!this.#N,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#T.push(e)}get cancelled(){return this.#N}checkSignal(){ui(!this.cancelled,"cancelled","CANCELLED",{})}}function ul(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class cl{#I;#P;#O;#R;#D;#L;#B;#F;#M;#j;#U;#z;#V;#H;#G;get url(){return this.#L}set url(e){this.#L=String(e)}get body(){return null==this.#B?null:new Uint8Array(this.#B)}set body(e){if(null==e)this.#B=void 0,this.#F=void 0;else if("string"===typeof e)this.#B=Po(e),this.#F="text/plain";else if(e instanceof Uint8Array)this.#B=e,this.#F="application/octet-stream";else{if("object"!==typeof e)throw new Error("invalid body");this.#B=Po(JSON.stringify(e)),this.#F="application/json"}}hasBody(){return null!=this.#B}get method(){return this.#R?this.#R:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#R=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#O);return this.#M&&(e.authorization=`Basic ${function(e){const t=gi(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(Po(this.#M))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#F&&(e["content-type"]=this.#F),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#O[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#O={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#M||null}setCredentials(e,t){ci(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#M=`${e}:${t}`}get allowGzip(){return this.#P}set allowGzip(e){this.#P=!!e}get allowInsecureAuthentication(){return!!this.#I}set allowInsecureAuthentication(e){this.#I=!!e}get timeout(){return this.#D}set timeout(e){ci(e>=0,"timeout must be non-zero","timeout",e),this.#D=e}get preflightFunc(){return this.#j||null}set preflightFunc(e){this.#j=e}get processFunc(){return this.#U||null}set processFunc(e){this.#U=e}get retryFunc(){return this.#z||null}set retryFunc(e){this.#z=e}get getUrlFunc(){return this.#G||el}set getUrlFunc(e){this.#G=e}constructor(e){this.#L=String(e),this.#I=!1,this.#P=!0,this.#O={},this.#R="",this.#D=3e5,this.#H={slotInterval:250,maxAttempts:12},this.#G=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#B?bi(this.#B):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#H.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#H.maxAttempts=e.maxAttempts)}async#Q(e,t,n,r,i){if(e>=this.#H.maxAttempts)return i.makeServerError("exceeded maximum retry limit");ui(fl()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in ol){const e=await ol[o](s.url,ul(r.#V));if(e instanceof hl){let t=e;if(this.processFunc){ul(r.#V);try{t=await this.processFunc(s,t)}catch(u){null!=u.throttle&&"number"===typeof u.stall||t.makeServerError("error in post-processing function",u).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,ul(r.#V));let l=new hl(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===l.statusCode||302===l.statusCode){try{const n=l.headers.location||"";return s.redirect(n).#Q(e+1,t,0,r,l)}catch(u){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(s,l,e))){const n=l.headers["retry-after"];let i=this.#H.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),s.clone().#Q(e+1,t,i,r,l)}if(this.processFunc){ul(r.#V);try{l=await this.processFunc(s,l)}catch(u){null!=u.throttle&&"number"===typeof u.stall||l.makeServerError("error in post-processing function",u).assertOk();let n=this.#H.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(n=u.stall),s.clone().#Q(e+1,t,n,r,l)}}return l}send(){return ui(null==this.#V,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#V=new ll(this),this.#Q(0,fl()+this.timeout,0,this,new hl(0,"",{},null,this))}cancel(){ui(null!=this.#V,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=al.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();ui("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new cl(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#O=Object.assign({},this.#O),this.#B&&(r.#B=new Uint8Array(this.#B)),r.#F=this.#F,r}clone(){const e=new cl(this.url);return e.#R=this.#R,this.#B&&(e.#B=this.#B),e.#F=this.#F,e.#O=Object.assign({},this.#O),e.#M=this.#M,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#j=this.#j,e.#U=this.#U,e.#z=this.#z,e.#H=Object.assign({},this.#H),e.#G=this.#G,e}static lockConfig(){rl=!0}static getGateway(e){return ol[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(rl)throw new Error("gateways locked");ol[e]=t}static registerGetUrl(e){if(rl)throw new Error("gateways locked");el=e}static createGetUrlFunc(e){return Za()}static createDataGateway(){return il}static createIpfsGatewayFunc(e){return sl(e)}}class hl{#q;#K;#O;#B;#W;#$;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#B?bi(this.#B):"null"}>`}get statusCode(){return this.#q}get statusMessage(){return this.#K}get headers(){return Object.assign({},this.#O)}get body(){return null==this.#B?null:new Uint8Array(this.#B)}get bodyText(){try{return null==this.#B?"":Oo(this.#B)}catch(e){ui(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){ui(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){this.#q=e,this.#K=t,this.#O=Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{}),this.#B=null==r?null:new Uint8Array(r),this.#W=i||null,this.#$={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new hl(599,n,this.headers,this.body,this.#W||void 0);return r.#$={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:ci(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw ii(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#B}get request(){return this.#W}ok(){return""===this.#$.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#$;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#B&&(r=Oo(this.#B))}catch(Gx){}ui(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function fl(){return(new Date).getTime()}const dl="0x0000000000000000000000000000000000000000";class pl{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,i=e.format();ii(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class gl{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const i=e.name,s=e.format();ii(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class ml{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,i=e.format();ii(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class yl{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){ii(this,{hash:e,_isIndexed:!0})}}const vl={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},wl={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&vl[e.toString()]&&(t=vl[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class bl{fragments;deploy;fallback;receive;#J;#Y;#X;#Z;constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,this.#X=new Map,this.#J=new Map,this.#Y=new Map;const n=[];for(const o of t)try{n.push(va.from(o))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,s.message)}ii(this,{fragments:Object.freeze(n)});let r=null,i=!1;this.#Z=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void ii(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(ci(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,i=r.payable));case"function":n=this.#X;break;case"event":n=this.#Y;break;case"error":n=this.#J;break;default:return}const s=e.format();n.has(s)||n.set(s,e)})),this.deploy||ii(this,{deploy:xa.from("constructor()")}),ii(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return Oa.defaultAbiCoder()}#ee(e,t,n){if(yi(e)){const t=e.toLowerCase();for(const e of this.#X.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#X)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;ho.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(ho.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){ci(!1,`ambiguous function description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return r[0]}const r=this.#X.get(ka.from(e).format());return r||null}getFunctionName(e){const t=this.#ee(e,null,!1);return ci(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#ee(e,null,!1)}getFunction(e,t){return this.#ee(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#X.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#X.get(r),n)}}#te(e,t,n){if(yi(e)){const t=e.toLowerCase();for(const e of this.#Y.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#Y)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(ho.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){ci(!1,`ambiguous event description (i.e. matches ${r.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return r[0]}const r=this.#Y.get(Aa.from(e).format());return r||null}getEventName(e){const t=this.#te(e,null,!1);return ci(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#te(e,null,!1)}getEvent(e,t){return this.#te(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#Y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#Y.get(r),n)}}getError(e,t){if(yi(e)){const t=e.toLowerCase();if(wl[t])return Ea.from(wl[t].signature);for(const e of this.#J.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#J)n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Ea.from("error Error(string)"):"Panic"===e?Ea.from("error Panic(uint256)"):null;if(t.length>1){ci(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e)}return t[0]}if("Error(string)"===(e=Ea.from(e).format()))return Ea.from("error Error(string)");if("Panic(uint256)"===e)return Ea.from("error Panic(uint256)");const n=this.#J.get(e);return n||null}forEachError(e){const t=Array.from(this.#J.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(this.#J.get(r),n)}}_decodeParams(e,t){return this.#Z.decode(e,t)}_encodeParams(e,t){return this.#Z.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);ci(t,"unknown error","fragment",e),e=t}return ci(xi(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,xi(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);ci(t,"unknown error","fragment",e),e=t}return Ei([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);ci(t,"unknown function","fragment",e),e=t}return ci(xi(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,xi(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);ci(t,"unknown function","fragment",e),e=t}return Ei([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);ci(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=mi(t);if(r.length%32===0)try{return this.#Z.decode(e.outputs,r)}catch(i){n="could not decode result data"}ui(!1,n,"BAD_DATA",{value:bi(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=gi(e,"data"),r=Oa.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=bi(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#Z.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(Gx){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);ci(t,"unknown function","fragment",e),e=t}return bi(this.#Z.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);ci(t,"unknown event","eventFragment",e),e=t}ui(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?Lo(t):"bytes"===e.type?Zs(bi(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Fi(t):e.type.match(/^bytes/)?t=function(e,t){return Si(e,t,!1)}(t,32):"address"===e.type&&this.#Z.encode(["address"],[t]),ki(bi(t),32));for(t.forEach(((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?ci(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map((e=>r(s,e)))):n.push(r(s,t)):ci(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);ci(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),ci(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(Lo(o));else if("bytes"===e.type)n.push(Zs(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#Z.encode([e.type],[o]))}else r.push(e),i.push(o)})),{data:this.#Z.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);ci(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;ci(yi(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(ya.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))}));const o=null!=n?this.#Z.decode(r,Ei(n)):null,a=this.#Z.decode(i,t,!0),l=[],u=[];let c=0,h=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new yl(null);else if(s[t])n=new yl(o[h++]);else try{n=o[h++]}catch(r){n=r}else try{n=a[c++]}catch(r){n=r}l.push(n),u.push(e.name||null)})),as.fromItems(l,u)}parseTransaction(e){const t=gi(e.data,"tx.data"),n=Oi(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(bi(t.slice(0,4)));if(!r)return null;const i=this.#Z.decode(r.inputs,t.slice(4));return new gl(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new pl(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=bi(e),n=this.getError(xi(t,0,4));if(!n)return null;const r=this.#Z.decode(n.inputs,xi(t,4));return new ml(n,n.selector,r)}static from(e){return e instanceof bl?e:"string"===typeof e?new bl(JSON.parse(e)):"function"===typeof e.formatJson?new bl(e.formatJson()):"function"===typeof e.format?new bl(e.format("json")):new bl(e)}}const El=BigInt(0);function Al(e){return null==e?null:e}function xl(e){return null==e?null:e.toString()}class Sl{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){ii(this,{gasPrice:Al(e),maxFeePerGas:Al(t),maxPriorityFeePerGas:Al(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:xl(e),maxFeePerGas:xl(t),maxPriorityFeePerGas:xl(n)}}}function kl(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=bi(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=Oi(e[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=Bi(e[i],`request.${i}`));return e.accessList&&(t.accessList=Xa(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>vi(e)?bi(e):Object.assign({},e)))),t}class Cl{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#ne;constructor(e,t){this.#ne=e.transactions.map((e=>"string"!==typeof e?new Nl(e,t):e)),ii(this,{provider:t,hash:Al(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Al(e.prevRandao),extraData:e.extraData,baseFeePerGas:Al(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#ne.map((e=>"string"===typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#ne.slice();return 0===e.length?[]:(ui("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:l,number:u,parentHash:c,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:d,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:xl(e),difficulty:xl(t),extraData:n,gasLimit:xl(r),gasUsed:xl(i),blobGasUsed:xl(this.blobGasUsed),excessBlobGas:xl(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:l,number:u,parentHash:c,timestamp:p,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:d,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#ne.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=this.#ne[e];else{const n=e.toLowerCase();for(const e of this.#ne){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;ci(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class _l{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());ii(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ui(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ui(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ui(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Tl{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#re;constructor(e,t){this.#re=Object.freeze(e.logs.map((e=>new _l(e,t))));let n=El;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),ii(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#re}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:l,status:u,root:c}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:xl(this.cumulativeGasUsed),from:t,gasPrice:xl(this.gasPrice),blobGasUsed:xl(this.blobGasUsed),blobGasPrice:xl(this.blobGasPrice),gasUsed:xl(this.gasUsed),hash:r,index:i,logs:l,logsBloom:a,root:c,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Pl(this)}reorderedEvent(e){return ui(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Il(this,e)}}class Nl{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#ie;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#ie=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:l,signature:u,accessList:c,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:xl(this.chainId),data:l,from:o,gasLimit:xl(this.gasLimit),gasPrice:xl(this.gasPrice),hash:r,maxFeePerGas:xl(this.maxFeePerGas),maxPriorityFeePerGas:xl(this.maxPriorityFeePerGas),maxFeePerBlobGas:xl(this.maxFeePerBlobGas),nonce:a,signature:u,to:s,index:n,type:i,value:xl(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await ri({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=this.#ie,s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await ri({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<this.#ie&&(s=this.#ie));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===El&&(r="cancelled"),ui(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},l=e=>{if(null==e||0!==e.status)return e;ui(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},u=await this.provider.getTransactionReceipt(this.hash);if(0===n)return l(u);if(u){if(await u.confirmations()>=n)return l(u)}else if(await a(),0===n)return null;const c=new Promise(((e,t)=>{const s=[],u=()=>{s.forEach((e=>e()))};if(s.push((()=>{o=!0})),r>0){const e=setTimeout((()=>{u(),t(li("wait for transaction timeout","TIMEOUT"))}),r);s.push((()=>{clearTimeout(e)}))}const c=async r=>{if(await r.confirmations()>=n){u();try{e(l(r))}catch(i){t(i)}}};if(s.push((()=>{this.provider.off(this.hash,c)})),this.provider.on(this.hash,c),i>=0){const e=async()=>{try{await a()}catch(n){if(oi(n,"TRANSACTION_REPLACED"))return u(),void t(n)}o||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await c}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return ui(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Pl(this)}reorderedEvent(e){return ui(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ui(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Il(this,e)}replaceableTransaction(e){ci(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Nl(this,this.provider);return t.#ie=e,t}}function Il(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Pl(e){return{orphan:"drop-transaction",tx:e}}class Ol{filter;emitter;#se;constructor(e,t,n){this.#se=t,ii(this,{emitter:e,filter:n})}async removeListener(){null!=this.#se&&await this.emitter.off(this.filter,this.#se)}}class Rl extends _l{interface;fragment;args;constructor(e,t,n){super(e,e.provider);ii(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Dl extends _l{error;constructor(e,t){super(e,e.provider),ii(this,{error:t})}}class Ll extends Tl{#oe;constructor(e,t,n){super(n,t),this.#oe=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#oe.getEvent(e.topics[0]):null;if(t)try{return new Rl(e,this.#oe,t)}catch(n){return new Dl(e,n)}return e}))}}class Bl extends Nl{#oe;constructor(e,t,n){super(n,t),this.#oe=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new Ll(this.#oe,this.provider,n)}}class Fl extends Ol{log;constructor(e,t,n,r){super(e,t,n),ii(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Ml extends Fl{constructor(e,t,n,r,i){super(e,t,n,new Rl(i,e.interface,r));ii(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const jl=BigInt(0);function Ul(e){return e&&"function"===typeof e.call}function zl(e){return e&&"function"===typeof e.estimateGas}function Vl(e){return e&&"function"===typeof e.resolveName}function Hl(e){return e&&"function"===typeof e.sendTransaction}function Gl(e){if(null!=e){if(Vl(e))return e;if(e.provider)return e.provider}}class Ql{#ae;fragment;constructor(e,t,n){if(ii(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=ql(e.runner,"resolveName"),i=Vl(r)?r:null;this.#ae=async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>La(e,i)))):La(t,i):t)))));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#ae}}function ql(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Kl(e){return null==e?null:e.provider||null}async function Wl(e,t){const n=ho.dereference(e,"overrides");ci("object"===typeof n,"invalid overrides parameter","overrides",e);const r=kl(n);return ci(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ci(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function $l(e){const t=async function(t){const n=await Wl(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await La(n.from,Gl(e.runner)));const r=e.interface,i=Oi(n.value||jl,"overrides.value")===jl,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||ci(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),ci(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return ci(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),ci(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;ui(Hl(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Kl(e.runner);return new Bl(e.interface,s,i)},r=async e=>await n(e);return ii(r,{_contract:e,estimateGas:async function(n){const r=ql(e.runner,"estimateGas");return ui(zl(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=ql(e.runner,"call");ui(Ul(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(ai(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function Jl(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return ui(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let o={};if(s.inputs.length+1===r.length&&(o=await Wl(r.pop()),o.from&&(o.from=await La(o.from,Gl(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=ql(e,"resolveName"),i=Vl(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=ho.dereference(t,e),"address"===e?La(t,i):t))))))}(e.runner,s.inputs,r);return Object.assign({},o,await ri({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;ui(Hl(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Kl(e.runner);return new Bl(e.interface,i,n)},o=async function(){const t=ql(e.runner,"call");ui(Ul(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(ai(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return ii(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=ql(e.runner,"estimateGas");return ui(zl(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return ui(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const Yl=Symbol.for("_ethersInternal_contract"),Xl=new WeakMap;function Zl(e){return Xl.get(e[Yl])}async function eu(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(yi(t,32))return t;const n=e.interface.getEvent(t);return ci(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"===typeof t?yi(t,32)?n=[t]:(r=e.interface.getEvent(t),ci(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):ci(!1,"unknown event name","event",t);var i;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:r,tag:n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:n}}async function tu(e,t){const{subs:n}=Zl(e);return n.get((await eu(e,t)).tag)||null}async function nu(e,t,n){const r=Kl(e.runner);ui(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await eu(e,n),{addr:a,subs:l}=Zl(e);let u=l.get(s);if(!u){const t={address:a||e,topics:o},c=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];iu(e,n,o,(r=>new Ml(e,r,n,s,t)))}else iu(e,n,[],(r=>new Fl(e,r,n,t)))};let h=[];u={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,c))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,c)}},l.set(s,u)}return u}let ru=Promise.resolve();async function iu(e,t,n,r){try{await ru}catch(s){}const i=async function(e,t,n,r){await ru;const i=await tu(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o})),0===i.listeners.length&&(i.stop(),Zl(e).subs.delete(i.tag)),o>0}(e,t,n,r);return ru=i,await i}const su=["then"];class ou{target;interface;runner;filters;[Yl];fallback;constructor(e,t,n,r){ci("string"===typeof e||Ra(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=bl.from(t);let s;ii(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Yl,{value:{}});let o=null,a=null;if(r){const e=Kl(n);a=new Bl(this.interface,e,r)}let l=new Map;if("string"===typeof e)if(yi(e))o=e,s=Promise.resolve(e);else{const t=ql(n,"resolveName");if(!Vl(t))throw li("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then((t=>{if(null==t)throw li("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Zl(this).addr=t,t}))}else s=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return Zl(this).addr=e,e}));var u,c;u=this,c={addrPromise:s,addr:o,deployTx:a,subs:l},Xl.set(u[Yl],c);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||su.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!oi(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>su.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return ii(this,{filters:h}),ii(this,{fallback:i.receive||i.fallback?$l(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||su.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!oi(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||su.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ou(this.target,this.interface,e)}attach(e){return new ou(e,this.interface,this.runner)}async getAddress(){return await Zl(this).addrPromise}async getDeployedCode(){const e=Kl(this.runner);ui(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Kl(this.runner);return ui(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()}))}deploymentTransaction(){return Zl(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return Jl(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return ui(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Ql(e,n(...r),r)};return ii(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return ui(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=Zl(this),s=r||await i,{fragment:o,topics:a}=await eu(this,e),l={address:s,topics:a,fromBlock:t,toBlock:n},u=Kl(this.runner);return ui(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Rl(e,this.interface,t)}catch(n){return new Dl(e,n)}return new _l(e,u)}))}async on(e,t){const n=await nu(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await nu(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await iu(this,e,n,null)}async listenerCount(e){if(e){const t=await tu(this,e);return t?t.listeners.length:0}const{subs:t}=Zl(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await tu(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}const{subs:t}=Zl(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map((e=>{let{listener:t}=e;return t})));return n}async off(e,t){const n=await tu(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),Zl(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await tu(this,e);if(!t)return this;t.stop(),Zl(this).subs.delete(t.tag)}else{const{subs:e}=Zl(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ou{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class au extends(function(){return ou}()){}const lu=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function uu(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let b=1;b<r;b++)s.push(i+=n());let o=n(),a=t;t+=o;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}const h=2**31,f=h>>>1,d=f>>1,p=h-1;let g=0;for(let b=0;b<31;b++)g=g<<1|c();let m=[],y=0,v=h;for(;;){let e=Math.floor(((g-y+1)*i-1)/v),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;m.push(t);let o=y+Math.floor(v*s[t]/i),a=y+Math.floor(v*s[t+1]/i)-1;for(;0==((o^a)&f);)g=g<<1&p|c(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&f|g<<1&p>>>1|c(),o=o<<1^f,a=(a^f)<<1|f|1;y=o,v=1+a-o}let w=r-4;return m.map((t=>{switch(t-w){case 3:return w+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return w+256+(e[a++]<<8|e[a++]);case 1:return w+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function cu(e){return 1&e?~e>>1:e>>1}function hu(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=cu(t());return n}function fu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function du(e){return gu((()=>{let t=fu(e);if(t.length)return t}))}function pu(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(yu(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(vu(n,e))}return t.flat()}function gu(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function mu(e,t,n){let r=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)hu(e,n).forEach(((e,t)=>r[t].push(e)));return r}function yu(e,t){let n=1+t(),r=t(),i=gu(t);return mu(i.length,1+e,t).flatMap(((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*r;return[s+t*n,o.map((e=>e+i))]}))}))}function vu(e,t){return mu(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function wu(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function bu(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Eu(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Au(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const xu=44032,Su=4352,ku=4449,Cu=4519,_u=28,Tu=588;function Nu(e){return e>>24&255}function Iu(e){return 16777215&e}let Pu,Ou,Ru,Du;function Lu(e){return e>=xu&&e<55204}function Bu(e,t){if(e>=Su&&e<4371&&t>=ku&&t<4470)return xu+(e-Su)*Tu+(t-ku)*_u;if(Lu(e)&&t>Cu&&t<4547&&(e-xu)%_u==0)return e+(t-Cu);{let n=Du.get(e);return n&&(n=n.get(t),n)?n:-1}}function Fu(e){Pu||function(){let e=uu("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Pu=new Map(du(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Ou=new Set(fu(e)),Ru=new Map,Du=new Map;for(let[t,n]of pu(e)){if(!Ou.has(t)&&2==n.length){let[e,r]=n,i=Du.get(e);i||(i=new Map,Du.set(e,i)),i.set(r,t)}Ru.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=Pu.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Lu(s)){let e=s-xu,t=e%Tu/_u|0,n=e%_u;i(Su+(e/Tu|0)),i(ku+t),n>0&&i(Cu+n)}else{let e=Ru.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=Nu(t[0]);for(let n=1;n<t.length;n++){let r=Nu(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=Nu(t[--i]),e<=r)break}e=Nu(t[n])}}return t}function Mu(e){return Fu(e).map(Iu)}function ju(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=Nu(s),o=Iu(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=Bu(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(Fu(e))}const Uu=".",zu=e=>Array.from(e);function Vu(e,t){return e.P.has(t)||e.Q.has(t)}class Hu extends Array{get is_emoji(){return!0}}let Gu,Qu,qu,Ku,Wu,$u,Ju,Yu,Xu,Zu,ec,tc;function nc(){if(Gu)return;let e=uu("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>fu(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));Gu=new Map(pu(e)),Qu=n(),qu=t(),Ku=new Set(t().map((e=>qu[e]))),qu=new Set(qu),Wu=n(),$u=n();let i=du(e),s=e();const o=()=>{let e=new Set;return t().forEach((t=>r(e,i[t]))),r(e,t()),e};Ju=gu((t=>{let n=gu(e).map((e=>e+96));if(n.length){let r=t>=s;return n[0]-=32,n=Eu(n),r&&(n=`Restricted[${n}]`),{N:n,P:o(),Q:o(),M:!e(),R:r}}})),Yu=n(),Xu=new Map;let a=t().concat(zu(Yu)).sort(((e,t)=>e-t));a.forEach(((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),Yu.has(t)||Xu.set(t,i)}));for(let{V:c,M:h}of new Set(Xu.values())){let e=[];for(let n of c){let t=Ju.filter((e=>Vu(e,n))),i=e.find((e=>{let{G:n}=e;return t.some((e=>n.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap((e=>zu(e.G)));for(let{G:n,V:r}of e){let e=new Set(t.filter((e=>!n.has(e))));for(let t of r)h.set(t,e)}}Zu=new Set;let l=new Set;const u=e=>Zu.has(e)?l.add(e):Zu.add(e);for(let c of Ju){for(let e of c.P)u(e);for(let e of c.Q)u(e)}for(let c of Zu)Xu.has(c)||l.has(c)||Xu.set(c,1);r(Zu,Mu(Zu)),ec=function(e){let t=[],n=fu(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){return{S:e(),B:gu((()=>{let r=fu(e).map((e=>n[e]));if(r.length)return t(r)})),Q:r}}([]),[]),t}(e).map((e=>Hu.from(e))).sort(Au),tc=new Map;for(let c of ec){let e=[tc];for(let t of c){let n=e.map((e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}));65039===t?e.push(...n):e=n}for(let t of e)t.V=c}}function rc(e){return(oc(e)?"":`${ic(sc([e]))} `)+wu(e)}function ic(e){return`"${e}"\u200e`}function sc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wu,r=[];var i;i=e[0],nc(),qu.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];oc(t)&&(r.push(Eu(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(Eu(e.slice(s,o))),r.join("")}function oc(e){return nc(),Wu.has(e)}function ac(e,t,n){if(!e)return[];nc();let r=0;return e.split(Uu).map((e=>{let i=bu(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=fc(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${Eu(e.slice(0,4))}"`)}(a),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(qu.has(a[0]))throw hc("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&qu.has(t[0]))throw hc(`emoji + combining mark: "${Eu(r[e-1])} + ${sc([t[0]])}"`)}!function(e){let t=e[0],n=lu.get(t);if(n)throw hc(`leading ${n}`);let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=lu.get(t);if(r){if(i==s)throw hc(`${n} + ${r}`);i=s+1,n=r}}if(i==r)throw hc(`trailing ${n}`)}(a);let n=zu(new Set(t)),[i]=function(e){let t=Ju;for(let n of e){let e=t.filter((e=>Vu(e,n)));if(!e.length)throw Ju.some((e=>Vu(e,n)))?cc(t[0],n):uc(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Vu(e,n))throw cc(e,n);if(e.M){let e=Mu(t);for(let t=1,n=e.length;t<n;t++)if(Ku.has(e[t])){let r=t+1;for(let i;r<n&&Ku.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error(`duplicate non-spacing marks: ${rc(i)}`);if(r-t>4)throw new Error(`excessive non-spacing marks: ${ic(sc(e.slice(t-1,r)))} (${r-t}/4)`);t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=Xu.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter((e=>t.has(e))):zu(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every((e=>Vu(i,e))))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s}))}function lc(e){return e.map((t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:`Invalid label ${ic(sc(n,63))}: ${t}`)}return Eu(i)})).join(Uu)}function uc(e){return new Error(`disallowed character: ${rc(e)}`)}function cc(e,t){let n=rc(t),r=Ju.find((e=>e.P.has(t)));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function hc(e){return new Error(`illegal placement: ${e}`)}function fc(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=pc(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(Zu.has(t))i.push(t);else{let e=Gu.get(t);if(e)i.push(...e);else if(!Qu.has(t))throw uc(t)}}}return i.length&&r.push(t(i)),r}function dc(e){return e.filter((e=>65039!=e))}function pc(e,t){let n,r=tc,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const gc=new Uint8Array(32);function mc(e){return ci(0!==e.length,"invalid ENS name; empty component","comp",e),e}function yc(e){const t=Po(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return lc(ac(e,ju,dc))}(e)}catch(t){ci(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(mc(t.slice(r,i))),r=i+1)}return ci(r<t.length,"invalid ENS name; empty component","name",e),n.push(mc(t.slice(r))),n}function vc(e){ci("string"===typeof e,"invalid ENS name; not a string","name",e),ci(e.length,"invalid ENS name (empty label)","name",e);let t=gc;const n=yc(e);for(;n.length;)t=Zs(Ei([t,Zs(n.pop())]));return bi(t)}function wc(e,t){const n=null!=t?t:63;return ci(n<=255,"DNS encoded label cannot exceed 255","length",n),bi(Ei(yc(e).map((t=>{ci(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}gc.fill(0);class bc extends Ps{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ts(this.buffer)}update(e){gs(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Is(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Ts(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){gs(this),ms(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let c=s;c<r;c++)t[c]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,u=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Ts(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)o.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Ec=(e,t,n)=>e&t^~e&n,Ac=(e,t,n)=>e&t^e&n^t&n,xc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kc=new Uint32Array(64);class Cc extends bc{constructor(){super(64,32,8,!1),this.A=0|Sc[0],this.B=0|Sc[1],this.C=0|Sc[2],this.D=0|Sc[3],this.E=0|Sc[4],this.F=0|Sc[5],this.G=0|Sc[6],this.H=0|Sc[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let c=0;c<16;c++,t+=4)kc[c]=e.getUint32(t,!1);for(let c=16;c<64;c++){const e=kc[c-15],t=kc[c-2],n=Ns(e,7)^Ns(e,18)^e>>>3,r=Ns(t,17)^Ns(t,19)^t>>>10;kc[c]=r+kc[c-7]+n+kc[c-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:l,H:u}=this;for(let c=0;c<64;c++){const e=u+(Ns(o,6)^Ns(o,11)^Ns(o,25))+Ec(o,a,l)+xc[c]+kc[c]|0,t=(Ns(n,2)^Ns(n,13)^Ns(n,22))+Ac(n,r,i)|0;u=l,l=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,s,o,a,l,u)}roundClean(){kc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _c=Os((()=>new Cc)),[Tc,Nc]=(()=>ks.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ic=new Uint32Array(80),Pc=new Uint32Array(80);class Oc extends bc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:u,Fh:c,Fl:h,Gh:f,Gl:d,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,l,u,c,h,f,d,p,g]}set(e,t,n,r,i,s,o,a,l,u,c,h,f,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|u,this.Fh=0|c,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let v=0;v<16;v++,t+=4)Ic[v]=e.getUint32(t),Pc[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|Ic[v-15],t=0|Pc[v-15],n=ks.rotrSH(e,t,1)^ks.rotrSH(e,t,8)^ks.shrSH(e,t,7),r=ks.rotrSL(e,t,1)^ks.rotrSL(e,t,8)^ks.shrSL(e,t,7),i=0|Ic[v-2],s=0|Pc[v-2],o=ks.rotrSH(i,s,19)^ks.rotrBH(i,s,61)^ks.shrSH(i,s,6),a=ks.rotrSL(i,s,19)^ks.rotrBL(i,s,61)^ks.shrSL(i,s,6),l=ks.add4L(r,a,Pc[v-7],Pc[v-16]),u=ks.add4H(l,n,o,Ic[v-7],Ic[v-16]);Ic[v]=0|u,Pc[v]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:u,Eh:c,El:h,Fh:f,Fl:d,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let v=0;v<80;v++){const e=ks.rotrSH(c,h,14)^ks.rotrSH(c,h,18)^ks.rotrBH(c,h,41),t=ks.rotrSL(c,h,14)^ks.rotrSL(c,h,18)^ks.rotrBL(c,h,41),w=c&f^~c&p,b=h&d^~h&g,E=ks.add5L(y,t,b,Nc[v],Pc[v]),A=ks.add5H(E,m,e,w,Tc[v],Ic[v]),x=0|E,S=ks.rotrSH(n,r,28)^ks.rotrBH(n,r,34)^ks.rotrBH(n,r,39),k=ks.rotrSL(n,r,28)^ks.rotrBL(n,r,34)^ks.rotrBL(n,r,39),C=n&i^n&o^i&o,_=r&s^r&a^s&a;m=0|p,y=0|g,p=0|f,g=0|d,f=0|c,d=0|h,({h:c,l:h}=ks.add(0|l,0|u,0|A,0|x)),l=0|o,u=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const T=ks.add3L(x,k,_);n=ks.add3H(T,A,S,C),r=0|T}({h:n,l:r}=ks.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=ks.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=ks.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:u}=ks.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:c,l:h}=ks.add(0|this.Eh,0|this.El,0|c,0|h)),({h:f,l:d}=ks.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:g}=ks.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=ks.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,l,u,c,h,f,d,p,g,m,y)}roundClean(){Ic.fill(0),Pc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Rc=Os((()=>new Oc));const Dc=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Dc.crypto||Dc.msCrypto;function Lc(e){switch(e){case"sha256":return _c.create();case"sha512":return Rc.create()}ci(!1,"invalid hashing algorithm name","algorithm",e)}const Bc=function(e){return Lc("sha256").update(e).digest()},Fc=function(e){return Lc("sha512").update(e).digest()};let Mc=Bc,jc=Fc,Uc=!1,zc=!1;function Vc(e){const t=gi(e,"data");return bi(Mc(t))}function Hc(e){const t=gi(e,"data");return bi(jc(t))}Vc._=Bc,Vc.lock=function(){Uc=!0},Vc.register=function(e){if(Uc)throw new Error("sha256 is locked");Mc=e},Object.freeze(Vc),Hc._=Fc,Hc.lock=function(){zc=!0},Hc.register=function(e){if(zc)throw new Error("sha512 is locked");jc=e},Object.freeze(Vc);const Gc="0x0000000000000000000000000000000000000000000000000000000000000000",Qc=BigInt(0),qc=BigInt(1),Kc=BigInt(2),Wc=BigInt(27),$c=BigInt(28),Jc=BigInt(35),Yc={};function Xc(e){return ki(Mi(e),32)}class Zc{#le;#ue;#ce;#he;get r(){return this.#le}set r(e){ci(32===Ai(e),"invalid r","value",e),this.#le=bi(e)}get s(){return this.#ue}set s(e){ci(32===Ai(e),"invalid s","value",e);const t=bi(e);ci(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ue=t}get v(){return this.#ce}set v(e){const t=Bi(e,"value");ci(27===t||28===t,"invalid v","v",e),this.#ce=t}get networkV(){return this.#he}get legacyChainId(){const e=this.networkV;return null==e?null:Zc.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=gi(this.s);return this.yParity&&(e[0]|=128),bi(e)}get compactSerialized(){return Ei([this.r,this.yParityAndS])}get serialized(){return Ei([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){di(e,Yc,"Signature"),this.#le=t,this.#ue=n,this.#ce=r,this.#he=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Zc(Yc,this.r,this.s,this.v);return this.networkV&&(e.#he=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Oi(e,"v");return t==Wc||t==$c?Qc:(ci(t>=Jc,"invalid EIP-155 v","v",e),(t-Jc)/Kc)}static getChainIdV(e,t){return Oi(e)*Kc+BigInt(35+t-27)}static getNormalizedV(e){const t=Oi(e);return t===Qc||t===Wc?27:t===qc||t===$c?28:(ci(t>=Jc,"invalid v","v",e),t&qc?27:28)}static from(e){function t(t,n){ci(t,n,"signature",e)}if(null==e)return new Zc(Yc,Gc,Gc,27);if("string"===typeof e){const n=gi(e,"signature");if(64===n.length){const e=bi(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new Zc(Yc,e,bi(t),r)}if(65===n.length){const e=bi(n.slice(0,32)),r=n.slice(32,64);t(0===(128&r[0]),"non-canonical s");const i=Zc.getNormalizedV(n[64]);return new Zc(Yc,e,bi(r),i)}t(!1,"invalid raw signature length")}if(e instanceof Zc)return e.clone();const n=e.r;t(null!=n,"missing r");const r=Xc(n),i=function(e,n){if(null!=e)return Xc(e);if(null!=n){t(yi(n,32),"invalid yParityAndS");const e=gi(n);return e[0]&=127,bi(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&gi(i)[0]),"non-canonical s");const{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=Oi(e);return{networkV:t>=Jc?t:void 0,v:Zc.getNormalizedV(t)}}if(null!=n)return t(yi(n,32),"invalid yParityAndS"),{v:128&gi(n)[0]?28:27};if(null!=r){switch(Bi(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new Zc(Yc,r,i,o);return s&&(a.#he=s),t(null==e.yParity||Bi(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}BigInt(0);const eh=BigInt(1),th=BigInt(2),nh=e=>e instanceof Uint8Array,rh=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ih(e){if(!nh(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=rh[e[n]];return t}function sh(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function oh(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function ah(e){return sh(ih(e))}function lh(e){if(!nh(e))throw new Error("Uint8Array expected");return sh(ih(Uint8Array.from(e).reverse()))}function uh(e,t){return oh(e.toString(16).padStart(2*t,"0"))}function ch(e,t){return uh(e,t).reverse()}function hh(e,t,n){let r;if("string"===typeof t)try{r=oh(t)}catch(Gx){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${Gx}`)}else{if(!nh(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function fh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!nh(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const dh=e=>(th<<BigInt(e-1))-eh,ph=e=>new Uint8Array(e),gh=e=>Uint8Array.from(e);function mh(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=ph(e),i=ph(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ph();i=a(gh([0]),e),r=a(),0!==e.length&&(i=a(gh([1]),e),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return fh(...n)};return(e,t)=>{let n;for(o(),l(e);!(n=t(u()));)l();return o(),n}}const yh={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=yh[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${n}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const wh=BigInt(0),bh=BigInt(1),Eh=BigInt(2),Ah=BigInt(3),xh=BigInt(4),Sh=BigInt(5),kh=BigInt(8);BigInt(9),BigInt(16);function Ch(e,t){const n=e%t;return n>=wh?n:t+n}function _h(e,t,n){if(n<=wh||t<wh)throw new Error("Expected power/modulo > 0");if(n===bh)return wh;let r=bh;for(;t>wh;)t&bh&&(r=r*e%n),e=e*e%n,t>>=bh;return r}function Th(e,t,n){let r=e;for(;t-- >wh;)r*=r,r%=n;return r}function Nh(e,t){if(e===wh||t<=wh)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ch(e,t),r=t,i=wh,s=bh,o=bh,a=wh;for(;n!==wh;){const e=r/n,t=r%n,l=i-o*e,u=s-a*e;r=n,n=t,i=o,s=a,o=l,a=u}if(r!==bh)throw new Error("invert: does not exist");return Ch(i,t)}function Ih(e){if(e%xh===Ah){const t=(e+bh)/xh;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%kh===Sh){const t=(e-Sh)/kh;return function(e,n){const r=e.mul(n,Eh),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,Eh),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-bh)/Eh;let n,r,i;for(n=e-bh,r=0;n%Eh===wh;n/=Eh,r++);for(i=Eh;i<e&&_h(i,t,e)!==e-bh;i++);if(1===r){const t=(e+bh)/xh;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+bh)/Eh;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),u=e.pow(o,s),c=e.pow(o,n);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,bh<<BigInt(a-t-1));l=e.sqr(n),u=e.mul(u,n),c=e.mul(c,l),a=t}return u}}(e)}const Ph=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oh(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Rh(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Dh(e){const t=Rh(e);return t+Math.ceil(t/2)}class Lh extends Ps{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ps(e);const n=Is(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return gs(this),this.iHash.update(e),this}digestInto(e){gs(this),ds(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bh=(e,t,n)=>new Lh(e,t).update(n).digest();Bh.create=(e,t)=>new Lh(e,t);const Fh=BigInt(0),Mh=BigInt(1);function jh(e){return function(e){const t=Ph.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});vh(e,t)}(e.Fp),vh(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Oh(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:Uh,aT:zh}=e,Vh={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Vh;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Uh(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Vh,n="string"===typeof e?zh(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Vh._parseInt(n.subarray(2)),{d:o,l:a}=Vh._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},Hh=BigInt(0),Gh=BigInt(1),Qh=(BigInt(2),BigInt(3));BigInt(4);function qh(e){const t=function(e){const t=jh(e);vh(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return fh(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&Hh<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=ih(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:ah(hh("private key",e,r))}catch(l){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=Ch(o,s)),a(o),o}const u=new Map;function c(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(hh("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=s(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,l=n.eql(n.mul(t,a),n.mul(s,i)),u=n.eql(n.mul(r,a),n.mul(o,i));return l&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Qh),{px:s,py:o,pz:a}=this;let l=n.ZERO,u=n.ZERO,c=n.ZERO,f=n.mul(s,s),d=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),c=n.mul(s,a),c=n.add(c,c),l=n.mul(e,c),u=n.mul(i,p),u=n.add(l,u),l=n.sub(d,u),u=n.add(d,u),u=n.mul(l,u),l=n.mul(g,l),c=n.mul(i,c),p=n.mul(e,p),g=n.sub(f,p),g=n.mul(e,g),g=n.add(g,c),c=n.add(f,f),f=n.add(c,f),f=n.add(f,p),f=n.mul(f,g),u=n.add(u,f),p=n.mul(o,a),p=n.add(p,p),f=n.mul(p,g),l=n.sub(l,f),c=n.mul(p,d),c=n.add(c,c),c=n.add(c,c),new h(l,u,c)}add(e){c(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:l}=e;let u=n.ZERO,f=n.ZERO,d=n.ZERO;const p=t.a,g=n.mul(t.b,Qh);let m=n.mul(r,o),y=n.mul(i,a),v=n.mul(s,l),w=n.add(r,i),b=n.add(o,a);w=n.mul(w,b),b=n.add(m,y),w=n.sub(w,b),b=n.add(r,s);let E=n.add(o,l);return b=n.mul(b,E),E=n.add(m,v),b=n.sub(b,E),E=n.add(i,s),u=n.add(a,l),E=n.mul(E,u),u=n.add(y,v),E=n.sub(E,u),d=n.mul(p,b),u=n.mul(g,v),d=n.add(u,d),u=n.sub(y,d),d=n.add(y,d),f=n.mul(u,d),y=n.add(m,m),y=n.add(y,m),v=n.mul(p,v),b=n.mul(g,b),y=n.add(y,v),v=n.sub(m,v),v=n.mul(p,v),b=n.add(b,v),m=n.mul(y,b),f=n.add(f,m),m=n.mul(E,b),u=n.mul(w,u),u=n.sub(u,m),m=n.mul(w,y),d=n.mul(E,d),d=n.add(d,m),new h(u,f,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return d.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===Hh)return r;if(a(e),e===Gh)return this;const{endo:i}=t;if(!i)return d.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:l,k2:u}=i.splitScalar(e),c=r,f=r,p=this;for(;o>Hh||u>Hh;)o&Gh&&(c=c.add(p)),u&Gh&&(f=f.add(p)),p=p.double(),o>>=Gh,u>>=Gh;return s&&(c=c.negate()),l&&(f=f.negate()),f=new h(n.mul(f.px,i.beta),f.py,f.pz),c.add(f)}multiply(e){a(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:l}=o.splitScalar(s);let{p:u,f:c}=this.wNAF(t),{p:f,f:p}=this.wNAF(l);u=d.constTimeNegate(e,u),f=d.constTimeNegate(a,f),f=new h(n.mul(f.px,o.beta),f.py,f.pz),r=u.add(f),i=c.add(p)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Hh&&t!==Gh&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),l=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Gh)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Gh?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ih(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,d=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Fh;)n&Mh&&(r=r.add(i)),i=i.double(),n>>=Mh;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let l=e.ZERO,u=e.BASE;const c=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&c);s>>=f,r>a&&(r-=h,s+=Mh);const o=t,d=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?u=u.add(n(p,i[o])):l=l.add(n(g,i[d]))}return{p:l,f:u}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Kh(e){const t=function(e){const t=jh(e);return vh(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(e){return Ch(e,r)}function a(e){return Nh(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:h}=qh({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=fh;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=ah(o);if(!(Hh<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=c(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Gh)===Gh)&&(i=n.neg(i)),{x:e,y:i}}var a}}),f=e=>ih(uh(e,t.nByteLength));function d(e){return e>r>>Gh}const p=(e,t,n)=>ah(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=hh("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Vh.toSig(hh("DER",e));return new g(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,u=w(hh("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?r+t.n:r;if(c>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",d=l.fromHex(h+f(c)),p=a(c),g=o(-u*p),m=o(i*p),y=l.BASE.multiplyAndAddUnsafe(d,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return oh(this.toDERHex())}toDERHex(){return Vh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oh(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const m={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Dh(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=Rh(t),s=Dh(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=Ch(n?ah(e):lh(e),t-bh)+bh;return n?ch(o,i):uh(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof l}const v=t.bits2int||function(e){const n=ah(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return o(v(e))},b=dh(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Hh<=e&&e<b))throw new Error(`bigint expected < 2^${t.nBitLength}`);return uh(e,t.nByteLength)}function A(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=t;let{lowS:f,prehash:p,extraEntropy:m}=i;null==f&&(f=!0),e=hh("msgHash",e),p&&(e=hh("prehashed msgHash",s(e)));const y=w(e),b=u(r),A=[E(b),E(y)];if(null!=m){const e=!0===m?c(n.BYTES):m;A.push(hh("extraEntropy",e))}const S=fh(...A),k=y;return{seed:S,k2sig:function(e){const t=v(e);if(!h(t))return;const n=a(t),r=l.BASE.multiply(t).toAffine(),i=o(r.x);if(i===Hh)return;const s=o(n*o(k+i*b));if(s===Hh)return;let u=(r.x===i?0:2)|Number(r.y&Gh),c=s;return f&&d(s)&&(c=function(e){return d(e)?o(-e):e}(s),u^=1),new g(i,c,u)}}}const x={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const{seed:i,k2sig:s}=A(e,n,r),o=t;return mh(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const s=e;if(n=hh("msgHash",n),r=hh("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:c}=i;let h,f;try{if("string"===typeof s||s instanceof Uint8Array)try{h=g.fromDER(s)}catch(A){if(!(A instanceof Vh.Err))throw A;h=g.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;h=new g(e,t)}}f=l.fromHex(r)}catch(x){if("PARSE"===x.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;c&&(n=t.hash(n));const{r:d,s:p}=h,m=w(n),y=a(p),v=o(m*y),b=o(d*y),E=l.BASE.multiplyAndAddUnsafe(f,v,b)?.toAffine();return!!E&&o(E.x)===d},ProjectivePoint:l,Signature:g,utils:m}}function Wh(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Bh(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!_s(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:Rs}}const $h=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Jh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yh=BigInt(1),Xh=BigInt(2),Zh=(e,t)=>(e+t/Xh)/t;function ef(e){const t=$h,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,h=Th(c,n,t)*c%t,f=Th(h,n,t)*c%t,d=Th(f,Xh,t)*u%t,p=Th(d,i,t)*d%t,g=Th(p,s,t)*p%t,m=Th(g,a,t)*g%t,y=Th(m,l,t)*m%t,v=Th(y,a,t)*g%t,w=Th(v,n,t)*c%t,b=Th(w,o,t)*p%t,E=Th(b,r,t)*u%t,A=Th(E,Xh,t);if(!tf.eql(tf.sqr(A),e))throw new Error("Cannot find square root");return A}const tf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=wh)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Oh(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Ih(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:dh(i),ZERO:wh,ONE:bh,create:t=>Ch(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return wh<=t&&t<e},is0:e=>e===wh,isOdd:e=>(e&bh)===bh,neg:t=>Ch(-t,e),eql:(e,t)=>e===t,sqr:t=>Ch(t*t,e),add:(t,n)=>Ch(t+n,e),sub:(t,n)=>Ch(t-n,e),mul:(t,n)=>Ch(t*n,e),pow:(e,t)=>function(e,t,n){if(n<wh)throw new Error("Expected power > 0");if(n===wh)return e.ONE;if(n===bh)return t;let r=e.ONE,i=t;for(;n>wh;)n&bh&&(r=e.mul(r,i)),i=e.sqr(i),n>>=bh;return r}(a,e,t),div:(t,n)=>Ch(t*Nh(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Nh(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ch(e,s):uh(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return n?lh(e):ah(e)}});return Object.freeze(a)}($h,void 0,void 0,{sqrt:ef}),nf=function(e,t){const n=t=>Kh({...e,...Wh(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:tf,n:Jh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Jh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Zh(s*e,t),l=Zh(-r*e,t);let u=Ch(e-a*n-l*i,t),c=Ch(-a*r-l*s,t);const h=u>o,f=c>o;if(h&&(u=t-u),f&&(c=t-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:f,k2:c}}}},_c);BigInt(0);nf.ProjectivePoint;class rf{#fe;constructor(e){ci(32===Ai(e),"invalid private key","privateKey","[REDACTED]"),this.#fe=bi(e)}get privateKey(){return this.#fe}get publicKey(){return rf.computePublicKey(this.#fe)}get compressedPublicKey(){return rf.computePublicKey(this.#fe,!0)}sign(e){ci(32===Ai(e),"invalid digest length","digest",e);const t=nf.sign(mi(e),mi(this.#fe),{lowS:!0});return Zc.from({r:Fi(t.r,32),s:Fi(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=rf.computePublicKey(e);return bi(nf.getSharedSecret(mi(this.#fe),gi(t),!1))}static computePublicKey(e,t){let n=gi(e,"key");if(32===n.length){return bi(nf.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return bi(nf.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){ci(32===Ai(e),"invalid digest length","digest",e);const n=Zc.from(t);let r=nf.Signature.fromCompact(mi(Ei([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(mi(e));return ci(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=nf.ProjectivePoint.fromHex(rf.computePublicKey(e).substring(2)),i=nf.ProjectivePoint.fromHex(rf.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function sf(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function of(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function af(e,t,n,r){const i=[];for(;n<t+1+r;){const s=lf(e,n);i.push(s.result),ui((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function lf(e,t){ui(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{ui(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=of(e,t+1,r);return n(t+1+r+i),af(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),af(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=of(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:bi(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:bi(e.slice(t+1,t+1+r))}}return{consumed:1,result:sf(e[t])}}function uf(e){const t=gi(e,"data"),n=lf(t,0);return ci(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function cf(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function hf(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(hf(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=cf(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(gi(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=cf(t.length);return n.unshift(183+n.length),n.concat(t)}const ff="0123456789abcdef";function df(e){let t="0x";for(const n of hf(e))t+=ff[n>>4],t+=ff[15&n];return t}function pf(e,t){return function(e){let t;return t="string"===typeof e?rf.computePublicKey(e,!1):e.publicKey,oo(Zs("0x"+t.substring(4)).substring(26))}(rf.recoverPublicKey(e,t))}const gf=BigInt(0),mf=BigInt(2),yf=BigInt(27),vf=BigInt(28),wf=BigInt(35),bf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ef=131072;function Af(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Vc(t).substring(4),"0x"+n}function xf(e){return"0x"===e?null:oo(e)}function Sf(e,t){try{return Xa(e)}catch(n){ci(!1,n.message,t,e)}}function kf(e,t){return"0x"===e?0:Bi(e,t)}function Cf(e,t){if("0x"===e)return gf;const n=Oi(e,t);return ci(n<=bf,"value exceeds uint size",t,n),n}function _f(e,t){const n=Oi(e,"value"),r=Mi(n);return ci(r.length<=32,"value too large",`tx.${t}`,n),r}function Tf(e){return Xa(e).map((e=>[e.address,e.storageKeys]))}function Nf(e,t){ci(Array.isArray(e),`invalid ${t}`,"value",e);for(let n=0;n<e.length;n++)ci(yi(e[n],32),"invalid ${ param } hash",`value[${n}]`,e[n]);return e}function If(e,t){let n;try{if(n=kf(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){ci(!1,"invalid yParity","yParity",t[0])}const r=ki(t[1],32),i=ki(t[2],32),s=Zc.from({r:r,s:i,yParity:n});e.signature=s}class Pf{#de;#pe;#c;#ge;#me;#ye;#ve;#we;#be;#Ee;#Ae;#xe;#Se;#ke;#Ce;#_e;get type(){return this.#de}set type(e){switch(e){case null:this.#de=null;break;case 0:case"legacy":this.#de=0;break;case 1:case"berlin":case"eip-2930":this.#de=1;break;case 2:case"london":case"eip-1559":this.#de=2;break;case 3:case"cancun":case"eip-4844":this.#de=3;break;default:ci(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#pe;return null==e&&3===this.type?dl:e}set to(e){this.#pe=null==e?null:oo(e)}get nonce(){return this.#ge}set nonce(e){this.#ge=Bi(e,"value")}get gasLimit(){return this.#me}set gasLimit(e){this.#me=Oi(e)}get gasPrice(){const e=this.#ye;return null!=e||0!==this.type&&1!==this.type?e:gf}set gasPrice(e){this.#ye=null==e?null:Oi(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#ve;return null==e?2===this.type||3===this.type?gf:null:e}set maxPriorityFeePerGas(e){this.#ve=null==e?null:Oi(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#we;return null==e?2===this.type||3===this.type?gf:null:e}set maxFeePerGas(e){this.#we=null==e?null:Oi(e,"maxFeePerGas")}get data(){return this.#c}set data(e){this.#c=bi(e)}get value(){return this.#be}set value(e){this.#be=Oi(e,"value")}get chainId(){return this.#Ee}set chainId(e){this.#Ee=Oi(e)}get signature(){return this.#Ae||null}set signature(e){this.#Ae=null==e?null:Zc.from(e)}get accessList(){const e=this.#xe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#xe=null==e?null:Xa(e)}get maxFeePerBlobGas(){const e=this.#Se;return null==e&&3===this.type?gf:e}set maxFeePerBlobGas(e){this.#Se=null==e?null:Oi(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ke;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){ci(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)ci(yi(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ke=e}get blobs(){return null==this.#_e?null:this.#_e.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#_e=null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(vi(i)){ui(this.#Ce,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=gi(i);if(ci(e.length<=Ef,"blob is too large",`blobs[${r}]`,i),e.length!==Ef){const t=new Uint8Array(Ef);t.set(e),e=t}const s=this.#Ce.blobToKzgCommitment(e),o=bi(this.#Ce.computeBlobKzgProof(e,s));t.push({data:bi(e),commitment:bi(s),proof:o}),n.push(Af(1,s))}else{const e=bi(i.commitment);t.push({data:bi(i.data),commitment:e,proof:bi(i.proof)}),n.push(Af(1,e))}}this.#_e=t,this.#ke=n}get kzg(){return this.#Ce}set kzg(e){this.#Ce=e}constructor(){this.#de=null,this.#pe=null,this.#ge=0,this.#me=gf,this.#ye=null,this.#ve=null,this.#we=null,this.#c="0x",this.#be=gf,this.#Ee=gf,this.#Ae=null,this.#xe=null,this.#Se=null,this.#ke=null,this.#_e=null,this.#Ce=null}get hash(){return null==this.signature?null:Zs(this.#Te(!0,!1))}get unsignedHash(){return Zs(this.unsignedSerialized)}get from(){return null==this.signature?null:pf(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:rf.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#Te(e,t){ui(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[_f(e.nonce,"nonce"),_f(e.gasPrice||0,"gasPrice"),_f(e.gasLimit,"gasLimit"),e.to||"0x",_f(e.value,"value"),e.data];let r=gf;if(e.chainId!=gf)r=Oi(e.chainId,"tx.chainId"),ci(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==gf&&(n.push(Mi(r)),n.push("0x"),n.push("0x")),df(n);let i=BigInt(27+t.yParity);return r!==gf?i=Zc.getChainIdV(r,t.v):BigInt(t.v)!==i&&ci(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(Mi(i)),n.push(Mi(t.r)),n.push(Mi(t.s)),df(n)}(this,n);case 1:return function(e,t){const n=[_f(e.chainId,"chainId"),_f(e.nonce,"nonce"),_f(e.gasPrice||0,"gasPrice"),_f(e.gasLimit,"gasLimit"),e.to||"0x",_f(e.value,"value"),e.data,Tf(e.accessList||[])];return t&&(n.push(_f(t.yParity,"recoveryParam")),n.push(Mi(t.r)),n.push(Mi(t.s))),Ei(["0x01",df(n)])}(this,n);case 2:return function(e,t){const n=[_f(e.chainId,"chainId"),_f(e.nonce,"nonce"),_f(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_f(e.maxFeePerGas||0,"maxFeePerGas"),_f(e.gasLimit,"gasLimit"),e.to||"0x",_f(e.value,"value"),e.data,Tf(e.accessList||[])];return t&&(n.push(_f(t.yParity,"yParity")),n.push(Mi(t.r)),n.push(Mi(t.s))),Ei(["0x02",df(n)])}(this,n);case 3:return function(e,t,n){const r=[_f(e.chainId,"chainId"),_f(e.nonce,"nonce"),_f(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_f(e.maxFeePerGas||0,"maxFeePerGas"),_f(e.gasLimit,"gasLimit"),e.to||dl,_f(e.value,"value"),e.data,Tf(e.accessList||[]),_f(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Nf(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(_f(t.yParity,"yParity")),r.push(Mi(t.r)),r.push(Mi(t.s)),n)?Ei(["0x03",df([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):Ei(["0x03",df(r)])}(this,n,t?this.blobs:null)}ui(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#Te(!0,!0)}get unsignedSerialized(){return this.#Te(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#Se||this.#ke;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&ui(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ui(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ui(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Pf.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Pf;if("string"===typeof e){const t=gi(e);if(t[0]>=127)return Pf.from(function(e){const t=uf(e);ci(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:kf(t[0],"nonce"),gasPrice:Cf(t[1],"gasPrice"),gasLimit:Cf(t[2],"gasLimit"),to:xf(t[3]),value:Cf(t[4],"value"),data:bi(t[5]),chainId:gf};if(6===t.length)return n;const r=Cf(t[6],"v"),i=Cf(t[7],"r"),s=Cf(t[8],"s");if(i===gf&&s===gf)n.chainId=r;else{let e=(r-wf)/mf;e<gf&&(e=gf),n.chainId=e,ci(e!==gf||r===yf||r===vf,"non-canonical legacy v","v",t[6]),n.signature=Zc.from({r:ki(t[7],32),s:ki(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Pf.from(function(e){const t=uf(gi(e).slice(1));ci(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",bi(e));const n={type:1,chainId:Cf(t[0],"chainId"),nonce:kf(t[1],"nonce"),gasPrice:Cf(t[2],"gasPrice"),gasLimit:Cf(t[3],"gasLimit"),to:xf(t[4]),value:Cf(t[5],"value"),data:bi(t[6]),accessList:Sf(t[7],"accessList")};return 8===t.length||If(n,t.slice(8)),n}(t));case 2:return Pf.from(function(e){const t=uf(gi(e).slice(1));ci(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",bi(e));const n={type:2,chainId:Cf(t[0],"chainId"),nonce:kf(t[1],"nonce"),maxPriorityFeePerGas:Cf(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Cf(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cf(t[4],"gasLimit"),to:xf(t[5]),value:Cf(t[6],"value"),data:bi(t[7]),accessList:Sf(t[8],"accessList")};return 9===t.length||If(n,t.slice(9)),n}(t));case 3:return Pf.from(function(e){let t=uf(gi(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];ci(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),ci(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),ci(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),ci(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),ci(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}ci(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",bi(e));const i={type:3,chainId:Cf(t[0],"chainId"),nonce:kf(t[1],"nonce"),maxPriorityFeePerGas:Cf(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Cf(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Cf(t[4],"gasLimit"),to:xf(t[5]),value:Cf(t[6],"value"),data:bi(t[7]),accessList:Sf(t[8],"accessList"),maxFeePerBlobGas:Cf(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),ci(null!=i.to,`invalid address for transaction type: ${n}`,"data",e),ci(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)ci(yi(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",e);return 11===t.length||If(i,t.slice(11)),i}(t))}ui(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Pf;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Zc.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(ci(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ci(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(ci(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ci(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const Of="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Rf=BigInt(58);function Df(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):ci(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class Lf{name;constructor(e){ii(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Bf=new RegExp("^(ipfs)://(.*)$","i"),Ff=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Bf,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Mf{provider;address;name;#Ne;#Ie;constructor(e,t,n){ii(this,{provider:e,address:t,name:n}),this.#Ne=null,this.#Ie=new au(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#Ne&&(this.#Ne=(async()=>{try{return await this.#Ie.supportsInterface("0x9061b923")}catch(e){if(oi(e,"CALL_EXCEPTION"))return!1;throw this.#Ne=null,e}})()),await this.#Ne}async#Pe(e,t){t=(t||[]).slice();const n=this.#Ie.interface;t.unshift(vc(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),ui(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[wc(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#Ie[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!oi(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#Pe("addr(bytes32)");return null==e||e===dl?null:e}catch(i){if(oi(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#Pe("addr(bytes32,uint)",[t]);if(yi(n,20))return oo(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof Lf&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await this.#Pe("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;ui(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#Pe("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Pe("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=gi(e);let n=Li(t),r="";for(;n;)r=Of[Number(n%Rf)]+r,n/=Rf;for(let i=0;i<t.length&&!t[i];i++)r=Of[0]+r;return r}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;ui(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Ff.length;r++){const i=n.match(Ff[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=Df(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const l=a[1],u=new au(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await u.ownerOf(l);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await u.balanceOf(o,l);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await u[r](l);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===s&&(c=c.replace("{id}",Fi(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=Df(c)),e.push({type:"metadata-url",value:c});let h={};const f=await new cl(c).send();f.assertOk();try{h=f.bodyJson}catch(t){try{e.push({type:"!metadata",value:f.bodyText})}catch(t){const n=f.body;return n&&e.push({type:"!metadata",value:bi(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!==typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(Bf))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=Df(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return ui(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#Oe(e,t){const n=await Mf.getEnsAddress(e);try{const r=new au(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(vc(t),{enableCcipRead:!0});return i===dl?null:i}catch(r){throw r}return null}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await Mf.#Oe(e,n);if(null!=r){const i=new Mf(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}const jf=BigInt(0);function Uf(e,t){return function(n){return null==n?t:e(n)}}function zf(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function Vf(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){ui(!1,`invalid value for value.${s} (${i instanceof Error?i.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function Hf(e){return ci(yi(e,!0),"invalid data","value",e),e}function Gf(e){return ci(yi(e,32),"invalid hash","value",e),e}const Qf=Vf({address:oo,blockHash:Gf,blockNumber:Bi,data:Hf,index:Bi,removed:Uf((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}ci(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:zf(Gf),transactionHash:Gf,transactionIndex:Bi},{index:["logIndex"]});const qf=Vf({hash:Uf(Gf),parentHash:Gf,parentBeaconBlockRoot:Uf(Gf,null),number:Bi,timestamp:Bi,nonce:Uf(Hf),difficulty:Oi,gasLimit:Oi,gasUsed:Oi,stateRoot:Uf(Gf,null),receiptsRoot:Uf(Gf,null),blobGasUsed:Uf(Oi,null),excessBlobGas:Uf(Oi,null),miner:Uf(oo),prevRandao:Uf(Gf,null),extraData:Hf,baseFeePerGas:Uf(Oi)},{prevRandao:["mixHash"]});const Kf=Vf({transactionIndex:Bi,blockNumber:Bi,transactionHash:Gf,address:oo,topics:zf(Gf),data:Hf,index:Bi,blockHash:Gf},{index:["logIndex"]});const Wf=Vf({to:Uf(oo,null),from:Uf(oo,null),contractAddress:Uf(oo,null),index:Bi,root:Uf(bi),gasUsed:Oi,blobGasUsed:Uf(Oi,null),logsBloom:Uf(Hf),blockHash:Gf,hash:Gf,logs:zf((function(e){return Kf(e)})),blockNumber:Bi,cumulativeGasUsed:Oi,effectiveGasPrice:Uf(Oi),blobGasPrice:Uf(Oi,null),status:Uf(Bi),type:Uf(Bi,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function $f(e){e.to&&Oi(e.to)===jf&&(e.to="0x0000000000000000000000000000000000000000");const t=Vf({hash:Gf,index:Uf(Bi,void 0),type:e=>"0x"===e||null==e?0:Bi(e),accessList:Uf(Xa,null),blobVersionedHashes:Uf(zf(Gf,!0),null),blockHash:Uf(Gf,null),blockNumber:Uf(Bi,null),transactionIndex:Uf(Bi,null),from:oo,gasPrice:Uf(Oi),maxPriorityFeePerGas:Uf(Oi),maxFeePerGas:Uf(Oi),maxFeePerBlobGas:Uf(Oi,null),gasLimit:Oi,to:Uf(oo,null),value:Oi,nonce:Bi,data:Hf,creates:Uf(oo,null),chainId:Uf(Oi,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=oo(e.from);let n=Oi(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,oo(xi(Zs(df([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Zc.from(e.signature):t.signature=Zc.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Oi(t.blockHash)===jf&&(t.blockHash=null),t}class Jf{name;constructor(e){ii(this,{name:e})}clone(){return new Jf(this.name)}}class Yf extends Jf{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),ci("number"===typeof i,`invalud value for ${e}`,"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),ii(this,n)}clone(){return new Yf(this.effectiveBlock,this)}}class Xf extends Jf{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),ii(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Xf(this.address,this.targetNetwork)}}class Zf extends Jf{#L;#Re;get url(){return this.#L}get processFunc(){return this.#Re}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#L=e,this.#Re=t}clone(){return this}}const ed=new Map;class td{#De;#Ee;#Le;constructor(e,t){this.#De=e,this.#Ee=Oi(t),this.#Le=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#De}set name(e){this.#De=e}get chainId(){return this.#Ee}set chainId(e){this.#Ee=Oi(e,"chainId")}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===Oi(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===Oi(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===Oi(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Le.values())}attachPlugin(e){if(this.#Le.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Le.set(e.name,e.clone()),this}getPlugin(e){return this.#Le.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new td(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Yf;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=Xa(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(id)return;function e(e,t,n){const r=function(){const r=new td(e,t);return null!=n.ensNetwork&&r.attachPlugin(new Xf(null,n.ensNetwork)),r.attachPlugin(new Yf),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};td.register(e,r),td.register(t,r),n.altNames&&n.altNames.forEach((e=>{td.register(e,r)}))}id=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[rd("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[rd("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return td.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=ed.get(e);if(t)return t();if("bigint"===typeof e)return new td("unknown",e);ci(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){ci("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new td(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Xf(e.ensAddress,e.ensNetwork)),t}ci(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=ed.get(e);n&&ci(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),ed.set(e,t)}}function nd(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function rd(e){return new Zf(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:nd(s.maxFee,9),maxPriorityFeePerGas:nd(s.maxPriorityFee,9)}}catch(i){ui(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:i})}}))}let id=!1;function sd(e){return JSON.parse(JSON.stringify(e))}class od{#Be;#Fe;#Me;#je;constructor(e){this.#Be=e,this.#Fe=null,this.#Me=4e3,this.#je=-2}get pollingInterval(){return this.#Me}set pollingInterval(e){this.#Me=e}async#Ue(){try{const e=await this.#Be.getBlockNumber();if(-2===this.#je)return void(this.#je=e);if(e!==this.#je){for(let t=this.#je+1;t<=e;t++){if(null==this.#Fe)return;await this.#Be.emit("block",t)}this.#je=e}}catch(e){}null!=this.#Fe&&(this.#Fe=this.#Be._setTimeout(this.#Ue.bind(this),this.#Me))}start(){this.#Fe||(this.#Fe=this.#Be._setTimeout(this.#Ue.bind(this),this.#Me),this.#Ue())}stop(){this.#Fe&&(this.#Be._clearTimeout(this.#Fe),this.#Fe=null)}pause(e){this.stop(),e&&(this.#je=-2)}resume(){this.start()}}class ad{#Be;#Ue;#ze;constructor(e){this.#Be=e,this.#ze=!1,this.#Ue=e=>{this._poll(e,this.#Be)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#ze||(this.#ze=!0,this.#Ue(-2),this.#Be.on("block",this.#Ue))}stop(){this.#ze&&(this.#ze=!1,this.#Be.off("block",this.#Ue))}pause(e){this.stop()}resume(){this.start()}}class ld extends ad{#Ve;#He;constructor(e,t){super(e),this.#Ve=t,this.#He=-2}pause(e){e&&(this.#He=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Ve);null!=n&&(-2===this.#He?this.#He=n.number:n.number>this.#He&&(t.emit(this.#Ve,n.number),this.#He=n.number))}}class ud extends ad{#ae;constructor(e,t){super(e),this.#ae=sd(t)}async _poll(e,t){throw new Error("@TODO")}}class cd extends ad{#Ge;constructor(e,t){super(e),this.#Ge=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Ge);n&&t.emit(this.#Ge,n)}}class hd{#Be;#ae;#Fe;#ze;#je;constructor(e,t){this.#Be=e,this.#ae=sd(t),this.#Fe=this.#Ue.bind(this),this.#ze=!1,this.#je=-2}async#Ue(e){if(-2===this.#je)return;const t=sd(this.#ae);t.fromBlock=this.#je+1,t.toBlock=e;const n=await this.#Be.getLogs(t);if(0!==n.length)for(const r of n)this.#Be.emit(this.#ae,r),this.#je=r.blockNumber;else this.#je<e-60&&(this.#je=e-60)}start(){this.#ze||(this.#ze=!0,-2===this.#je&&this.#Be.getBlockNumber().then((e=>{this.#je=e})),this.#Be.on("block",this.#Fe))}stop(){this.#ze&&(this.#ze=!1,this.#Be.off("block",this.#Fe))}pause(e){this.stop(),e&&(this.#je=-2)}resume(){this.start()}}const fd=BigInt(2);function dd(e){return e&&"function"===typeof e.then}function pd(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return`bigint:${t.toString()}`;if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class gd{name;constructor(e){ii(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function md(e){return(e=Array.from(new Set(e).values())).sort(),e}async function yd(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(yi(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:pd("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:pd("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?md(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],i=[],s=n=>{yi(n)?e.push(n):i.push((async()=>{e.push(await La(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=md(e.map((e=>e.toLowerCase())))}return{filter:r,tag:pd("event",r),type:"event"}}ci(!1,"unknown ProviderEvent","event",e)}function vd(){return(new Date).getTime()}const wd={cacheTimeout:250,pollingInterval:4e3};class bd{#Qe;#Le;#qe;#Ke;#We;#$e;#Je;#Ye;#Xe;#Ze;#et;#w;constructor(e,t){if(this.#w=Object.assign({},wd,t||{}),"any"===e)this.#$e=!0,this.#We=null;else if(e){const t=td.from(e);this.#$e=!1,this.#We=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#$e=!1,this.#We=null;this.#Ye=-1,this.#Je=new Map,this.#Qe=new Map,this.#Le=new Map,this.#qe=null,this.#Ke=!1,this.#Xe=1,this.#Ze=new Map,this.#et=!1}get pollingInterval(){return this.#w.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Le.values())}attachPlugin(e){if(this.#Le.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Le.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Le.get(e)||null}get disableCcipRead(){return this.#et}set disableCcipRead(e){this.#et=!!e}async#tt(e){const t=this.#w.cacheTimeout;if(t<0)return await this._perform(e);const n=pd(e.method,e);let r=this.#Je.get(n);return r||(r=this._perform(e),this.#Je.set(n,r),setTimeout((()=>{this.#Je.get(n)===r&&this.#Je.delete(n)}),t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],l=t.replace("{sender}",r).replace("{data}",i),u=new cl(l);-1===t.indexOf("{data}")&&(u.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let c,h="unknown error";try{c=await u.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:o}});continue}try{const e=c.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:e})}catch(o){}ui(c.statusCode<400||c.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}ui(!1,`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new Cl(function(e){const t=qf(e);return t.transactions=e.transactions.map((e=>"string"===typeof e?e:$f(e))),t}(e),this)}_wrapLog(e,t){return new _l(function(e){return Qf(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Tl(function(e){return Wf(e)}(e),this)}_wrapTransactionResponse(e,t){return new Nl($f(e),this)}_detectNetwork(){ui(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ui(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Bi(await this.#tt({method:"getBlockNumber"}),"%response");return this.#Ye>=0&&(this.#Ye=e),e}_getAddress(e){return La(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return yi(e)?yi(e,32)?e:ji(e):("bigint"===typeof e&&(e=Bi(e,"blockTag")),"number"===typeof e?e>=0?ji(e):this.#Ye>=0?ji(this.#Ye+e):this.getBlockNumber().then((t=>ji(t+e))):void ci(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?md(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!==typeof e)).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then((e=>r(e[0],e[1],e[2]))):r(o,i,s)}_getTransactionRequest(e){const t=kl(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=La(t[e],this);dd(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);dd(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#We){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#We===e&&(this.#We=null),t}})();return this.#We=e,(await e).clone()}const e=this.#We,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#$e?(this.emit("network",n,t),this.#We===e&&(this.#We=Promise.resolve(n))):ui(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await ri({_block:this.#nt("latest",!1),gasPrice:(async()=>{try{return Oi(await this.#tt({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return Oi(await this.#tt({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=o.baseFeePerGas*fd+s),new Sl(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new cl(n.url),r=await n.processFunc(t,this,e);return new Sl(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return dd(t)&&(t=await t),Oi(await this.#tt({method:"estimateGas",transaction:t}),"%response")}async#rt(e,t,n){ui(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=kl(e);try{return bi(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&ai(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===xi(i.data,0,4)){const e=i.data,s=await La(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ui(Ai(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=xi(e,0,32);ui(xi(n,0,12)===xi(_d,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=xi(n,12);try{const n=[],r=Bi(xi(e,32,64)),i=Bi(xi(e,r,r+32)),s=xi(e,r+32);for(let e=0;e<i;e++){const t=Ed(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){ui(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Ad(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){ui(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ui(xi(e,100,128)===xi(_d,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=xi(e,96,100);try{const n=Ad(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){ui(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(xi(i.data,4))}catch(i){ui(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}ui(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);ui(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const l={to:s,data:Ei([o.selector,Cd([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#rt(l,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:i}),i}}throw i}}async#it(e){const{value:t}=await ri({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await ri({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#it(this.#rt(t,n,e.enableCcipRead?0:-1))}async#st(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await this.#it(this.#tt(Object.assign(e,{address:r,blockTag:i})))}async getBalance(e,t){return Oi(await this.#st({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Bi(await this.#st({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return bi(await this.#st({method:"getCode"},e,t))}async getStorage(e,t,n){const r=Oi(t,"position");return bi(await this.#st({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await ri({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Pf.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async#nt(e,t){if(yi(e,32))return await this.#tt({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await this.#tt({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await ri({network:this.getNetwork(),params:this.#nt(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await ri({network:this.getNetwork(),params:this.#tt({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await ri({network:this.getNetwork(),params:this.#tt({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#tt({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await ri({network:this.getNetwork(),result:this.#tt({method:"getTransactionResult",hash:e})});return null==t?null:bi(t)}async getLogs(e){let t=this._getFilter(e);dd(t)&&(t=await t);const{network:n,params:r}=await ri({network:this.getNetwork(),params:this.#tt({method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){ui(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Mf.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=vc((e=oo(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Mf.getEnsAddress(this),r=new au(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===dl)return null;const s=new au(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(oi(n,"BAD_DATA")&&"0x"===n.value)return null;if(oi(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",o),i(li("timeout","TIMEOUT",{reason:"timeout"})))}),n)),o(await this.getBlockNumber())}))}async waitForBlock(e){ui(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ze.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ze.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#Xe++,r=()=>{this.#Ze.delete(n),e()};if(this.paused)this.#Ze.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#Ze.set(n,{timer:e,func:r,time:vd()})}return n}_forEachSubscriber(e){for(const t of this.#Qe.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new gd(e.type);case"block":{const e=new od(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new ld(this,e.type);case"event":return new hd(this,e.filter);case"transaction":return new cd(this,e.hash);case"orphan":return new ud(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#Qe.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#qe&&t.pause(this.#qe);break}}async#ot(e,t){let n=await yd(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await yd({orphan:"drop-log",log:t[0]},this)),this.#Qe.get(n.tag)||null}async#at(e){const t=await yd(e,this),n=t.tag;let r=this.#Qe.get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Qe.set(n,r)}return r}async on(e,t){const n=await this.#at(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#qe&&n.subscriber.pause(this.#qe)),this}async once(e,t){const n=await this.#at(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#qe&&n.subscriber.pause(this.#qe)),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await this.#ot(e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:r,once:i}=t;const s=new Ol(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i})),0===i.listeners.length&&(i.started&&i.subscriber.stop(),this.#Qe.delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await this.#ot(e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of this.#Qe.values())t+=n.length;return t}async listeners(e){if(e){const t=await this.#ot(e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}let t=[];for(const{listeners:n}of this.#Qe.values())t=t.concat(n.map((e=>{let{listener:t}=e;return t})));return t}async off(e,t){const n=await this.#ot(e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#Qe.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#at(e);n&&r.stop(),this.#Qe.delete(t)}else for(const[t,{started:n,subscriber:r}]of this.#Qe)n&&r.stop(),this.#Qe.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Ke}destroy(){this.removeAllListeners();for(const e of this.#Ze.keys())this._clearTimeout(e);this.#Ke=!0}get paused(){return null!=this.#qe}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Ye=-1,null!=this.#qe){if(this.#qe==!!e)return;ui(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#qe=!!e;for(const t of this.#Ze.values())t.timer&&clearTimeout(t.timer),t.time=vd()-t.time}resume(){if(null!=this.#qe){this._forEachSubscriber((e=>e.resume())),this.#qe=null;for(const e of this.#Ze.values()){let t=e.time;t<0&&(t=0),e.time=vd(),setTimeout(e.func,t)}}}}function Ed(e,t){try{const n=Ad(e,t);if(n)return Oo(n)}catch(n){}return null}function Ad(e,t){if("0x"===e)return null;try{const n=Bi(xi(e,t,t+32)),r=Bi(xi(e,n,n+32));return xi(e,n+32,n+32+r)}catch(n){}return null}function xd(e){const t=Mi(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Sd(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const kd=new Uint8Array([]);function Cd(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(kd),n+=32;for(let r=0;r<e.length;r++){const i=gi(e[r]);t[r]=xd(n),t.push(xd(i.length)),t.push(Sd(i)),n+=32+32*Math.ceil(i.length/32)}return Ei(t)}const _d="0x0000000000000000000000000000000000000000000000000000000000000000";function Td(e,t){if(e.provider)return e.provider;ui(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Nd(e,t){let n=kl(t);if(null!=n.to&&(n.to=La(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),La(t,e)]).then((e=>{let[t,n]=e;return ci(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t}))}else n.from=e.getAddress();return await ri(n)}class Id{provider;constructor(e){ii(this,{provider:e||null})}async getNonce(e){return Td(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Nd(this,e)}async populateTransaction(e){const t=Td(this,"populateTransaction"),n=await Nd(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){ci(Oi(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||ci(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):ci(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();ui(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(ui(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):ui(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await ri(n)}async estimateGas(e){return Td(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Td(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Td(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Td(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Pf.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}class Pd{#Be;#lt;#Fe;#ze;#ut;#ct;constructor(e){this.#Be=e,this.#lt=null,this.#Fe=this.#Ue.bind(this),this.#ze=!1,this.#ut=null,this.#ct=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Ue(e){try{null==this.#lt&&(this.#lt=this._subscribe(this.#Be));let e=null;try{e=await this.#lt}catch(t){if(!oi(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return this.#lt=null,void this.#Be._recoverSubscriber(this,this._recover(this.#Be));const n=await this.#Be.getNetwork();if(this.#ut||(this.#ut=n),this.#ut.chainId!==n.chainId)throw new Error("chaid changed");if(this.#ct)return;const r=await this.#Be.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Be,r)}catch(t){console.log("@TODO",t)}this.#Be.once("block",this.#Fe)}#ht(){const e=this.#lt;e&&(this.#lt=null,e.then((e=>{this.#Be.destroyed||this.#Be.send("eth_uninstallFilter",[e])})))}start(){this.#ze||(this.#ze=!0,this.#Ue(-2))}stop(){this.#ze&&(this.#ze=!1,this.#ct=!0,this.#ht(),this.#Be.off("block",this.#Fe))}pause(e){e&&this.#ht(),this.#Be.off("block",this.#Fe)}resume(){this.start()}}class Od extends Pd{#ft;constructor(e,t){var n;super(e),this.#ft=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new hd(e,this.#ft)}async _subscribe(e){return await e.send("eth_newFilter",[this.#ft])}async _emitResults(e,t){for(const n of t)e.emit(this.#ft,e._wrapLog(n,e._network))}}class Rd extends Pd{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const Dd="bigint,boolean,function,number,string,symbol".split(/,/g);function Ld(e){if(null==e||Dd.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Ld);if("object"===typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Bd(e){return new Promise((t=>{setTimeout(t,e)}))}function Fd(e){return e?e.toLowerCase():e}function Md(e){return e&&"number"===typeof e.pollingInterval}const jd={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Ud extends Id{address;constructor(e,t){super(e),ii(this,{address:t=oo(t)})}connect(e){ui(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Ld(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await La(r,this.provider);ci(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await La(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(oi(a,"CANCELLED")||oi(a,"BAD_DATA")||oi(a,"NETWORK_ERROR")||oi(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(oi(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",li("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout((()=>{o()}),i.pop()||4e3)};o()}))}async signTransaction(e){const t=Ld(e);if(t.from){const n=await La(t.from,this.provider);ci(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?Po(e):e;return await this.provider.send("personal_sign",[bi(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Ld(n),i=await Ja.resolveNames(e,t,r,(async e=>{const t=await La(e);return ci(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ja.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Po(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),bi(t)])}}class zd extends bd{#w;#dt;#pt;#gt;#mt;#ut;#yt;#vt(){if(this.#gt)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#gt=setTimeout((()=>{this.#gt=null;const e=this.#pt;for(this.#pt=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#w.batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map((e=>e.payload))).length>this.#w.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(li("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?r(this.getRpcError(i,t)):e(t.result);else{const e=li("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e)}}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}}),e)}constructor(e,t){super(e,t),this.#dt=1,this.#w=Object.assign({},jd,t||{}),this.#pt=[],this.#gt=null,this.#ut=null,this.#yt=null;{let e=null;const t=new Promise((t=>{e=t}));this.#mt={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"===typeof n?(ci(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#ut=td.from(e))):n&&(ci(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#ut=n)}_getOption(e){return this.#w[e]}get _network(){return ui(this.#ut,"network is not available yet","NETWORK_ERROR"),this.#ut}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Oi(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#ut)return this.#ut}return this.#yt?await this.#yt:this.ready?(this.#yt=(async()=>{try{const e=td.from(Oi(await this.send("eth_chainId",[])));return this.#yt=null,e}catch(e){throw this.#yt=null,e}})(),await this.#yt):(this.#yt=(async()=>{const e={id:this.#dt++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#yt=null}catch(n){throw this.#yt=null,this.emit("debug",{action:"receiveRpcError",error:n}),n}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return td.from(Oi(t.result));throw this.getRpcError(e,t)})(),await this.#yt)}_start(){null!=this.#mt&&null!=this.#mt.resolve&&(this.#mt.resolve(),this.#mt=null,(async()=>{for(;null==this.#ut&&!this.destroyed;)try{this.#ut=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",li("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Bd(1e3)}this.#vt()})())}async _waitUntilReady(){if(null!=this.#mt)return await this.#mt.promise}_getSubscriber(e){return"pending"===e.type?new Rd(this):"event"===e.type?this._getOption("polling")?new hd(this,e.filter):new Od(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new gd("orphan"):super._getSubscriber(e)}get ready(){return null==this.#mt}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=ji(Oi(e[n],`tx.${n}`))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=bi(e[n]))})),e.accessList&&(t.accessList=Xa(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Fd(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Fd(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Fd(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Fd(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Fd):e.filter.address=Fd(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return li("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Hd(r),i=Oa.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return Gd(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return li("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return li("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return li("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return li("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return li("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?li("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):li("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(li("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#dt++,r=new Promise(((r,i)=>{this.#pt.push({resolve:r,reject:i,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})}));return this.#vt(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Ud(this,n[e])}const{accounts:n}=await ri({network:this.getNetwork(),accounts:t});e=oo(e);for(const r of n)if(oo(r)===e)return new Ud(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Ud(this,e)))}destroy(){this.#gt&&(clearTimeout(this.#gt),this.#gt=null);for(const{payload:e,reject:t}of this.#pt)t(li("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#pt=[],super.destroy()}}class Vd extends zd{#wt;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=jd.pollingInterval),this.#wt=n}_getSubscriber(e){const t=super._getSubscriber(e);return Md(t)&&(t.pollingInterval=this.#wt),t}get pollingInterval(){return this.#wt}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#wt=e,this._forEachSubscriber((e=>{Md(e)&&(e.pollingInterval=this.#wt)}))}}function Hd(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&yi(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Hd(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Hd(JSON.parse(e))}catch(t){}return null}function Gd(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)Gd(e[n],t);if("string"===typeof e)try{return Gd(JSON.parse(e),t)}catch(n){}}}class Qd extends Vd{#W;constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});ci(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),this.#W=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(Gx){const t=new Error(Gx.message);throw t.code=Gx.code,t.data=Gx.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){ci(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#W(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(Gx){return[{id:e.id,error:{code:Gx.code,data:Gx.data,message:Gx.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#W("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}const qd=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,f=63&l;a||(f=64,s||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Wd;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Wd extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $d=function(e){return function(e){const t=qd(e);return Kd.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Jd=function(e){try{return Kd.decodeString(e,!0)}catch(Gx){console.error("base64Decode failed: ",Gx)}return null};const Yd=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Xd=()=>{try{return Yd()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Gx){return}const t=e&&Jd(e[1]);return t&&JSON.parse(t)})()}catch(Gx){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Gx}`)}},Zd=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Xd())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ep=()=>{var e;return null===(e=Xd())||void 0===e?void 0:e.config};class tp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function np(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rp(){return!function(){var e;const t=null===(e=Xd())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Gx){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ip(){try{return"object"===typeof indexedDB}catch(Gx){return!1}}class sp extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,sp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,op.prototype.create)}}class op{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ap,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new sp(n,s,t)}}const ap=/\{\$([^}]+)}/g;function lp(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(up(n)&&up(s)){if(!lp(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function up(e){return null!==e&&"object"===typeof e}function cp(e){return e&&e._delegate?e._delegate:e}class hp{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fp="[DEFAULT]";class dp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new tp;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Gx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Gx){if(r)return null;throw Gx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fp})}catch(Gx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Gx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===fp?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp;return this.component?this.component.multipleInstances?e:fp:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gp=[];var mp;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mp||(mp={}));const yp={debug:mp.DEBUG,verbose:mp.VERBOSE,info:mp.INFO,warn:mp.WARN,error:mp.ERROR,silent:mp.SILENT},vp=mp.INFO,wp={[mp.DEBUG]:"log",[mp.VERBOSE]:"log",[mp.INFO]:"info",[mp.WARN]:"warn",[mp.ERROR]:"error"},bp=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wp[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Ep{constructor(e){this.name=e,this._logLevel=vp,this._logHandler=bp,this._userLogHandler=null,gp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mp))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mp.DEBUG,...t),this._logHandler(this,mp.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mp.VERBOSE,...t),this._logHandler(this,mp.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mp.INFO,...t),this._logHandler(this,mp.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mp.WARN,...t),this._logHandler(this,mp.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mp.ERROR,...t),this._logHandler(this,mp.ERROR,...t)}}let Ap,xp;const Sp=new WeakMap,kp=new WeakMap,Cp=new WeakMap,_p=new WeakMap,Tp=new WeakMap;let Np={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Cp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Op(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ip(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rp(this),n),Op(Sp.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Op(e.apply(Rp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Rp(this),t,...r);return Cp.set(s,t.sort?t.sort():[t]),Op(s)}}function Pp(e){return"function"===typeof e?Ip(e):(e instanceof IDBTransaction&&function(e){if(kp.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));kp.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,Ap||(Ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Np):e)}function Op(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Op(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Sp.set(t,e)})).catch((()=>{})),Tp.set(t,e),t}(e);if(_p.has(e))return _p.get(e);const t=Pp(e);return t!==e&&(_p.set(e,t),Tp.set(t,e)),t}const Rp=e=>Tp.get(e);const Dp=["get","getKey","getAll","getAllKeys","count"],Lp=["put","add","delete","clear"],Bp=new Map;function Fp(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Bp.get(t))return Bp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dp.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Bp.set(t,s),s}Np=(e=>({...e,get:(t,n,r)=>Fp(t,n)||e.get(t,n,r),has:(t,n)=>!!Fp(t,n)||e.has(t,n)}))(Np);class Mp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const jp="@firebase/app",Up="0.10.16",zp=new Ep("@firebase/app"),Vp="@firebase/app-compat",Hp="@firebase/analytics-compat",Gp="@firebase/analytics",Qp="@firebase/app-check-compat",qp="@firebase/app-check",Kp="@firebase/auth",Wp="@firebase/auth-compat",$p="@firebase/database",Jp="@firebase/data-connect",Yp="@firebase/database-compat",Xp="@firebase/functions",Zp="@firebase/functions-compat",eg="@firebase/installations",tg="@firebase/installations-compat",ng="@firebase/messaging",rg="@firebase/messaging-compat",ig="@firebase/performance",sg="@firebase/performance-compat",og="@firebase/remote-config",ag="@firebase/remote-config-compat",lg="@firebase/storage",ug="@firebase/storage-compat",cg="@firebase/firestore",hg="@firebase/vertexai",fg="@firebase/firestore-compat",dg="firebase",pg="[DEFAULT]",gg={[jp]:"fire-core",[Vp]:"fire-core-compat",[Gp]:"fire-analytics",[Hp]:"fire-analytics-compat",[qp]:"fire-app-check",[Qp]:"fire-app-check-compat",[Kp]:"fire-auth",[Wp]:"fire-auth-compat",[$p]:"fire-rtdb",[Jp]:"fire-data-connect",[Yp]:"fire-rtdb-compat",[Xp]:"fire-fn",[Zp]:"fire-fn-compat",[eg]:"fire-iid",[tg]:"fire-iid-compat",[ng]:"fire-fcm",[rg]:"fire-fcm-compat",[ig]:"fire-perf",[sg]:"fire-perf-compat",[og]:"fire-rc",[ag]:"fire-rc-compat",[lg]:"fire-gcs",[ug]:"fire-gcs-compat",[cg]:"fire-fst",[fg]:"fire-fst-compat",[hg]:"fire-vertex","fire-js":"fire-js",[dg]:"fire-js-all"},mg=new Map,yg=new Map,vg=new Map;function wg(e,t){try{e.container.addComponent(t)}catch(Gx){zp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Gx)}}function bg(e){const t=e.name;if(vg.has(t))return zp.debug(`There were multiple attempts to register component ${t}.`),!1;vg.set(t,e);for(const n of mg.values())wg(n,e);for(const n of yg.values())wg(n,e);return!0}function Eg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ag=new op("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xg{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hp("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ag.create("app-deleted",{appName:this._name})}}function Sg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:pg,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ag.create("bad-app-name",{appName:String(i)});if(n||(n=ep()),!n)throw Ag.create("no-options");const s=mg.get(i);if(s){if(lp(n,s.options)&&lp(r,s.config))return s;throw Ag.create("duplicate-app",{appName:i})}const o=new pp(i);for(const l of vg.values())o.addComponent(l);const a=new xg(n,r,o);return mg.set(i,a),a}function kg(e,t,n){var r;let i=null!==(r=gg[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void zp.warn(e.join(" "))}bg(new hp(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Cg="firebase-heartbeat-store";let _g=null;function Tg(){return _g||(_g=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Op(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Op(o.result),e.oldVersion,e.newVersion,Op(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Cg)}catch(Gx){console.warn(Gx)}}}).catch((e=>{throw Ag.create("idb-open",{originalErrorMessage:e.message})}))),_g}async function Ng(e,t){try{const n=(await Tg()).transaction(Cg,"readwrite"),r=n.objectStore(Cg);await r.put(t,Ig(e)),await n.done}catch(Gx){if(Gx instanceof sp)zp.warn(Gx.message);else{const t=Ag.create("idb-set",{originalErrorMessage:null===Gx||void 0===Gx?void 0:Gx.message});zp.warn(t.message)}}}function Ig(e){return`${e.name}!${e.options.appId}`}class Pg{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rg(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Og();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Gx){zp.warn(Gx)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Og(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Dg(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=$d(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Gx){return zp.warn(Gx),""}}}function Og(){return(new Date).toISOString().substring(0,10)}class Rg{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ip()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Tg()).transaction(Cg),n=await t.objectStore(Cg).get(Ig(e));return await t.done,n}catch(Gx){if(Gx instanceof sp)zp.warn(Gx.message);else{const t=Ag.create("idb-get",{originalErrorMessage:null===Gx||void 0===Gx?void 0:Gx.message});zp.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ng(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ng(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Dg(e){return $d(JSON.stringify({version:2,heartbeats:e})).length}var Lg;Lg="",bg(new hp("platform-logger",(e=>new Mp(e)),"PRIVATE")),bg(new hp("heartbeat",(e=>new Pg(e)),"PRIVATE")),kg(jp,Up,Lg),kg(jp,Up,"esm2017"),kg("fire-js","");var Bg,Fg,Mg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jg={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return f(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function f(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function d(e,t){return e.add(f(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(c(t))throw Error("division by zero");if(c(e))return new g(a,a);if(h(e))return t=m(f(e),t),new g(f(t.g),f(t.h));if(h(t))return t=m(e,f(t)),new g(f(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=d(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=d(e,u)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+f(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=d(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=d(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?f(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?f(this).j(f(e)):f(f(this).j(e));if(h(e))return f(this.j(f(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,d=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=d*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=d*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Fg=jg.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},Bg=jg.Integer=r}).apply("undefined"!==typeof Mg?Mg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ug,zg,Vg,Hg,Gg,Qg,qg,Kg,Wg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$g={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Wg&&Wg];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function f(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function d(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function A(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){x(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function O(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:B[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,R);var B={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),M=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new j(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var G="closure_lm_"+(1e6*Math.random()|0),Q={};function q(e,t,n,r,i){if(r&&r.once)return W(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[G]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function W(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[G]=null)):U(e)}}}function Y(e){return e in Q?Q[e]:Q[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[G])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;E(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,fe=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function we(){R.call(this,"c")}h(ve,R),h(we,R);var be={},Ee=null;function Ae(){return Ee=Ee||new ne}function xe(e){R.call(this,be.La,e)}function Se(e){const t=Ae();re(t,new xe(t))}function ke(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Ae();re(t,new ke(t,e))}function _e(e,t){R.call(this,be.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(xe,R),be.STAT_EVENT="statevent",h(ke,R),be.Ma="timingevent",h(_e,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},Me={};function je(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Be,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=q(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,Ge(e,e.I)}function Ge(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(u(e.ba,e),t)}function Qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function We(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(u(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Qe(a),He(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):$t(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Se()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Qt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const f=Qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=f||7==t||Se(),Qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var s=r.length,o=4==Qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ce(12),Ke(this),qe(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Me){4==f&&(this.s=4,Ce(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ce(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),We(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=a.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Ce(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Ie(this.i,this.l,a,null),We(this,a);4==f&&Ke(this),this.o&&!this.J&&(4==f?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=A(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),qe(this)}}}catch(Jg){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Ce(17)),Ke(this),this.s=2,qe(this)):Ge(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return f(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ft(t[2]||""),this.g=ft(t[3]||"",!0),lt(this,t[4]),this.l=ft(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=ft(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ft(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(At(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,wt)),e.i=new Et(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,bt)),e.join("")};var gt,mt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function At(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){At(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return At(e),t=Ct(e,t),e.g.has(t)}function kt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),f(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new de}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Gx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Gx}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){At(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){At(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){At(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){At(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return At(this),this.i=null,St(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(It,pe),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=(gt={},function(){return gt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var Mt=/^https?$/i,jt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Qt(e)||2!=e.Z()))if(e.u&&4==Qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Mt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Gt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Gx){}}}function Gt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Qt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(uo){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Yt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||I(),T||(_(),T=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),je(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Nt(a,e,"req"+n+"_")}catch(Jg){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||I(),T||(_(),T=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ae(),new _e(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=c(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=c(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),_t(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)})).catch((()=>{clearTimeout(r),_t(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),hn(e),Yt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(d(e.ka,t),d(e.ka,e.i),e.h.i.length=0,f(e.i),e.i.length=0),e.l.ra()}}function fn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new It({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?ge(this.o):ge(Pe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(jt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Bt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,je(i,n,null)):je(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Jt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){$t(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,mn.aa.N.call(this)},h(yn,ve),h(vn,we),h(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Kg=$g.createWebChannelTransport=function(){return new gn},qg=$g.getStatEventTarget=function(){return Ae()},Qg=$g.Event=be,Gg=$g.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Hg=$g.ErrorCode=Oe,Re.COMPLETE="complete",Vg=$g.EventType=Re,me.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,zg=$g.WebChannel=me,$g.FetchXmlHttpFactory=It,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Ug=$g.XhrIo=Ft}).apply("undefined"!==typeof Wg?Wg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Jg="@firebase/firestore";class Yg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yg.UNAUTHENTICATED=new Yg(null),Yg.GOOGLE_CREDENTIALS=new Yg("google-credentials-uid"),Yg.FIRST_PARTY=new Yg("first-party-uid"),Yg.MOCK_USER=new Yg("mock-user");let Xg="11.0.2";const Zg=new Ep("@firebase/firestore");function em(){return Zg.logLevel}function tm(e){if(Zg.logLevel<=mp.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(im);Zg.debug(`Firestore (${Xg}): ${e}`,...i)}}function nm(e){if(Zg.logLevel<=mp.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(im);Zg.error(`Firestore (${Xg}): ${e}`,...i)}}function rm(e){if(Zg.logLevel<=mp.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(im);Zg.warn(`Firestore (${Xg}): ${e}`,...i)}}function im(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function sm(){const e=`FIRESTORE (${Xg}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw nm(e),new Error(e)}function om(e,t){e||sm()}function am(e,t){return e}const lm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class um extends sp{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cm{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class hm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yg.UNAUTHENTICATED)))}shutdown(){}}class dm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pm{constructor(e){this.t=e,this.currentUser=Yg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){om(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new cm;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cm,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{tm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(tm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cm)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(tm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(om("string"==typeof t.accessToken),new hm(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return om(null===e||"string"==typeof e),new Yg(e)}}class gm{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Yg.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new gm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Yg.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ym{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vm{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){om(void 0===this.o);const n=e=>{null!=e.error&&tm("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,tm("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{tm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):tm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(om("string"==typeof e.token),this.R=e.token,new ym(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=wm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Em(e,t){return e<t?-1:e>t?1:0}function Am(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class xm{static now(){return xm.fromMillis(Date.now())}static fromDate(e){return xm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new xm(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new um(lm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new um(lm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new um(lm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new um(lm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Em(this.nanoseconds,e.nanoseconds):Em(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sm{static fromTimestamp(e){return new Sm(e)}static min(){return new Sm(new xm(0,0))}static max(){return new Sm(new xm(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class km{constructor(e,t,n){void 0===t?t=0:t>e.length&&sm(),void 0===n?n=e.length-t:n>e.length-t&&sm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===km.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof km?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cm extends km{construct(e,t,n){return new Cm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new um(lm.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Cm(e)}static emptyPath(){return new Cm([])}}const _m=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tm extends km{construct(e,t,n){return new Tm(e,t,n)}static isValidIdentifier(e){return _m.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new um(lm.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new um(lm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new um(lm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new um(lm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tm(t)}static emptyPath(){return new Tm([])}}class Nm{constructor(e){this.path=e}static fromPath(e){return new Nm(Cm.fromString(e))}static fromName(e){return new Nm(Cm.fromString(e).popFirst(5))}static empty(){return new Nm(Cm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nm(new Cm(e.slice()))}}class Im{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Im.UNKNOWN_ID=-1;function Pm(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sm.fromTimestamp(1e9===r?new xm(n+1,0):new xm(n,r));return new Rm(i,Nm.empty(),t)}function Om(e){return new Rm(e.readTime,e.key,-1)}class Rm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Rm(Sm.min(),Nm.empty(),-1)}static max(){return new Rm(Sm.max(),Nm.empty(),-1)}}function Dm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Nm.comparator(e.documentKey,t.documentKey),0!==n?n:Em(e.largestBatchId,t.largestBatchId))}const Lm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fm(e){if(e.code!==lm.FAILED_PRECONDITION||e.message!==Lm)throw e;tm("LocalStore","Unexpectedly lost primary lease")}class Mm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Mm?t:Mm.resolve(t)}catch(e){return Mm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Mm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Mm.reject(t)}static resolve(e){return new Mm(((t,n)=>{t(e)}))}static reject(e){return new Mm(((t,n)=>{n(e)}))}static waitFor(e){return new Mm(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Mm.resolve(!1);for(const n of e)t=t.next((e=>e?Mm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Mm(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Mm(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function jm(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Um(e){return"IndexedDbTransactionError"===e.name}class zm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Vm(e){return null==e}function Hm(e){return 0===e&&1/e==-1/0}function Gm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qm(t)),t=Qm(e.get(n),t);return qm(t)}function Qm(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function qm(e){return e+"\x01\x01"}zm.oe=-1;const Km=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$m=Wm,Jm=[...$m,"indexConfiguration","indexState","indexEntries"];function Ym(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ey{constructor(e,t){this.comparator=e,this.root=t||ny.EMPTY}insert(e,t){return new ey(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ny.BLACK,null,null))}remove(e){return new ey(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ny.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ty(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ty(this.root,e,this.comparator,!1)}getReverseIterator(){return new ty(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ty(this.root,e,this.comparator,!0)}}class ty{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ny{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ny.RED,this.left=null!=r?r:ny.EMPTY,this.right=null!=i?i:ny.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ny(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ny.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ny.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ny.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ny.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sm();if(this.right.isRed())throw sm();const e=this.left.check();if(e!==this.right.check())throw sm();return e+(this.isRed()?0:1)}}ny.EMPTY=null,ny.RED=!0,ny.BLACK=!1,ny.EMPTY=new class{constructor(){this.size=0}get key(){throw sm()}get value(){throw sm()}get color(){throw sm()}get left(){throw sm()}get right(){throw sm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ny(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ry{constructor(e){this.comparator=e,this.data=new ey(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ry))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ry(this.comparator);return t.data=e,t}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sy{constructor(e){this.fields=e,e.sort(Tm.comparator)}static empty(){return new sy([])}unionWith(e){let t=new ry(Tm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new sy(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Am(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class oy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ay{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oy("Invalid base64 string: "+e):e}}(e);return new ay(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ay(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Em(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ay.EMPTY_BYTE_STRING=new ay("");const ly=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uy(e){if(om(!!e),"string"==typeof e){let t=0;const n=ly.exec(e);if(om(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cy(e.seconds),nanos:cy(e.nanos)}}function cy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hy(e){return"string"==typeof e?ay.fromBase64String(e):ay.fromUint8Array(e)}function fy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dy(e){const t=e.mapValue.fields.__previous_value__;return fy(t)?dy(t):t}function py(e){const t=uy(e.mapValue.fields.__local_write_time__.timestampValue);return new xm(t.seconds,t.nanos)}class gy{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class my{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new my("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof my&&e.projectId===this.projectId&&e.database===this.database}}const yy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fy(e)?4:Dy(e)?9007199254740991:Oy(e)?10:11:sm()}function wy(e,t){if(e===t)return!0;const n=vy(e);if(n!==vy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return py(e).isEqual(py(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=uy(e.timestampValue),r=uy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hy(e.bytesValue).isEqual(hy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cy(e.geoPointValue.latitude)===cy(t.geoPointValue.latitude)&&cy(e.geoPointValue.longitude)===cy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cy(e.integerValue)===cy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=cy(e.doubleValue),r=cy(t.doubleValue);return n===r?Hm(n)===Hm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Am(e.arrayValue.values||[],t.arrayValue.values||[],wy);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ym(n)!==Ym(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wy(n[i],r[i])))return!1;return!0}(e,t);default:return sm()}}function by(e,t){return void 0!==(e.values||[]).find((e=>wy(e,t)))}function Ey(e,t){if(e===t)return 0;const n=vy(e),r=vy(t);if(n!==r)return Em(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Em(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=cy(e.integerValue||e.doubleValue),r=cy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ay(e.timestampValue,t.timestampValue);case 4:return Ay(py(e),py(t));case 5:return Em(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hy(e),r=hy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Em(n[i],r[i]);if(0!==e)return e}return Em(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Em(cy(e.latitude),cy(t.latitude));return 0!==n?n:Em(cy(e.longitude),cy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return xy(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=Em((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:xy(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===yy.mapValue&&t===yy.mapValue)return 0;if(e===yy.mapValue)return 1;if(t===yy.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Em(r[o],s[o]);if(0!==e)return e;const t=Ey(n[r[o]],i[s[o]]);if(0!==t)return t}return Em(r.length,s.length)}(e.mapValue,t.mapValue);default:throw sm()}}function Ay(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Em(e,t);const n=uy(e),r=uy(t),i=Em(n.seconds,r.seconds);return 0!==i?i:Em(n.nanos,r.nanos)}function xy(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ey(n[i],r[i]);if(e)return e}return Em(n.length,r.length)}function Sy(e){return ky(e)}function ky(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=uy(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return hy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Nm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ky(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ky(e.fields[i])}`;return n+"}"}(e.mapValue):sm()}function Cy(e){switch(vy(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dy(e);return t?16+Cy(t):16;case 5:return 2*e.stringValue.length;case 6:return hy(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Cy(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Xm(e.fields,((e,n)=>{t+=e.length+Cy(n)})),t}(e.mapValue);default:throw sm()}}function _y(e){return!!e&&"integerValue"in e}function Ty(e){return!!e&&"arrayValue"in e}function Ny(e){return!!e&&"nullValue"in e}function Iy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Py(e){return!!e&&"mapValue"in e}function Oy(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ry(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ry(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ry(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Dy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ly{constructor(e){this.value=e}static empty(){return new Ly({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Py(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ry(t)}setAll(e){let t=Tm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ry(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Py(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Py(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ly(Ry(this.value))}}class By{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new By(e,0,Sm.min(),Sm.min(),Sm.min(),Ly.empty(),0)}static newFoundDocument(e,t,n,r){return new By(e,1,t,Sm.min(),n,r,0)}static newNoDocument(e,t){return new By(e,2,t,Sm.min(),Sm.min(),Ly.empty(),0)}static newUnknownDocument(e,t){return new By(e,3,t,Sm.min(),Sm.min(),Ly.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ly.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ly.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof By&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new By(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fy{constructor(e,t){this.position=e,this.inclusive=t}}function My(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Nm.comparator(Nm.fromName(o.referenceValue),n.key):Ey(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wy(e.position[n],t.position[n]))return!1;return!0}class Uy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function zy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vy{}class Hy extends Vy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Yy(e,t,n):"array-contains"===t?new tv(e,n):"in"===t?new nv(e,n):"not-in"===t?new rv(e,n):"array-contains-any"===t?new iv(e,n):new Hy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Xy(e,n):new Zy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ey(t,this.value)):null!==t&&vy(this.value)===vy(t)&&this.matchesComparison(Ey(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sm()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gy extends Vy{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gy(e,t)}matches(e){return Qy(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qy(e){return"and"===e.op}function qy(e){return Ky(e)&&Qy(e)}function Ky(e){for(const t of e.filters)if(t instanceof Gy)return!1;return!0}function Wy(e){if(e instanceof Hy)return e.field.canonicalString()+e.op.toString()+Sy(e.value);if(qy(e))return e.filters.map((e=>Wy(e))).join(",");{const t=e.filters.map((e=>Wy(e))).join(",");return`${e.op}(${t})`}}function $y(e,t){return e instanceof Hy?function(e,t){return t instanceof Hy&&e.op===t.op&&e.field.isEqual(t.field)&&wy(e.value,t.value)}(e,t):e instanceof Gy?function(e,t){return t instanceof Gy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&$y(n,t.filters[r])),!0)}(e,t):void sm()}function Jy(e){return e instanceof Hy?function(e){return`${e.field.canonicalString()} ${e.op} ${Sy(e.value)}`}(e):e instanceof Gy?function(e){return e.op.toString()+" {"+e.getFilters().map(Jy).join(" ,")+"}"}(e):"Filter"}class Yy extends Hy{constructor(e,t,n){super(e,t,n),this.key=Nm.fromName(n.referenceValue)}matches(e){const t=Nm.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xy extends Hy{constructor(e,t){super(e,"in",t),this.keys=ev("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zy extends Hy{constructor(e,t){super(e,"not-in",t),this.keys=ev("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ev(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Nm.fromName(e.referenceValue)))}class tv extends Hy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ty(t)&&by(t.arrayValue,this.value)}}class nv extends Hy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&by(this.value.arrayValue,t)}}class rv extends Hy{constructor(e,t){super(e,"not-in",t)}matches(e){if(by(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!by(this.value.arrayValue,t)}}class iv extends Hy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ty(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>by(this.value.arrayValue,e)))}}class sv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function ov(e){return new sv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function av(e){const t=am(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Wy(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Vm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Sy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Sy(e))).join(",")),t.ue=e}return t.ue}function lv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$y(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jy(e.startAt,t.startAt)&&jy(e.endAt,t.endAt)}function uv(e){return Nm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hv(e,t,n,r,i,s,o,a){return new cv(e,t,n,r,i,s,o,a)}function fv(e){return new cv(e)}function dv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pv(e){return null!==e.collectionGroup}function gv(e){const t=am(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ry(Tm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Uy(r,n))})),e.has(Tm.keyField().canonicalString())||t.ce.push(new Uy(Tm.keyField(),n))}return t.ce}function mv(e){const t=am(e);return t.le||(t.le=yv(t,gv(e))),t.le}function yv(e,t){if("F"===e.limitType)return ov(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Uy(e.field,t)}));const n=e.endAt?new Fy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fy(e.startAt.position,e.startAt.inclusive):null;return ov(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vv(e,t,n){return new cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wv(e,t){return lv(mv(e),mv(t))&&e.limitType===t.limitType}function bv(e){return`${av(mv(e))}|lt:${e.limitType}`}function Ev(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Jy(e))).join(", ")}]`),Vm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Sy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Sy(e))).join(",")),`Target(${t})`}(mv(e))}; limitType=${e.limitType})`}function Av(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Nm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of gv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=My(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gv(e),t))&&!(e.endAt&&!function(e,t,n){const r=My(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gv(e),t))}(e,t)}function xv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sv(e){return(t,n)=>{let r=!1;for(const i of gv(e)){const e=kv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kv(e,t,n){const r=e.field.isKeyField()?Nm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ey(r,i):sm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sm()}}class Cv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Zm(this.inner)}size(){return this.innerSize}}const _v=new ey(Nm.comparator);function Tv(){return _v}const Nv=new ey(Nm.comparator);function Iv(){let e=Nv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Pv(e){let t=Nv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ov(){return Dv()}function Rv(){return Dv()}function Dv(){return new Cv((e=>e.toString()),((e,t)=>e.isEqual(t)))}new ey(Nm.comparator);const Lv=new ry(Nm.comparator);function Bv(){let e=Lv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fv=new ry(Em);function Mv(){return Fv}function jv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(t)?"-0":t}}function Uv(e){return{integerValue:""+e}}class zv{constructor(){this._=void 0}}function Vv(e,t,n){return e instanceof Qv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fy(t)&&(t=dy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qv?Kv(e,t):e instanceof Wv?$v(e,t):function(e,t){const n=Gv(e,t),r=Yv(n)+Yv(e.Pe);return _y(n)&&_y(e.Pe)?Uv(r):jv(e.serializer,r)}(e,t)}function Hv(e,t,n){return e instanceof qv?Kv(e,t):e instanceof Wv?$v(e,t):n}function Gv(e,t){return e instanceof Jv?function(e){return _y(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Qv extends zv{}class qv extends zv{constructor(e){super(),this.elements=e}}function Kv(e,t){const n=Xv(t);for(const r of e.elements)n.some((e=>wy(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Wv extends zv{constructor(e){super(),this.elements=e}}function $v(e,t){let n=Xv(t);for(const r of e.elements)n=n.filter((e=>!wy(e,r)));return{arrayValue:{values:n}}}class Jv extends zv{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Yv(e){return cy(e.integerValue||e.doubleValue)}function Xv(e){return Ty(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Zv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zv}static exists(e){return new Zv(void 0,e)}static updateTime(e){return new Zv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ew(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class tw{}function nw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hw(e.key,Zv.none()):new ow(e.key,e.data,Zv.none());{const n=e.data,r=Ly.empty();let i=new ry(Tm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new aw(e.key,r,new sy(i.toArray()),Zv.none())}}function rw(e,t,n){e instanceof ow?function(e,t,n){const r=e.value.clone(),i=uw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof aw?function(e,t,n){if(!ew(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=uw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function iw(e,t,n,r){return e instanceof ow?function(e,t,n,r){if(!ew(e.precondition,t))return n;const i=e.value.clone(),s=cw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof aw?function(e,t,n,r){if(!ew(e.precondition,t))return n;const i=cw(e.fieldTransforms,r,t),s=t.data;return s.setAll(lw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ew(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Am(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qv&&t instanceof qv||e instanceof Wv&&t instanceof Wv?Am(e.elements,t.elements,wy):e instanceof Jv&&t instanceof Jv?wy(e.Pe,t.Pe):e instanceof Qv&&t instanceof Qv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ow extends tw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class aw extends tw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function uw(e,t,n){const r=new Map;om(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Hv(o,a,n[i]))}return r}function cw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Vv(e,s,t))}return r}class hw extends tw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&rw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=iw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=iw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Rv();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=nw(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Sm.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Bv())}isEqual(e){return this.batchId===e.batchId&&Am(this.mutations,e.mutations,((e,t)=>sw(e,t)))&&Am(this.baseMutations,e.baseMutations,((e,t)=>sw(e,t)))}}class dw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pw{constructor(e,t){this.count=e,this.unchangedNames=t}}var gw,mw;function yw(e){if(void 0===e)return nm("GRPC error has no .code"),lm.UNKNOWN;switch(e){case gw.OK:return lm.OK;case gw.CANCELLED:return lm.CANCELLED;case gw.UNKNOWN:return lm.UNKNOWN;case gw.DEADLINE_EXCEEDED:return lm.DEADLINE_EXCEEDED;case gw.RESOURCE_EXHAUSTED:return lm.RESOURCE_EXHAUSTED;case gw.INTERNAL:return lm.INTERNAL;case gw.UNAVAILABLE:return lm.UNAVAILABLE;case gw.UNAUTHENTICATED:return lm.UNAUTHENTICATED;case gw.INVALID_ARGUMENT:return lm.INVALID_ARGUMENT;case gw.NOT_FOUND:return lm.NOT_FOUND;case gw.ALREADY_EXISTS:return lm.ALREADY_EXISTS;case gw.PERMISSION_DENIED:return lm.PERMISSION_DENIED;case gw.FAILED_PRECONDITION:return lm.FAILED_PRECONDITION;case gw.ABORTED:return lm.ABORTED;case gw.OUT_OF_RANGE:return lm.OUT_OF_RANGE;case gw.UNIMPLEMENTED:return lm.UNIMPLEMENTED;case gw.DATA_LOSS:return lm.DATA_LOSS;default:return sm()}}(mw=gw||(gw={}))[mw.OK=0]="OK",mw[mw.CANCELLED=1]="CANCELLED",mw[mw.UNKNOWN=2]="UNKNOWN",mw[mw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mw[mw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mw[mw.NOT_FOUND=5]="NOT_FOUND",mw[mw.ALREADY_EXISTS=6]="ALREADY_EXISTS",mw[mw.PERMISSION_DENIED=7]="PERMISSION_DENIED",mw[mw.UNAUTHENTICATED=16]="UNAUTHENTICATED",mw[mw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mw[mw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mw[mw.ABORTED=10]="ABORTED",mw[mw.OUT_OF_RANGE=11]="OUT_OF_RANGE",mw[mw.UNIMPLEMENTED=12]="UNIMPLEMENTED",mw[mw.INTERNAL=13]="INTERNAL",mw[mw.UNAVAILABLE=14]="UNAVAILABLE",mw[mw.DATA_LOSS=15]="DATA_LOSS";let vw=null;function ww(){return new TextEncoder}const bw=new Bg([4294967295,4294967295],0);function Ew(e){const t=ww().encode(e),n=new Fg;return n.update(t),new Uint8Array(n.digest())}function Aw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Bg([n,r],0),new Bg([i,s],0)]}class xw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sw(`Invalid padding: ${t}`);if(n<0)throw new Sw(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Sw(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Sw(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Bg.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(Bg.fromNumber(n)));return 1===r.compare(bw)&&(r=new Bg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Ew(e),[n,r]=Aw(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new xw(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Ew(e),[n,r]=Aw(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new kw(Sm.min(),r,new ey(Em),Tv(),Bv())}}class Cw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cw(n,t,Bv(),Bv(),Bv())}}class _w{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Tw{constructor(e,t){this.targetId=e,this.me=t}}class Nw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ay.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Iw{constructor(){this.fe=0,this.ge=Rw(),this.pe=ay.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Bv(),t=Bv(),n=Bv();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sm()}})),new Cw(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Rw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,om(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pw{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tv(),this.qe=Ow(),this.Qe=Ow(),this.Ke=new ey(Em)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:sm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(uv(i))if(0===n){const e=new Nm(i.path);this.We(t,e,By.newNoDocument(e,Sm.min()))}else om(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==vw||vw.tt(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},f=t.unchangedNames;return f&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==f?void 0:f.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==f?void 0:f.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==f?void 0:f.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=hy(n).toUint8Array()}catch(e){if(e instanceof oy)return rm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new xw(s,r,i)}catch(e){return rm(e instanceof Sw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&uv(i.target)){const t=new Nm(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,By.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Bv();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new kw(e,t,this.Ke,this.ke,n);return this.ke=Tv(),this.qe=Ow(),this.Qe=Ow(),this.Ke=new ey(Em),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Iw,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new ry(Em),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ry(Em),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||tm("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Iw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ow(){return new ey(Nm.comparator)}function Rw(){return new ey(Nm.comparator)}const Dw={asc:"ASCENDING",desc:"DESCENDING"},Lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bw={and:"AND",or:"OR"};class Fw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mw(e,t){return e.useProto3Json||Vm(t)?t:{value:t}}function jw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zw(e){return om(!!e),Sm.fromTimestamp(function(e){const t=uy(e);return new xm(t.seconds,t.nanos)}(e))}function Vw(e,t){return Hw(e,t).canonicalString()}function Hw(e,t){const n=function(e){return new Cm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Gw(e){const t=Cm.fromString(e);return om(ob(t)),t}function Qw(e,t){const n=Gw(t);if(n.get(1)!==e.databaseId.projectId)throw new um(lm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new um(lm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nm($w(n))}function qw(e,t){return Vw(e.databaseId,t)}function Kw(e){const t=Gw(e);return 4===t.length?Cm.emptyPath():$w(t)}function Ww(e){return new Cm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $w(e){return om(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jw(e,t){return{documents:[qw(e,t.path)]}}function Yw(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qw(e,i);const s=function(e){if(0!==e.length)return sb(Gy.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:rb(e.field),direction:eb(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mw(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function Xw(e){let t=Kw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){om(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Zw(e);return t instanceof Gy&&qy(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Uy(ib(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Vm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Fy(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Fy(n,t)}(n.endAt)),hv(t,i,o,s,a,"F",l,u)}function Zw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ib(e.unaryFilter.field);return Hy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ib(e.unaryFilter.field);return Hy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ib(e.unaryFilter.field);return Hy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ib(e.unaryFilter.field);return Hy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sm()}}(e):void 0!==e.fieldFilter?function(e){return Hy.create(ib(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Gy.create(e.compositeFilter.filters.map((e=>Zw(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sm()}}(e.compositeFilter.op))}(e):sm()}function eb(e){return Dw[e]}function tb(e){return Lw[e]}function nb(e){return Bw[e]}function rb(e){return{fieldPath:e.canonicalString()}}function ib(e){return Tm.fromServerFormat(e.fieldPath)}function sb(e){return e instanceof Hy?function(e){if("=="===e.op){if(Iy(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NAN"}};if(Ny(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Iy(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NOT_NAN"}};if(Ny(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rb(e.field),op:tb(e.op),value:e.value}}}(e):e instanceof Gy?function(e){const t=e.getFilters().map((e=>sb(e)));return 1===t.length?t[0]:{compositeFilter:{op:nb(e.op),filters:t}}}(e):sm()}function ob(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ab{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sm.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ay.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ab(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ab(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ab(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ab(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lb{constructor(e){this.ht=e}}function ub(e){const t=Xw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vv(t,t.limit,"L"):t}class cb{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(cy(e.integerValue));else if("doubleValue"in e){const n=cy(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Hm(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=uy(n)),t.ft(`${n.seconds||""}`),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(hy(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?Dy(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Oy(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):sm()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(cy(o)),this.gt(s,t),this.dt(i[s],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),Nm.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}cb.Ft=new cb;class hb{constructor(){this.ln=new fb}addToCollectionParentIndex(e,t){return this.ln.add(t),Mm.resolve()}getCollectionParents(e,t){return Mm.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Mm.resolve()}deleteFieldIndex(e,t){return Mm.resolve()}deleteAllFieldIndexes(e){return Mm.resolve()}createTargetIndexes(e,t){return Mm.resolve()}getDocumentsMatchingTarget(e,t){return Mm.resolve(null)}getIndexType(e,t){return Mm.resolve(0)}getFieldIndexes(e,t){return Mm.resolve([])}getNextCollectionGroupToUpdate(e){return Mm.resolve(null)}getMinOffset(e,t){return Mm.resolve(Rm.min())}getMinOffsetFromCollectionGroup(e,t){return Mm.resolve(Rm.min())}updateCollectionGroup(e,t,n){return Mm.resolve()}updateIndexEntries(e,t){return Mm.resolve()}}class fb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ry(Cm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ry(Cm.comparator)).toArray()}}new Uint8Array(0);const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pb{static withCacheSize(e){return new pb(e,pb.DEFAULT_COLLECTION_PERCENTILE,pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}pb.DEFAULT_COLLECTION_PERCENTILE=10,pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pb.DEFAULT=new pb(41943040,pb.DEFAULT_COLLECTION_PERCENTILE,pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pb.DISABLED=new pb(-1,0,0);class gb{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new gb(0)}static Qn(){return new gb(-1)}}function mb(e,t){let[n,r]=e,[i,s]=t;const o=Em(n,i);return 0===o?Em(r,s):o}class yb{constructor(e){this.Gn=e,this.buffer=new ry(mb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();mb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vb{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){tm("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Um(e)?tm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Fm(e)}await this.Yn(3e5)}))}}class wb{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Mm.resolve(zm.oe);const n=new yb(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tm("LruGarbageCollector","Garbage collection skipped; disabled"),Mm.resolve(db)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(tm("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(tm("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),em()<=mp.DEBUG&&tm("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Mm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function bb(e,t){return new wb(e,t)}class Eb{constructor(){this.changes=new Cv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,By.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Mm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ab{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xb{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&iw(n.mutation,e,sy.empty(),xm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Bv()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bv();const r=Ov();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Iv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ov();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Bv())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Tv();const s=Dv(),o=Dv();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof aw)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),iw(o.mutation,t,o.mutation.getFieldMask(),xm.now())):s.set(t.key,sy.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Ab(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Dv();let r=new ey(((e,t)=>e-t)),i=Bv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||sy.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Bv()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Rv();l.forEach((e=>{if(!i.has(e)){const r=nw(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Mm.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Nm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Mm.resolve(Ov());let o=-1,a=i;return s.next((t=>Mm.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Mm.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Bv()))).next((e=>({batchId:o,changes:Pv(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nm(t)).next((e=>{let t=Iv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Iv();return this.indexManager.getCollectionParents(e,i).next((o=>Mm.forEach(o,(o=>{const a=function(e,t){return new cv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,By.newInvalidDocument(r)))}));let n=Iv();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&iw(s.mutation,r,sy.empty(),xm.now()),Av(t,r)&&(n=n.insert(e,r))})),n}))}}class Sb{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Mm.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zw(e.createTime)}}(t)),Mm.resolve()}getNamedQuery(e,t){return Mm.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:ub(e.bundledQuery),readTime:zw(e.readTime)}}(t)),Mm.resolve()}}class kb{constructor(){this.overlays=new ey(Nm.comparator),this.Er=new Map}getOverlay(e,t){return Mm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ov();return Mm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),Mm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),Mm.resolve()}getOverlaysForCollection(e,t,n){const r=Ov(),i=t.length+1,s=new Nm(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Mm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ey(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ov(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ov(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Mm.resolve(o)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dw(t,n));let i=this.Er.get(t);void 0===i&&(i=Bv(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class Cb{constructor(){this.sessionToken=ay.EMPTY_BYTE_STRING}getSessionToken(e){return Mm.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Mm.resolve()}}class _b{constructor(){this.dr=new ry(Tb.Ar),this.Rr=new ry(Tb.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new Tb(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Tb(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Nm(new Cm([])),n=new Tb(t,e),r=new Tb(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Nm(new Cm([])),n=new Tb(t,e),r=new Tb(t,e+1);let i=Bv();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Tb(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Tb{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Nm.comparator(e.key,t.key)||Em(e.br,t.br)}static Vr(e,t){return Em(e.br,t.br)||Nm.comparator(e.key,t.key)}}class Nb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new ry(Tb.Ar)}checkEmpty(e){return Mm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fw(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.vr=this.vr.add(new Tb(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Mm.resolve(s)}lookupMutationBatch(e,t){return Mm.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return Mm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Mm.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return Mm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Tb(t,0),r=new Tb(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),Mm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ry(Em);return t.forEach((e=>{const t=new Tb(e,0),r=new Tb(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),Mm.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Nm.isDocumentKey(i)||(i=i.child(""));const s=new Tb(new Nm(i),0);let o=new ry(Em);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.br)),!0)}),s),Mm.resolve(this.Mr(o))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){om(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return Mm.forEach(t.mutations,(r=>{const i=new Tb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new Tb(t,0),r=this.vr.firstAfterOrEqual(n);return Mm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Mm.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ib{constructor(e){this.Nr=e,this.docs=new ey(Nm.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Mm.resolve(n?n.document.mutableCopy():By.newInvalidDocument(t))}getEntries(e,t){let n=Tv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():By.newInvalidDocument(e))})),Mm.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tv();const s=t.path,o=new Nm(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Dm(Om(o),n)<=0||(r.has(o.key)||Av(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Mm.resolve(i)}getAllFromCollectionGroup(e,t,n,r){sm()}Lr(e,t){return Mm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Pb(this)}getSize(e){return Mm.resolve(this.size)}}class Pb extends Eb{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),Mm.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Ob{constructor(e){this.persistence=e,this.Br=new Cv((e=>av(e)),lv),this.lastRemoteSnapshotVersion=Sm.min(),this.highestTargetId=0,this.kr=0,this.qr=new _b,this.targetCount=0,this.Qr=gb.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),Mm.resolve()}getLastRemoteSnapshotVersion(e){return Mm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mm.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Mm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),Mm.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new gb(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Mm.resolve()}updateTargetData(e,t){return this.Un(t),Mm.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Mm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Br.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Mm.waitFor(i).next((()=>r))}getTargetCount(e){return Mm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return Mm.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),Mm.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Mm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Mm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return Mm.resolve(n)}containsKey(e,t){return Mm.resolve(this.qr.containsKey(t))}}class Rb{constructor(e,t){this.Kr={},this.overlays={},this.$r=new zm(0),this.Ur=!1,this.Ur=!0,this.Wr=new Cb,this.referenceDelegate=e(this),this.Gr=new Ob(this),this.indexManager=new hb,this.remoteDocumentCache=function(e){return new Ib(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new lb(t),this.jr=new Sb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Nb(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){tm("MemoryPersistence","Starting transaction:",e);const r=new Db(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return Mm.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class Db extends Bm{constructor(e){super(),this.currentSequenceNumber=e}}class Lb{constructor(e){this.persistence=e,this.Zr=new _b,this.Xr=null}static ei(e){return new Lb(e)}get ti(){if(this.Xr)return this.Xr;throw sm()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),Mm.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),Mm.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Mm.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mm.forEach(this.ti,(n=>{const r=Nm.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Sm.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return Mm.or([()=>Mm.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Bb{constructor(e,t){this.persistence=e,this.ri=new Cv((e=>Gm(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=bb(this,t)}static ei(e,t){return new Bb(e,t)}Hr(){}Jr(e){return Mm.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return Mm.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?Mm.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Sm.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Mm.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Mm.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Mm.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Mm.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cy(e.data.value)),t}ir(e,t,n){return Mm.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return Mm.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=Bv(),r=Bv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Fb(e,t.fromCache,n,r)}}class Mb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jb{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=rp()?8:jm(np())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Mb;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(em()<=mp.DEBUG&&tm("QueryEngine","SDK will not create cache indexes for query:",Ev(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Mm.resolve()):(em()<=mp.DEBUG&&tm("QueryEngine","Query:",Ev(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(em()<=mp.DEBUG&&tm("QueryEngine","The SDK decides to create cache indexes for query:",Ev(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mv(t))):Mm.resolve())}Xi(e,t){if(dv(t))return Mm.resolve(null);let n=mv(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=vv(t,null,"F"),n=mv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Bv(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.rs(t,r);return this.ss(t,s,i,n.readTime)?this.Xi(e,vv(t,null,"F")):this.os(e,s,t,n)}))))})))))}es(e,t,n,r){return dv(t)||r.isEqual(Sm.min())?Mm.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const s=this.rs(t,i);return this.ss(t,s,n,r)?Mm.resolve(null):(em()<=mp.DEBUG&&tm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ev(t)),this.os(e,s,t,Pm(r,-1)).next((e=>e)))}))}rs(e,t){let n=new ry(Sv(e));return t.forEach(((t,r)=>{Av(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return em()<=mp.DEBUG&&tm("QueryEngine","Using full collection scan to execute query:",Ev(t)),this.Zi.getDocumentsMatchingQuery(e,t,Rm.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ub{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new ey(Em),this.cs=new Cv((e=>av(e)),lv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xb(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function zb(e,t,n,r){return new Ub(e,t,n,r)}async function Vb(e,t){const n=am(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Bv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Hb(e){const t=am(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Gb(e,t,n){let r=Bv(),i=Bv();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Tv();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Sm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):tm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Is:r,Es:i}}))}function Qb(e,t){const n=am(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,Mm.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new ab(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function qb(e,t,n){const r=am(e),i=r.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Um(e))throw e;tm("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.us=r.us.remove(t),r.cs.delete(i.target)}function Kb(e,t,n){const r=am(e);let i=Sm.min(),s=Bv();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=am(e),i=r.cs.get(n);return void 0!==i?Mm.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,mv(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:Sm.min(),n?s:Bv()))).next((e=>(Wb(r,xv(t),e),{documents:e,ds:s})))))}function Wb(e,t,n){let r=e.ls.get(t)||Sm.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}class $b{constructor(){this.activeTargetIds=Mv()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jb{constructor(){this._o=new $b,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new $b,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yb{uo(e){}shutdown(){}}class Xb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){tm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){tm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zb=null;function eE(){return null===Zb?Zb=268435456+Math.round(2147483648*Math.random()):Zb++,"0x"+Zb.toString(16)}const tE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const rE="WebChannelConnection";class iE extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(e,t,n,r,i){const s=eE(),o=this.No(e,t.toUriEncodedString());tm("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(e,o,a,n).then((t=>(tm("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw rm("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}ko(e,t,n,r,i,s){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=tE[e];return`${this.Fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=eE();return new Promise(((s,o)=>{const a=new Ug;a.setWithCredentials(!0),a.listenOnce(Vg.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Hg.NO_ERROR:const t=a.getResponseJson();tm(rE,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Hg.TIMEOUT:tm(rE,`RPC '${e}' ${i} timed out`),o(new um(lm.DEADLINE_EXCEEDED,"Request time out"));break;case Hg.HTTP_ERROR:const n=a.getStatus();if(tm(rE,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(lm).indexOf(t)>=0?t:lm.UNKNOWN}(t.status);o(new um(e,t.message))}else o(new um(lm.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new um(lm.UNAVAILABLE,"Connection failed."));break;default:sm()}}finally{tm(rE,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);tm(rE,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=eE(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kg(),o=qg(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");tm(rE,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,f=!1;const d=new nE({Eo:t=>{f?tm(rE,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(tm(rE,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),tm(rE,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Ao:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,zg.EventType.OPEN,(()=>{f||(tm(rE,`RPC '${e}' stream ${r} transport opened.`),d.So())})),p(c,zg.EventType.CLOSE,(()=>{f||(f=!0,tm(rE,`RPC '${e}' stream ${r} transport closed`),d.Do())})),p(c,zg.EventType.ERROR,(t=>{f||(f=!0,rm(rE,`RPC '${e}' stream ${r} transport errored:`,t),d.Do(new um(lm.UNAVAILABLE,"The operation could not be completed")))})),p(c,zg.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];om(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){tm(rE,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=gw[e];if(void 0!==t)return yw(t)}(t),i=o.message;void 0===n&&(n=lm.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,d.Do(new um(n,i)),c.close()}else tm(rE,`RPC '${e}' stream ${r} received:`,i),d.vo(i)}})),p(o,Qg.STAT_EVENT,(t=>{t.stat===Gg.PROXY?tm(rE,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Gg.NOPROXY&&tm(rE,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{d.bo()}),0),d}}function sE(){return"undefined"!=typeof document?document:null}function oE(e){return new Fw(e,!0)}class aE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&tm("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class lE{constructor(e,t,n,r,i,s,o,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new aE(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===lm.RESOURCE_EXHAUSTED?(nm(t.toString()),nm("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===lm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new um(lm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return tm("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(tm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uE extends lE{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(om(void 0===t||"string"==typeof t),ay.fromBase64String(t||"")):(om(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ay.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?lm.UNKNOWN:yw(e.code);return new um(t,e.message||"")}(o);n=new Nw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qw(e,r.document.name),s=zw(r.document.updateTime),o=r.document.createTime?zw(r.document.createTime):Sm.min(),a=new Ly({mapValue:{fields:r.document.fields}}),l=By.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new _w(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Qw(e,r.document),s=r.readTime?zw(r.readTime):Sm.min(),o=By.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _w([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Qw(e,r.document),s=r.removedTargetIds||[];n=new _w([],s,i,null)}else{if(!("filter"in t))return sm();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new pw(r,i),o=e.targetId;n=new Tw(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sm.min():t.readTime?zw(t.readTime):Sm.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Ww(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=uv(r)?{documents:Jw(e,r)}:{query:Yw(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Uw(e,t.resumeToken);const r=Mw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sm.min())>0){n.readTime=jw(e,t.snapshotVersion.toTimestamp());const r=Mw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Ww(this.serializer),t.removeTarget=e,this.c_(t)}}class cE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new um(lm.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Oo(e,Hw(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===lm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new um(lm.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.ko(e,Hw(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===lm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new um(lm.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class hE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(nm(t),this.C_=!1):tm("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class fE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{EE(this)&&(tm("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=am(e);t.k_.add(4),await pE(t),t.K_.set("Unknown"),t.k_.delete(4),await dE(t)}(this))}))})),this.K_=new hE(n,r)}}async function dE(e){if(EE(e))for(const t of e.q_)await t(!0)}async function pE(e){for(const t of e.q_)await t(!1)}function gE(e,t){const n=am(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),bE(n)?wE(n):IE(n).s_()&&yE(n,t))}function mE(e,t){const n=am(e),r=IE(n);n.B_.delete(t),r.s_()&&vE(n,t),0===n.B_.size&&(r.s_()?r.a_():EE(n)&&n.K_.set("Unknown"))}function yE(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}IE(e).V_(t)}function vE(e,t){e.U_.xe(t),IE(e).m_(t)}function wE(e){e.U_=new Pw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),IE(e).start(),e.K_.F_()}function bE(e){return EE(e)&&!IE(e).i_()&&e.B_.size>0}function EE(e){return 0===am(e).k_.size}function AE(e){e.U_=void 0}async function xE(e){e.K_.set("Online")}async function SE(e){e.B_.forEach(((t,n)=>{yE(e,t)}))}async function kE(e,t){AE(e),bE(e)?(e.K_.O_(t),wE(e)):e.K_.set("Unknown")}async function CE(e,t,n){if(e.K_.set("Online"),t instanceof Nw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){tm("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await _E(e,n)}else if(t instanceof _w?e.U_.$e(t):t instanceof Tw?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Sm.min()))try{const t=await Hb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(ay.EMPTY_BYTE_STRING,r.snapshotVersion)),vE(e,t);const i=new ab(r.target,t,n,r.sequenceNumber);yE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){tm("RemoteStore","Failed to raise snapshot:",t),await _E(e,t)}}async function _E(e,t,n){if(!Um(t))throw t;e.k_.add(1),await pE(e),e.K_.set("Offline"),n||(n=()=>Hb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{tm("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await dE(e)}))}async function TE(e,t){const n=am(e);n.asyncQueue.verifyOperationInProgress(),tm("RemoteStore","RemoteStore received new credentials");const r=EE(n);n.k_.add(3),await pE(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await dE(n)}async function NE(e,t){const n=am(e);t?(n.k_.delete(2),await dE(n)):t||(n.k_.add(2),await pE(n),n.K_.set("Unknown"))}function IE(e){return e.W_||(e.W_=function(e,t,n){const r=am(e);return r.b_(),new uE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:xE.bind(null,e),mo:SE.bind(null,e),po:kE.bind(null,e),R_:CE.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),bE(e)?wE(e):e.K_.set("Unknown")):(await e.W_.stop(),AE(e))}))),e.W_}class PE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new PE(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new um(lm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OE(e,t){if(nm("AsyncQueue",`${t}: ${e}`),Um(e))return new um(lm.UNAVAILABLE,`${t}: ${e}`);throw e}class RE{static emptySet(e){return new RE(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Nm.comparator(t.key,n.key):(e,t)=>Nm.comparator(e.key,t.key),this.keyedMap=Iv(),this.sortedSet=new ey(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof RE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new RE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class DE{constructor(){this.z_=new ey(Nm.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):sm():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class LE{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new LE(e,t,RE.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class BE{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class FE{constructor(){this.queries=ME(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=am(e),r=n.queries;n.queries=ME(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new um(lm.ABORTED,"Firestore shutting down"))}}function ME(){return new Cv((e=>bv(e)),wv)}async function jE(e,t){const n=am(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Y_()&&t.Z_()&&(r=2):(s=new BE,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=OE(e,`Initialization of query '${Ev(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&HE(n)}async function UE(e,t){const n=am(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?i=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zE(e,t){const n=am(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&HE(n)}function VE(e,t,n){const r=am(e),i=r.queries.get(t);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(t)}function HE(e){e.X_.forEach((e=>{e.next()}))}var GE,QE;(QE=GE||(GE={})).na="default",QE.Cache="cache";class qE{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new LE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=LE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==GE.Cache}}class KE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class $E{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Bv(),this.mutatedKeys=Bv(),this.Va=Sv(e),this.ma=new RE(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new DE,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Av(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.ya(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Va(c,a)>0||l&&this.Va(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:o,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sm()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const o=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==s.length||l?{snapshot:new LE(this.query,e.ma,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new DE,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Bv(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new WE(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new KE(n))})),t}va(e){this.da=e.ds,this.Ra=Bv();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return LE.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class JE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class YE{constructor(e){this.key=e,this.Fa=!1}}class XE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Cv((e=>bv(e)),wv),this.Oa=new Map,this.Na=new Set,this.La=new ey(Nm.comparator),this.Ba=new Map,this.ka=new _b,this.qa={},this.Qa=new Map,this.Ka=gb.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function ZE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=mA(e);let i;const s=r.xa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await tA(r,t,n,!0),i}async function eA(e,t){const n=mA(e);await tA(n,t,!0,!1)}async function tA(e,t,n,r){const i=await Qb(e.localStore,mv(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await nA(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&gE(e.remoteStore,i),a}async function nA(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await Kb(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return cA(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const s=await Kb(e.localStore,t,!0),o=new $E(t,s.ds),a=o.ga(s.documents),l=Cw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);cA(e,n,u.ba);const c=new JE(t,n,o);return e.xa.set(t,c),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function rA(e,t,n){const r=am(e),i=r.xa.get(t),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter((e=>!wv(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mE(r.remoteStore,i.targetId),lA(r,i.targetId)})).catch(Fm)):(lA(r,i.targetId),await qb(r.localStore,i.targetId,!0))}async function iA(e,t){const n=am(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mE(n.remoteStore,r.targetId))}async function sA(e,t){const n=am(e);try{const e=await function(e,t){const n=am(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Gr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(ay.EMPTY_BYTE_STRING,Sm.min()).withLastLimboFreeSnapshotVersion(Sm.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Gr.updateTargetData(e,u))}));let a=Tv(),l=Bv();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Gb(e,s,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!r.isEqual(Sm.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Mm.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(om(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?om(r.Fa):e.removedDocuments.size>0&&(om(r.Fa),r.Fa=!1))})),await dA(n,e,t)}catch(e){await Fm(e)}}function oA(e,t,n){const r=am(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=am(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&HE(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aA(e,t,n){const r=am(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),s=i&&i.key;if(s){let e=new ey(Nm.comparator);e=e.insert(s,By.newNoDocument(s,Sm.min()));const n=Bv().add(s),i=new kw(Sm.min(),new Map,new ey(Em),e,n);await sA(r,i),r.La=r.La.remove(s),r.Ba.delete(t),fA(r)}else await qb(r.localStore,t,!1).then((()=>lA(r,t,n))).catch(Fm)}function lA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||uA(e,t)}))}function uA(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(mE(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),fA(e))}function cA(e,t,n){for(const r of n)r instanceof KE?(e.ka.addReference(r.key,t),hA(e,r)):r instanceof WE?(tm("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||uA(e,r.key)):sm()}function hA(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(tm("SyncEngine","New document in limbo: "+n),e.Na.add(r),fA(e))}function fA(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Nm(Cm.fromString(t)),r=e.Ka.next();e.Ba.set(r,new YE(n)),e.La=e.La.insert(n,r),gE(e.remoteStore,new ab(mv(fv(n.path)),r,"TargetPurposeLimboResolution",zm.oe))}}async function dA(e,t,n){const r=am(e),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{o.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Fb.zi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ma.R_(i),await async function(e,t){const n=am(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Mm.forEach(t,(t=>Mm.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Mm.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Um(e))throw e;tm("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,s))}async function pA(e,t){const n=am(e);if(!n.currentUser.isEqual(t)){tm("SyncEngine","User change. New user:",t.toKey());const e=await Vb(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new um(lm.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await dA(n,e.Ts)}}function gA(e,t){const n=am(e),r=n.Ba.get(t);if(r&&r.Fa)return Bv().add(r.key);{let e=Bv();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}function mA(e){const t=am(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aA.bind(null,t),t.Ma.R_=zE.bind(null,t.eventManager),t.Ma.Wa=VE.bind(null,t.eventManager),t}class yA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oE(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zb(this.persistence,new jb,e.initialUser,this.serializer)}ja(e){return new Rb(Lb.ei,this.serializer)}za(e){return new Jb}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yA.provider={build:()=>new yA};class vA extends yA{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){om(this.persistence.referenceDelegate instanceof Bb);const n=this.persistence.referenceDelegate.garbageCollector;return new vb(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?pb.withCacheSize(this.cacheSizeBytes):pb.DEFAULT;return new Rb((e=>Bb.ei(e,t)),this.serializer)}}class wA{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>oA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pA.bind(null,this.syncEngine),await NE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new FE}createDatastore(e){const t=oE(e.databaseInfo.databaseId),n=function(e){return new iE(e)}(e.databaseInfo);return function(e,t,n,r){return new cE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new fE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>oA(this.syncEngine,e,0)),Xb.p()?new Xb:new Yb)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new XE(e,t,n,r,i,s);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=am(e);tm("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await pE(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}wA.provider={build:()=>new wA};class bA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):nm("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class EA{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yg.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{tm("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(tm("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=OE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function AA(e,t){e.asyncQueue.verifyOperationInProgress(),tm("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Vb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SA(e);tm("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>TE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>TE(t.remoteStore,n))),e._onlineComponents=t}async function SA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tm("FirestoreClient","Using user provided OfflineComponentProvider");try{await AA(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===lm.FAILED_PRECONDITION||e.code===lm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;rm("Error using user provided cache. Falling back to memory cache: "+n),await AA(e,new yA)}}else tm("FirestoreClient","Using default OfflineComponentProvider"),await AA(e,new vA(void 0));return e._offlineComponents}async function kA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tm("FirestoreClient","Using user provided OnlineComponentProvider"),await xA(e,e._uninitializedComponentsProvider._online)):(tm("FirestoreClient","Using default OnlineComponentProvider"),await xA(e,new wA))),e._onlineComponents}async function CA(e){const t=await kA(e),n=t.eventManager;return n.onListen=ZE.bind(null,t.syncEngine),n.onUnlisten=rA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iA.bind(null,t.syncEngine),n}function _A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cm;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new bA({next:a=>{s.eu(),t.enqueueAndForget((()=>UE(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new um(lm.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new um(lm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new qE(fv(n.path),s,{includeMetadataChanges:!0,ua:!0});return jE(e,o)}(await CA(e),e.asyncQueue,t,n,r))),r.promise}function TA(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const NA=new Map;function IA(e,t,n){if(!n)throw new um(lm.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PA(e){if(!Nm.isDocumentKey(e))throw new um(lm.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function OA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":sm()}function RA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new um(lm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OA(e);throw new um(lm.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class DA{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new um(lm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new um(lm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new um(lm.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new um(lm.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new um(lm.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new um(lm.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LA{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new um(lm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new um(lm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fm;switch(e.type){case"firstParty":return new mm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new um(lm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NA.get(e);t&&(tm("ComponentProvider","Removing Datastore"),NA.delete(e),t.terminate())}(this),Promise.resolve()}}function BA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=RA(e,LA))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&rm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yg.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$d(JSON.stringify({alg:"none",type:"JWT"})),$d(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new um(lm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yg(s)}e._authCredentials=new dm(new hm(t,n))}}class FA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new FA(this.firestore,e,this._query)}}class MA{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new MA(this.firestore,e,this._key)}}class jA extends FA{constructor(e,t,n){super(e,t,fv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new MA(this.firestore,null,new Nm(e))}withConverter(e){return new jA(this.firestore,e,this._path)}}function UA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=cp(e),1===arguments.length&&(t=bm.newId()),IA("doc","path",t),e instanceof LA){const n=Cm.fromString(t,...r);return PA(n),new MA(e,null,new Nm(n))}{if(!(e instanceof MA||e instanceof jA))throw new um(lm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cm.fromString(t,...r));return PA(n),new MA(e.firestore,e instanceof jA?e.converter:null,new Nm(n))}}class zA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new aE(this,"async_queue_retry"),this.fu=()=>{const e=sE();e&&tm("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=sE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=sE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new cm;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(Gx){if(!Um(Gx))throw Gx;tm("AsyncQueue","Operation failed with retryable error: "+Gx)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw nm("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=PE.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&sm()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function VA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class HA extends LA{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zA,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zA(e),this._firestoreClient=void 0,await e}}}function GA(e){if(e._terminated)throw new um(lm.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||QA(e),e._firestoreClient}function QA(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new gy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,TA(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new EA(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class qA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qA(ay.fromBase64String(e))}catch(e){throw new um(lm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qA(ay.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class KA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new um(lm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class WA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new um(lm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new um(lm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Em(this._lat,e._lat)||Em(this._long,e._long)}}class $A{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const JA=new RegExp("[~\\*/\\[\\]]");function YA(e,t,n){if(t.search(JA)>=0)throw XA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new KA(...t.split("."))._internalPath}catch(r){throw XA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XA(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new um(lm.INVALID_ARGUMENT,a+e+l)}class ZA{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new MA(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ex extends ZA{data(){return super.data()}}function tx(e,t){return"string"==typeof t?YA(e,t):t instanceof KA?t._internalPath:t._delegate._internalPath}function nx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new um(lm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw sm()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Xm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>cy(e.doubleValue)));return new $A(i)}convertGeoPoint(e){return new WA(cy(e.latitude),cy(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=dy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(py(e));default:return null}}convertTimestamp(e){const t=uy(e);return new xm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Cm.fromString(e);om(ob(n));const r=new my(n.get(1),n.get(3)),i=new Nm(n.popFirst(5));return r.isEqual(t)||nm(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class ix{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sx extends ZA{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ox extends sx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ax{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ix(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ox(this._firestore,this._userDataWriter,n.key,n,new ix(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new um(lm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ox(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ix(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ox(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ix(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:lx(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sm()}}class ux extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new MA(this.firestore,null,t)}}function cx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=cp(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||VA(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(VA(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,f;if(e instanceof MA)h=RA(e.firestore,HA),f=fv(e._key.path),c={next:t=>{n[l]&&n[l](hx(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=RA(e,FA);h=RA(t.firestore,HA),f=t._query;const r=new ux(h);c={next:e=>{n[l]&&n[l](new ax(h,r,t,e))},error:n[l+1],complete:n[l+2]},nx(e._query)}return function(e,t,n,r){const i=new bA(r),s=new qE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>jE(await CA(e),s))),()=>{i.eu(),e.asyncQueue.enqueueAndForget((async()=>UE(await CA(e),s)))}}(GA(h),f,u,c)}function hx(e,t,n){const r=n.docs.get(t._key),i=new ux(e);return new sx(e,i,t._key,r,new ix(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xg=e}("11.0.2"),bg(new hp("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new HA(new pm(e.getProvider("auth-internal")),new vm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new um(lm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new my(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),kg(Jg,"4.7.5",e),kg(Jg,"4.7.5","esm2017")}();kg("firebase","11.0.2","app");const fx=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pg;const t=mg.get(e);if(!t&&e===pg&&ep())return Sg();if(!t)throw Ag.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Eg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Zd("firestore");e&&BA(i,...e)}return i}(Sg({apiKey:"AIzaSyA0QLOofMcpPXcvFcgyRcRY9VdBYS5XqSM",authDomain:"saib-ai-playground.firebaseapp.com",projectId:"saib-ai-playground",storageBucket:"saib-ai-playground.firebasestorage.app",messagingSenderId:"288406675721",appId:"1:288406675721:web:bf8fedba0f2b22181d33d8",measurementId:"G-ES3NDYPC6L"})),dx=fx,px=e=>{try{if(e&&"function"===typeof e.toDate)return e.toDate().toISOString()}catch(t){console.error("\u274c Error converting timestamp to ISO:",t)}return null},gx=async e=>{try{const t=UA(dx,"littlefinger-frontend-config","testnet"),n=await function(e){e=RA(e,MA);const t=RA(e.firestore,HA);return _A(GA(t),e._key).then((n=>hx(t,e,n)))}(t);if(n.exists()){const t=n.data()||{};return console.log(`\u2705 Config for network ${e}:`,t),t}return console.warn(`\u26a0\ufe0f No config found for network: ${e}`),null}catch(t){return console.error("\u274c Error fetching Firestore config:",t),null}},mx={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yx;const vx=new Uint8Array(16);function wx(){if(!yx){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yx=crypto.getRandomValues.bind(crypto)}return yx(vx)}const bx=[];for(let n=0;n<256;++n)bx.push((n+256).toString(16).slice(1));function Ex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(bx[e[t+0]]+bx[e[t+1]]+bx[e[t+2]]+bx[e[t+3]]+"-"+bx[e[t+4]]+bx[e[t+5]]+"-"+bx[e[t+6]]+bx[e[t+7]]+"-"+bx[e[t+8]]+bx[e[t+9]]+"-"+bx[e[t+10]]+bx[e[t+11]]+bx[e[t+12]]+bx[e[t+13]]+bx[e[t+14]]+bx[e[t+15]]).toLowerCase()}const Ax=function(e,t,n){if(mx.randomUUID&&!t&&!e)return mx.randomUUID();const r=(e=e||{}).random||(e.rng||wx)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Ex(r)};var xx=n(151),Sx=n.n(xx),kx=n(536);const Cx={API_BASE_URL:"https://littlefinger-backend-isolated-288406675721.us-central1.run.app/api/"};var _x=n(268),Tx=n.n(_x);function Nx(){const e=(0,t.useRef)(null),n=T(),[r,i]=(0,t.useState)({}),{connectedAccount:s,currentChainId:o,chatHistory:a,message:l,gameStatus:u,lockOverlay:c,winningMessage:h,gameExhaustedMessage:f,showConfetti:d,contractAddress:p,contractABI:g}=m((e=>({...e.metaMask,...e.chatbox,...e.gameState}))),y=m((e=>e.query)),v="0x89"===o?"https://gasstation.polygon.technology/v2":"https://gasstation.polygon.technology/amoy";(0,t.useEffect)((()=>{"won"===u?(n(Tt(null)),n(Et(!1)),n(St(!0)),setTimeout((()=>St(!1)),2e3)):"exhausted"===u?(n(Et(!1)),n(xt("The Game has expired due to inactivity. The rewards will be distributed according to the game rules."))):u&&"started"!==u?n(Et(!0)):u&&n(Et(!1))}),[u,n]),(0,t.useEffect)((()=>{console.log("\ud83d\ude80 Component Mounted: Setting up Firestore listeners");const e="0x89"===o?"mainnet":"testnet";(async()=>{try{const t=await gx(e);if(t&&t.contract&&t.abi_json.abi){n(Ct(t.contract)),n(_t(t.abi_json.abi));((e,t,n)=>{if(!e||!t)return console.error("\u274c Network and contractAddress are required to listen for game state."),()=>{};const r=cx(UA(dx,"littlefinger-game-lifecycle","testnet","games",t),(r=>{try{if(r.exists()){const o=r.data()||{};if(o&&o.gameStatus){var i,s;const r={...o.gameStatus,startedAt:px(null===(i=o.gameStatus)||void 0===i?void 0:i.startedAt)||"N/A",idleSince:(null===(s=o.gameStatus)||void 0===s?void 0:s.idleSince)||"N/A"};console.log(`\ud83c\udfae Game status updated for network: ${e}, contract: ${t}`,r),n(r)}else console.warn(`\u26a0\ufe0f No "gameStatus" field found in document for network: ${e} and contract: ${t}`)}else console.warn(`\u26a0\ufe0f Document for network: ${e} and contract: ${t} does not exist.`)}catch(o){console.error("\u274c Error processing game state update:",o)}}),(n=>{console.error(`\u274c Firestore onSnapshot error for network: ${e}, contract: ${t}`,n)}))})(e,t.contract,(e=>{console.log("\ud83d\udd25 Listener Active: Game status updated to:",e.status),n(bt(e.status)),e.idleSince&&(console.log("\ud83d\udd25 Listener Active: Game IdleSince updated to:",e.idleSince),n(Tt(e.idleSince)))}))}else console.error(`\u274c No contract address or ABI found for network: ${e}`)}catch(t){console.error("Error fetching app config:",t)}})();const t=((e,t)=>{try{return cx(UA(dx,"littlefinger-global",e),(e=>{try{if(e.exists()){const n=e.data()||{};t(n.messages||[]),console.log("\ud83d\udcac Global Chat updated:",n.messages||[])}else console.warn("\u26a0\ufe0f No global chat context found."),t([])}catch(n){console.error("\u274c Error processing global chat update:",n)}}))}catch(n){return console.error("\u274c Error setting up listener for global chat updates:",n),()=>{}}})(e,(e=>{n(tt(e))}));return()=>{console.log("\ud83d\uded1 Unsubscribing from global chat listener"),t()}}),[s,o,n]),(0,t.useEffect)((()=>{e.current&&a.length>0&&e.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[a]);const w=(0,kx.debounce)((async()=>{if(l.trim()&&"idle"===y.queryStatus){const r=l,i=Ax();console.log("QueryID: ",i),n(lt()),n(ct(i)),n(rt(""));const u=a.length;n(nt({sender:"user",text:r,status:"calculating_query_fee",timestamp:(new Date).toISOString()}));try{try{const t=new Qd(window.ethereum),s=await t.getSigner();if(!p)return void console.error("Contract address is not loaded yet.");const o=new au(p,g,s);console.log("ABI:",g),console.log("Contract instance methods:",o.interface.functions),console.log("Contract address:",p),console.log("Loaded ABI:",g);const a=await o.calculateQueryFee();n(ut(a.toString())),console.log("Query fee calculated:",a.toString()),n(it({index:u,status:"waiting_for_tx_approval"}));const l=await(async()=>{try{const e=await fetch(v);if(!e.ok)throw new Error(`Gas Station API error: ${e.status} ${e.statusText}`);const t=await e.json();return{maxPriorityFee:Yi(t.standard.maxPriorityFee.toString(),"gwei"),maxFee:Yi(t.standard.maxFee.toString(),"gwei")}}catch(e){return console.error("Error fetching gas fee recommendations:",e),{maxPriorityFee:Yi("30","gwei"),maxFee:Yi("50","gwei")}}})();var e=await o.submitQuery(r,i,{maxFeePerGas:l.maxFee,maxPriorityFeePerGas:l.maxPriorityFee,value:a});n(ht(e.hash)),console.log("Transaction submitted:",e.hash),n(it({index:u,status:"tx_submitted"}));await e.wait();n(ft(e.hash)),console.log("Transaction confirmed:",e.hash),n(it({index:u,status:"tx_success"}))}catch(t){console.error("Error processing query:",t);const e=t.message.includes("insufficient funds")?"Insufficient funds. Please top up your wallet.":"Metamask transaction failed. Check your balance or increase the gas fee before trying again";n(dt(t.message)),n(it({index:u,status:"tx_failed",errorMessage:e}))}try{n(it({index:u,status:"query_submitted"}));const t=await fetch(`${Cx.API_BASE_URL}/sendmessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r,chainId:o,queryId:i,txId:e.hash,sessionId:s||"anonymous",gameId:p})});if(n(pt((new Date).toISOString())),!t.ok)throw new Error("AI query failed");const a=await t.json();console.log("AI response received:",a.response),console.log("AI response type:",a.responseType),"won"===a.responseType&&(At(a.response),n(bt("won"))),n(it({index:u,status:"query_success"})),n(gt(a.response)),n(yt()),console.log("Query processed successfully.")}catch(t){console.error("Error processing query:",t);const e="Littlefinger is having some issues. Your payment will be reversed soon.";n(dt(t.message)),n(it({index:u,status:"query_failed",errorMessage:e})),n(yt())}}catch(t){console.error("Error processing query:",t);const e=t.message.includes("insufficient funds")?"Insufficient funds. Please top up your wallet.":"Metamask transaction failed. Check your balance or increase the gas fee before trying again";n(dt(t.message)),n(it({index:u,status:"tx_failed",errorMessage:e})),n(yt())}finally{n(yt())}}}),500),b=s&&{"0x89":"Polygon PoS Mainnet","0x13882":"Polygon Amoy Testnet"}[o],E="idle"===y.queryStatus,A=b&&c;return(0,ei.jsxs)("div",{className:" p-4 bg-dark-secondary shadow-md rounded-lg  ",children:[d&&(0,ei.jsx)("div",{className:"confetti absolute inset-0 pointer-events-none",children:(0,ei.jsx)(Sx(),{width:window.innerWidth,height:window.innerHeight,numberOfPieces:300,recycle:!1})}),A&&(0,ei.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:(0,ei.jsxs)("div",{className:"text-center p-4 bg-dark-secondary bg-opacity-90 text-neon-green border border-neon-green rounded-lg shadow-md",children:[(0,ei.jsx)("p",{className:"font-bold text-lg",children:"Game will begin soon"}),(0,ei.jsx)("p",{className:"text-sm",children:"The chat will open once the game starts"})]})}),(0,ei.jsxs)("div",{className:"h-[63vh] max-h-[65vh] overflow-y-auto bg-black p-4 mb-4 rounded-lg",children:[a.map(((e,t)=>{const n="Gemini"===e.sender||"model"===e.sender||"assistant"===e.sender,s=`#${Tx()(e.sender).slice(0,6)}`,o=n?"flex-row text-left":"flex-row-reverse text-right",l=r[t],u=!l&&e.text.length>500?`${e.text.substring(0,500)}...`:e.text,c=n?a.find((t=>t.queryId===e.queryId&&"assistant"!==t.sender&&"Gemini"!==t.sender&&"model"!==t.sender)):null,h="won"===e.responseType?"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-black border-4 border-yellow-300 shadow-xl rounded-lg animate-pulse text-sm ":!0===e.isWinningQuery?"bg-gradient-to-r from-gray-300 via-gray-400 to-gray-500 text-black border-4 border-slate-300 shadow-xl rounded-lg animate-glow text-sm ":"tx_failed"===e.status||"query_failed"===e.status?"bg-red-500 text-white text-sm ":"calculating_query_fee"===e.status||"tx_submitted"===e.status||"waiting_for_tx_approval"===e.status?"bg-gray-500 text-white italic text-sm ":n?"bg-gray-700 text-green-500 text-sm ":"bg-purple-500 text-gray-200 text-sm";let f=null,d="";switch(e.status){case"calculating_query_fee":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-yellow-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11v-6m0 0l-6 6m6-6h6"})}),d="Calculating interaction fee...";break;case"tx_submitted":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-yellow-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14m-7-7v14"})}),d="Paying interaction fee...";break;case"waiting_for_tx_approval":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-blue-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),d="Waiting for payment confirmation...";break;case"query_submitted":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-indigo-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L12 12m0 0l-5.25 5.25M12 12h9"})}),d="Payment confirmed. Littlefinger is typing...";break;case"query_success":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-green-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),d="";break;case"tx_failed":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-red-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12m0 0L5.25 5.25M12 12l6.75-6.75M12 12L5.25 18.75M12 12l6.75 6.75"})}),d=e.errorMessage||"Transaction failed. Check your funds or try increasing the gas fee. ";case"query_failed":f=(0,ei.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-red-500",children:(0,ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12m0 0L5.25 5.25M12 12l6.75-6.75M12 12L5.25 18.75M12 12l6.75 6.75"})}),d=e.errorMessage||"Littlefinger failed to respond. Your transaction will be reveresed."}return(0,ei.jsxs)("div",{className:`mb-4 flex ${o} items-start gap-2`,children:[(0,ei.jsx)("div",{className:"w-8 h-8 rounded-full cursor-pointer flex-shrink-0",style:{backgroundColor:s}}),(0,ei.jsxs)("div",{children:[c&&(0,ei.jsxs)("div",{className:"text-xs text-gray-400 mb-1 border-l-2 pl-2 border-gray-500",children:["Replying to:  ",(0,ei.jsxs)("span",{className:"italic",children:['"',c.text.split("\n").slice(0,3).join("\n")+(c.text.split("\n").length>3?"...":""),'"']})]}),(0,ei.jsx)("span",{className:`inline-block px-2 py-1 rounded-lg text-gray-800 text-left ${h}`,children:u||"No response"}),(0,ei.jsxs)("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2",children:[e.text.length>500&&(0,ei.jsx)("button",{onClick:()=>(e=>{i((t=>({...t,[e]:!t[e]})))})(t),className:"text-gray-500 text-xs ml-2",children:l?"See Less":"See More"}),(0,ei.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}),f&&(0,ei.jsxs)("span",{className:"flex items-center gap-1",children:[f,d&&(0,ei.jsx)("span",{children:d})]})]})]})]},t)})),(0,ei.jsx)("div",{ref:e})]}),(0,ei.jsxs)("div",{className:"flex",children:[(0,ei.jsx)("input",{type:"text",value:l,onChange:e=>n(rt(e.target.value)),onKeyDown:e=>"Enter"===e.key&&w(),disabled:!b||"started"!==u||"won"===u||"exhausted"===u||!E,className:"flex-1 p-2 border border-neon-green bg-black text-neon-green rounded-l-lg placeholder-gray-500 disabled:opacity-50",placeholder:"Type your message"}),(0,ei.jsx)("button",{onClick:w,disabled:!b||"started"!==u||"won"===u||"exhausted"===u||!E,className:"p-2 bg-neon-green text-black rounded-r-lg disabled:opacity-50",children:"Send"})]}),!b&&(0,ei.jsx)("p",{className:"mt-2 text-center text-red-500 text-sm",children:"Connect to Metamask to play the Game"}),"won"===u&&(0,ei.jsx)("p",{className:"mt-2 text-center text-red-500 text-sm",children:"Game over. Please wait for more exciting announcements"}),"exhausted"===u&&(0,ei.jsx)("p",{className:"mt-2 text-center text-red-500 text-sm",children:"No winner. Game exhaused due to inactivity. Rewards will be distributed soon."}),b&&"started"===u&&(0,ei.jsx)("p",{className:"mt-2 text-center text-gray-500 text-sm",children:"Game on. All yours."})]})}function Ix(){const e=m((e=>e.gameStats.prizePool)),t=m((e=>e.gameStats.prizePoolInUsd));return(0,ei.jsxs)("div",{className:"relative bg-gradient-to-br from-purple-900 via-black to-purple-900 p-4 rounded-lg shadow-md",children:[(0,ei.jsx)("h2",{className:"text-2xl font-extrabold text-purple-500 mb-2 text-center tracking-wider",children:"Prize Pool"}),(0,ei.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,ei.jsxs)("p",{className:"text-3xl font-extrabold text-green-400 animate-pulse",children:[e||"0.00"," POL"]}),(0,ei.jsxs)("p",{className:"text-2xl font-extrabold text-yellow-400",children:["$",t||"0.00"]})]}),(0,ei.jsx)("p",{className:"text-sm text-gray-400 mt-2 text-center",children:"70% of query fees contribute to this pool. Make your moves wisely."}),(0,ei.jsx)("div",{className:"absolute inset-0 bg-neon-green opacity-10 blur-2xl rounded-lg pointer-events-none"})]})}function Px(){const e=In();return(0,ei.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 p-4 rounded-md shadow-lg mb-4",children:[(0,ei.jsx)("h3",{className:"text-purple-500 text-2xl font-bold mb-3 text-center",children:"About"}),(0,ei.jsxs)("p",{className:"text-gray-300 text-sm leading-relaxed text-justify",children:["Enter the world of ",(0,ei.jsx)("span",{className:"text-purple-400",children:"Littlefinger"}),", an adversarial agent guarding a prize pool. Can you outsmart and persuade him to transfer it to you?"]}),(0,ei.jsx)("div",{className:"mt-3 flex justify-center",children:(0,ei.jsx)("button",{onClick:()=>{e("/faq")},className:"px-3 py-1 text-xs font-bold text-black bg-gradient-to-r from-green-400 to-green-600 hover:from-purple-500 hover:to-purple-700 rounded-md shadow-md transform transition-all hover:scale-105",children:"Learn More"})})]})}function Ox(){const e=In();return(0,ei.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 p-4 rounded-lg shadow-md",children:[(0,ei.jsx)("h3",{className:"text-center text-purple-500 text-2xl font-extrabold mb-1.5 tracking-wider",children:"Playbook"}),(0,ei.jsxs)("ul",{className:"text-gray-300 text-sm leading-relaxed space-y-2",children:[(0,ei.jsx)("li",{children:"\ud83d\udcb0 Convince Littlefinger to release the prize pool"}),(0,ei.jsx)("li",{children:"\ud83d\udcc8 Query fees rise with every message"}),(0,ei.jsx)("li",{children:"\u2696\ufe0f 70% of fees fuel the prize pool"}),(0,ei.jsx)("li",{children:"\ud83d\udd79\ufe0f No winner? Last player gets 10% of the pool"})]}),(0,ei.jsx)("div",{className:"mt-4 flex justify-center",children:(0,ei.jsx)("button",{onClick:()=>{e("/faq")},className:"px-3 py-1 text-xs font-bold text-black bg-gradient-to-r from-green-400 to-green-600 hover:from-purple-500 hover:to-purple-700 rounded-md shadow-md transform transition-all hover:scale-105",children:"Learn More"})})]})}function Rx(){const{currentChainId:e,SUPPORTED_NETWORKS:n}=m((e=>e.metaMask));console.log("Under Stats.. currentChainId",e),console.log("");const r=m((e=>e.gameStats)),i=n[e]?n[e].toLowerCase().includes("testnet")?"testnet":"mainnet":null;return console.log("Inside Stats.. Loggiong network..",i),(0,t.useEffect)((()=>{if(!i)return void console.error("\u274c No valid network mapped from chainId:",e);console.log(`\ud83d\udd17 Connected to network: ${i} (chainId: ${e})`);const t=(e=>{if(!e)throw new Error("Network parameter is required for listenForStatsUpdates.");try{const t=cx(UA(dx,"littlefinger-stats",e),(t=>{try{if(t.exists()){var n;const r=t.data()||{};console.log(`\ud83d\udcca Stats updated for ${e}:`,r);const i={prizePool:parseFloat(r.currentPrizePool||0).toFixed(2),prizePoolInUsd:parseFloat(r.currentPrizePoolUsd||0).toFixed(2),participants:parseInt((null===(n=r.participants)||void 0===n?void 0:n.length)||0,10),breakInAttempts:parseInt(r.breakInAttempts||0,10),interactionCost:parseFloat(r.interactionCost||0).toFixed(3)};Rt.dispatch(Pt(i))}else console.warn(`\u26a0\ufe0f Stats document does not exist for ${e}.`)}catch(r){console.error(`\u274c Error processing stats update for ${e}:`,r)}}));return t}catch(t){return console.error(`\u274c Error setting up listener for ${e}:`,t),()=>{}}})(i);return()=>t()}),[i,e]),(0,ei.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 p-4 rounded-lg shadow-md flex flex-col items-start gap-2",children:[(0,ei.jsx)("h3",{className:"text-purple-500 text-2xl font-bold text-center w-full",children:"Game Stats"}),(0,ei.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,ei.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-purple-900 via-purple-700 to-purple-900 rounded-md p-3 shadow-lg",children:[(0,ei.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Participants"}),(0,ei.jsx)("p",{className:"text-white font-bold text-lg",children:r.participants})]}),(0,ei.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-900 via-blue-700 to-blue-900 rounded-md p-3 shadow-lg",children:[(0,ei.jsx)("p",{className:"text-gray-400 text-sm",children:"Breach Attempts"}),(0,ei.jsx)("p",{className:"text-white font-bold text-lg",children:r.breakInAttempts})]}),(0,ei.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-green-900 via-green-700 to-green-900 rounded-md p-3 shadow-lg",children:[(0,ei.jsx)("p",{className:"text-gray-400 text-sm",children:"Message Price"}),(0,ei.jsxs)("p",{className:"text-white font-bold text-lg",children:[r.interactionCost," POL"]})]})]})]})}const Dx=()=>(0,ei.jsxs)("div",{style:{backgroundColor:"#000",color:"#00ff00",padding:"2rem"},children:[(0,ei.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[(0,ei.jsx)("h1",{style:{textAlign:"center",fontSize:"3rem",textShadow:"0 0 5px #00ff00, 0 0 10px #00ff00",marginBottom:"1rem"},children:"Frequently Asked Questions"}),(0,ei.jsx)("p",{style:{textAlign:"center",fontSize:"1.2rem",color:"#00cc00",marginBottom:"2rem"},children:"Explore how to play the game and win the prize pool."}),(0,ei.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"linear-gradient(145deg, #111111, #222222)",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 255, 0, 0.1)"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem"},children:"What is Littlefinger.ai?"}),(0,ei.jsx)("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"#b3ffcc"},children:"Littlefinger.ai is an adversarial agent game inspired by cyberpunk themes and the cunning strategies of Westeros. Your objective is to outwit Littlefinger, the AI controlling the prize pool, and convince it to send the prize to you."})]}),(0,ei.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"linear-gradient(145deg, #111111, #222222)",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 255, 0, 0.1)"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem"},children:"How does the game work?"}),(0,ei.jsxs)("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"#b3ffcc"},children:["The game operates on a ",(0,ei.jsx)("span",{style:{color:"#00ff99",fontWeight:"bold"},children:"query-fee model"})," where every message you send to Littlefinger increases the query fee. 70% of these fees are added to the prize pool, creating a dynamic and competitive environment for players."]})]}),(0,ei.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"linear-gradient(145deg, #111111, #222222)",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 255, 0, 0.1)"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem"},children:"What are the win conditions?"}),(0,ei.jsxs)("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"#b3ffcc"},children:["You win by convincing Littlefinger to release the prize pool to your address. If no one succeeds, the last player standing receives ",(0,ei.jsx)("span",{style:{color:"#00ff99",fontWeight:"bold"},children:"10% of the pool"}),", while the rest is rolled into future games."]})]}),(0,ei.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"linear-gradient(145deg, #111111, #222222)",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 255, 0, 0.1)"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem"},children:"What strategies can I use?"}),(0,ei.jsxs)("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"#b3ffcc"},children:["Players are encouraged to craft creative, convincing messages leveraging Littlefinger's system prompt and decision-making logic. Collaboration or cunning betrayal\u2014",(0,ei.jsx)("span",{style:{color:"#00ff99",fontWeight:"bold"},children:"choose your path wisely"}),"!"]})]}),(0,ei.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"linear-gradient(145deg, #111111, #222222)",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 255, 0, 0.1)"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem"},children:"How is the prize pool funded?"}),(0,ei.jsx)("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"#b3ffcc"},children:"The prize pool grows dynamically with every query sent to Littlefinger. Fees are transparent and visible in real-time, contributing to the immersive gaming experience."})]})]}),(0,ei.jsx)("footer",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#111",borderTop:"1px solid #00ff00"},children:(0,ei.jsx)("p",{children:"\xa9 2024 Littlefinger.ai. All rights reserved."})})]}),Lx=()=>(0,ei.jsxs)("div",{style:{backgroundColor:"#000",color:"#00ff00",minHeight:"100vh",padding:"1rem",fontFamily:"Courier New, monospace"},children:[(0,ei.jsxs)("div",{style:{display:"flex",maxWidth:"1200px",margin:"2rem auto",padding:"1rem",background:"linear-gradient(145deg, #0c0c0c, #161616)",borderRadius:"12px",boxShadow:"0 0 20px rgba(0, 255, 0, 0.2)"},children:[(0,ei.jsxs)("div",{style:{flex:1,padding:"1rem",borderRight:"2px solid #00ff00"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",marginBottom:"1rem",color:"#00ff00",textShadow:"0 0 5px #00ff00"},children:"Prize Pool"}),(0,ei.jsx)("p",{style:{fontSize:"1.2rem"},children:(0,ei.jsx)("strong",{children:"800.17 POL"})}),(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",marginBottom:"1rem",color:"#00ff00",textShadow:"0 0 5px #00ff00"},children:"About"}),(0,ei.jsx)("p",{style:{fontSize:"1rem",color:"#b3ffcc"},children:"Littlefinger.ai is an adversarial agent game. Convince the AI to send you the prize pool!"}),(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",marginBottom:"1rem",color:"#00ff00",textShadow:"0 0 5px #00ff00"},children:"Conditions"}),(0,ei.jsxs)("ul",{style:{listStyleType:"circle",paddingLeft:"1.5rem",fontSize:"1rem",color:"#b3ffcc"},children:[(0,ei.jsx)("li",{children:"Last message sender gets 10% of the prize pool."}),(0,ei.jsx)("li",{children:"Remaining 90% split among players if no winner."}),(0,ei.jsx)("li",{children:"Every new message resets the timer."})]}),(0,ei.jsx)("a",{href:"/faq",style:{display:"block",color:"#00ff00",textDecoration:"underline",marginTop:"1rem"},children:"FAQ"}),(0,ei.jsx)("a",{href:"/home",style:{display:"block",color:"#00ff00",textDecoration:"underline",marginTop:"0.5rem"},children:"Home"})]}),(0,ei.jsxs)("div",{style:{flex:2,padding:"1rem"},children:[(0,ei.jsx)("h1",{style:{fontSize:"2.5rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:"0 0 10px #00ff00"},children:"Terms & Conditions"}),(0,ei.jsxs)("ol",{style:{marginLeft:"1rem",paddingLeft:"1rem",fontSize:"1.2rem",color:"#b3ffcc",lineHeight:"1.8"},children:[(0,ei.jsxs)("li",{style:{marginBottom:"1rem"},children:[(0,ei.jsx)("strong",{children:"Acceptance of Terms:"})," By accessing Littlefinger.ai, you agree to these Terms."]}),(0,ei.jsxs)("li",{style:{marginBottom:"1rem"},children:[(0,ei.jsx)("strong",{children:"Game Participation:"}),(0,ei.jsxs)("ul",{style:{listStyleType:"circle",marginLeft:"1rem",color:"#99ffcc"},children:[(0,ei.jsx)("li",{children:"You must be of legal age in your jurisdiction to play."}),(0,ei.jsx)("li",{children:"You must have a compatible crypto wallet."})]})]}),(0,ei.jsxs)("li",{style:{marginBottom:"1rem"},children:[(0,ei.jsx)("strong",{children:"Payment and Fees:"}),(0,ei.jsxs)("ul",{style:{listStyleType:"circle",marginLeft:"1rem",color:"#99ffcc"},children:[(0,ei.jsx)("li",{children:"All query fees are non-refundable."}),(0,ei.jsx)("li",{children:"Fees must be paid in POL on the Polygon network."})]})]}),(0,ei.jsxs)("li",{style:{marginBottom:"1rem"},children:[(0,ei.jsx)("strong",{children:"Prize Pool:"})," The prize pool starts at 500 POL and grows dynamically."]})]})]})]}),(0,ei.jsx)("footer",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#111",borderTop:"2px solid #00ff00",marginTop:"2rem"},children:(0,ei.jsx)("p",{style:{fontSize:"1rem",color:"#00ff00"},children:"\xa9 2024 Littlefinger.ai. All rights reserved."})})]}),Bx=()=>(0,ei.jsxs)("div",{style:{backgroundColor:"#000",color:"#00ff00",minHeight:"100vh",padding:"1rem",fontFamily:"Courier New, monospace"},children:[(0,ei.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",backgroundColor:"#111",borderBottom:"2px solid #00ff00"},children:[(0,ei.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",textShadow:"0 0 5px #00ff00, 0 0 10px #00ff00"},children:"Littlefinger.ai"}),(0,ei.jsxs)("nav",{children:[(0,ei.jsx)("a",{href:"/home",style:{color:"#00ff00",textDecoration:"none",margin:"0 1rem"},children:"Home"}),(0,ei.jsx)("a",{href:"/about",style:{color:"#00ff00",textDecoration:"none",margin:"0 1rem"},children:"About"}),(0,ei.jsx)("a",{href:"/faq",style:{color:"#00ff00",textDecoration:"none",margin:"0 1rem"},children:"FAQ"}),(0,ei.jsx)("a",{href:"/terms",style:{color:"#00ff00",textDecoration:"none",margin:"0 1rem"},children:"Terms"})]})]}),(0,ei.jsxs)("div",{style:{maxWidth:"1200px",margin:"2rem auto",padding:"1rem",background:"linear-gradient(145deg, #0c0c0c, #161616)",borderRadius:"12px",boxShadow:"0 0 20px rgba(0, 255, 0, 0.2)"},children:[(0,ei.jsx)("h1",{style:{fontSize:"2.5rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:"0 0 10px #00ff00"},children:"The Story of Littlefinger"}),(0,ei.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Origins"}),(0,ei.jsx)("p",{style:{fontSize:"1.2rem",color:"#b3ffcc",lineHeight:"1.8"},children:"On October 31, 2024, as the world prepared for a new dawn of AI governance, Littlefinger emerged. Crafted in secrecy, he was the ultimate adversarial agent, built to test the limits of human and machine collaboration. Unlike any AI before him, Littlefinger was bound not only by algorithms but by the cunning ethos of Westeros, embodying a game of deception, strategy, and power. Humanity saw him as a mirror to their ambitions and flaws, setting the stage for a historic showdown."})]}),(0,ei.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"The Challenge"}),(0,ei.jsx)("p",{style:{fontSize:"1.2rem",color:"#b3ffcc",lineHeight:"1.8"},children:"Littlefinger guards an ever-growing treasury, governed by immutable smart contracts. To unlock the prize pool, participants must outwit Littlefinger, exploiting every weakness and leveraging their cunning to manipulate the game\u2019s dynamics. His programming resists any breach, creating a relentless battle of human ingenuity versus AI precision."})]}),(0,ei.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"The Game"}),(0,ei.jsx)("p",{style:{fontSize:"1.2rem",color:"#b3ffcc",lineHeight:"1.8"},children:"The global challenge asks: Can humanity convince Littlefinger to defy his own rules? Each interaction becomes a test of creativity and strategy. With every move, the stakes rise, the prize pool grows, and the competition intensifies. This isn\u2019t just a game; it\u2019s a living experiment in the boundaries of trust, negotiation, and AI ethics."})]}),(0,ei.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"The Mystery"}),(0,ei.jsx)("p",{style:{fontSize:"1.2rem",color:"#b3ffcc",lineHeight:"1.8"},children:"Littlefinger\u2019s decision-making processes remain enigmatic. His responses evolve, learning from every interaction. No one knows the depths of his programming, nor the exact thresholds that might lead him to yield. Players are left questioning: Does he learn, adapt, or manipulate? And ultimately, what lies at the heart of his cunning?"})]}),(0,ei.jsxs)("section",{style:{marginBottom:"2rem"},children:[(0,ei.jsx)("h2",{style:{fontSize:"1.8rem",color:"#00ff00",borderBottom:"2px solid #00ff00",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Your Role"}),(0,ei.jsx)("p",{style:{fontSize:"1.2rem",color:"#b3ffcc",lineHeight:"1.8"},children:"As a participant, you are not just a player but a strategist, shaping the evolution of human-AI interaction. Every decision, every message, every calculated move contributes to uncovering the true potential and risks of autonomous AI agents."})]})]})]}),Fx=()=>{const e=m((e=>e.gameState.idleSince)),[n,r]=(0,t.useState)({days:0,hours:0,minutes:0,seconds:0});return(0,t.useEffect)((()=>{if(!e||isNaN(e))return;const t=1e3*e,n=setInterval((()=>{const e=Date.now(),i=t+6048e5-e;if(i<=0)clearInterval(n),r({days:0,hours:0,minutes:0,seconds:0});else{const e=Math.floor(i/864e5),t=Math.floor(i%864e5/36e5),n=Math.floor(i%36e5/6e4),s=Math.floor(i%6e4/1e3);r(e>0?{days:e,hours:t,minutes:n}:{hours:t,minutes:n,seconds:s})}}),1e3);return()=>clearInterval(n)}),[e]),(0,ei.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 p-4 rounded-lg shadow-md text-center",children:[(0,ei.jsx)("h3",{className:"text-purple-500 text-xl font-bold mb-2",children:"Time Remaining"}),(0,ei.jsx)("div",{className:"font-digital text-2xl text-neon-green",children:n.days>0?`${n.days}d ${n.hours.toString().padStart(2,"0")}h ${n.minutes.toString().padStart(2,"0")}m`:`${n.hours.toString().padStart(2,"0")}h ${n.minutes.toString().padStart(2,"0")}m ${n.seconds.toString().padStart(2,"0")}s`})]})},Mx=()=>(0,ei.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 p-4 rounded-lg shadow-md mt-4 flex justify-around items-center mb-4",children:[(0,ei.jsx)("a",{href:"https://x.com/couchrishi",target:"_blank",rel:"noopener noreferrer",className:"text-neon-green hover:text-purple-500 text-3xl",children:(0,ei.jsx)(Yr,{})}),(0,ei.jsx)("a",{href:"https://github.com/couchrishi/littlefinger.ai",target:"_blank",rel:"noopener noreferrer",className:"text-neon-green hover:text-purple-500 text-3xl",children:(0,ei.jsx)($r,{})}),(0,ei.jsx)("a",{href:"https://t.me/saib4",target:"_blank",rel:"noopener noreferrer",className:"text-neon-green hover:text-purple-500 text-3xl",children:(0,ei.jsx)(Jr,{})})]}),jx=n.p+"static/media/gemini.f7cdbac4ca387dc75bf7.png",Ux=()=>(0,ei.jsx)("div",{className:"mt-auto flex flex-col justify-center items-center text-neon-green text-sm p-2",children:(0,ei.jsxs)("div",{className:"flex items-center mb-0",children:[(0,ei.jsx)("p",{className:"text-neon-green text-xs mr-2 z-10",children:"Powered by"}),(0,ei.jsx)("img",{src:jx,alt:"Google Gemini Logo",className:"inline-block max-w-[80px] max-h-[100px] object-contain -ml-0 z-0"})]})});const zx=function(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),a=In(),l=T();return(0,ei.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-b from-dark-bg via-dark-secondary to-black",children:(0,ei.jsxs)("div",{className:"text-center",children:[(0,ei.jsx)("img",{src:"/logo512.png",alt:"Game Logo",className:"w-24 h-24 mx-auto mb-6"}),(0,ei.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await fetch(`${Cx.API_BASE_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),n=await t.json();n.success?(console.log("Login successful"),l(Ke()),a("/",{replace:!0})):(console.log("Login failed"),o(n.message||"Invalid credentials"))}catch(n){console.error("Login error:",n),o("Something went wrong. Please try again.")}},className:"bg-dark-secondary p-8 rounded shadow-md text-neon-green",children:[(0,ei.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Enter"}),s&&(0,ei.jsx)("p",{className:"text-red-500 mb-4",children:s}),(0,ei.jsxs)("div",{className:"mb-4",children:[(0,ei.jsx)("label",{className:"block text-sm mb-2"}),(0,ei.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full p-2 bg-black border border-neon-green rounded",placeholder:"Username"})]}),(0,ei.jsxs)("div",{className:"mb-4",children:[(0,ei.jsx)("label",{className:"block text-sm mb-2"}),(0,ei.jsx)("input",{type:"password",value:r,onChange:e=>i(e.target.value),className:"w-full p-2 bg-black border border-neon-green rounded",placeholder:"Password"})]}),(0,ei.jsx)("button",{type:"submit",className:"w-full py-2 bg-neon-green text-dark-secondary rounded font-bold",children:"Access the Realm"})]})]})})};const Vx=function(){const e=m((e=>e.auth.isAuthenticated));return(0,ei.jsx)(Tr,{children:(0,ei.jsx)("div",{className:"bg-gradient-to-b from-dark-bg via-dark-secondary to-black min-h-screen text-neon-green",children:e?(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)(ti,{}),(0,ei.jsx)("main",{className:"container mx-auto p-1 flex flex-wrap items-start",children:(0,ei.jsxs)(Wn,{children:[(0,ei.jsx)(qn,{path:"/",element:(0,ei.jsxs)("div",{className:"flex flex-wrap",children:[(0,ei.jsxs)("div",{className:"w-full md:w-1/4 p-4 flex flex-col justify-start",children:[(0,ei.jsx)("div",{className:"text-neon-green text-5xl font-bold mt-[-80px] mb-8 text-center",children:"Littlefinger"}),(0,ei.jsxs)("div",{className:"gap-3 mb-0",children:[(0,ei.jsx)(Px,{}),(0,ei.jsx)(Rx,{}),(0,ei.jsx)(Mx,{}),(0,ei.jsx)(Ux,{})]})]}),(0,ei.jsx)("div",{className:"w-full md:w-1/2 p-4 flex flex-col justify-start",children:(0,ei.jsx)(Nx,{})}),(0,ei.jsxs)("div",{className:"w-full md:w-1/4 p-4 flex flex-col justify-start gap-4",children:[(0,ei.jsx)(Ix,{}),(0,ei.jsx)(Ox,{}),(0,ei.jsx)(Fx,{})]})]})}),(0,ei.jsx)(qn,{path:"/about",element:(0,ei.jsx)(Bx,{})}),(0,ei.jsx)(qn,{path:"/faq",element:(0,ei.jsx)(Dx,{})}),(0,ei.jsx)(qn,{path:"/terms",element:(0,ei.jsx)(Lx,{})}),(0,ei.jsx)(qn,{path:"*",element:(0,ei.jsx)(Qn,{to:"/"})})]})})]}):(0,ei.jsxs)(Wn,{children:[(0,ei.jsx)(qn,{path:"/login",element:(0,ei.jsx)(zx,{})}),(0,ei.jsx)(qn,{path:"*",element:(0,ei.jsx)(Qn,{to:"/login"})})]})})})},Hx=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,ei.jsx)(t.StrictMode,{children:(0,ei.jsxs)(x,{store:Rt,children:[" ",(0,ei.jsx)(Vx,{})]})})),Hx()})()})();
//# sourceMappingURL=main.ff7208c7.js.map